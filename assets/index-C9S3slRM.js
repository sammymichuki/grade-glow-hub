var bN=Object.defineProperty;var qb=n=>{throw TypeError(n)};var SN=(n,e,t)=>e in n?bN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var re=(n,e,t)=>SN(n,typeof e!="symbol"?e+"":e,t),Ev=(n,e,t)=>e.has(n)||qb("Cannot "+t);var c=(n,e,t)=>(Ev(n,e,"read from private field"),t?t.call(n):e.get(n)),_=(n,e,t)=>e.has(n)?qb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),A=(n,e,t,s)=>(Ev(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),C=(n,e,t)=>(Ev(n,e,"access private method"),t);var _t=(n,e,t,s)=>({set _(r){A(n,e,r,t)},get _(){return c(n,e,s)}});function AN(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in n)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function rw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var FA={exports:{}},Tg={},OA={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf=Symbol.for("react.element"),EN=Symbol.for("react.portal"),CN=Symbol.for("react.fragment"),_N=Symbol.for("react.strict_mode"),TN=Symbol.for("react.profiler"),PN=Symbol.for("react.provider"),kN=Symbol.for("react.context"),RN=Symbol.for("react.forward_ref"),NN=Symbol.for("react.suspense"),MN=Symbol.for("react.memo"),LN=Symbol.for("react.lazy"),Kb=Symbol.iterator;function IN(n){return n===null||typeof n!="object"?null:(n=Kb&&n[Kb]||n["@@iterator"],typeof n=="function"?n:null)}var BA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HA=Object.assign,zA={};function zu(n,e,t){this.props=n,this.context=e,this.refs=zA,this.updater=t||BA}zu.prototype.isReactComponent={};zu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};zu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function $A(){}$A.prototype=zu.prototype;function iw(n,e,t){this.props=n,this.context=e,this.refs=zA,this.updater=t||BA}var ow=iw.prototype=new $A;ow.constructor=iw;HA(ow,zu.prototype);ow.isPureReactComponent=!0;var Yb=Array.isArray,UA=Object.prototype.hasOwnProperty,aw={current:null},VA={key:!0,ref:!0,__self:!0,__source:!0};function WA(n,e,t){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)UA.call(e,s)&&!VA.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(s in a=n.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Bf,type:n,key:i,ref:o,props:r,_owner:aw.current}}function DN(n,e){return{$$typeof:Bf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function lw(n){return typeof n=="object"&&n!==null&&n.$$typeof===Bf}function jN(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Xb=/\/+/g;function Cv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?jN(""+n.key):e.toString(36)}function Lp(n,e,t,s,r){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Bf:case EN:o=!0}}if(o)return o=n,r=r(o),n=s===""?"."+Cv(o,0):s,Yb(r)?(t="",n!=null&&(t=n.replace(Xb,"$&/")+"/"),Lp(r,e,t,"",function(u){return u})):r!=null&&(lw(r)&&(r=DN(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Xb,"$&/")+"/")+n)),e.push(r)),1;if(o=0,s=s===""?".":s+":",Yb(n))for(var a=0;a<n.length;a++){i=n[a];var l=s+Cv(i,a);o+=Lp(i,e,t,l,r)}else if(l=IN(n),typeof l=="function")for(n=l.call(n),a=0;!(i=n.next()).done;)i=i.value,l=s+Cv(i,a++),o+=Lp(i,e,t,l,r);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tp(n,e,t){if(n==null)return n;var s=[],r=0;return Lp(n,s,"","",function(i){return e.call(t,i,r++)}),s}function FN(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var pn={current:null},Ip={transition:null},ON={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Ip,ReactCurrentOwner:aw};function GA(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:tp,forEach:function(n,e,t){tp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return tp(n,function(){e++}),e},toArray:function(n){return tp(n,function(e){return e})||[]},only:function(n){if(!lw(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};xe.Component=zu;xe.Fragment=CN;xe.Profiler=TN;xe.PureComponent=iw;xe.StrictMode=_N;xe.Suspense=NN;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ON;xe.act=GA;xe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=HA({},n.props),r=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=aw.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)UA.call(e,l)&&!VA.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Bf,type:n.type,key:r,ref:i,props:s,_owner:o}};xe.createContext=function(n){return n={$$typeof:kN,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:PN,_context:n},n.Consumer=n};xe.createElement=WA;xe.createFactory=function(n){var e=WA.bind(null,n);return e.type=n,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(n){return{$$typeof:RN,render:n}};xe.isValidElement=lw;xe.lazy=function(n){return{$$typeof:LN,_payload:{_status:-1,_result:n},_init:FN}};xe.memo=function(n,e){return{$$typeof:MN,type:n,compare:e===void 0?null:e}};xe.startTransition=function(n){var e=Ip.transition;Ip.transition={};try{n()}finally{Ip.transition=e}};xe.unstable_act=GA;xe.useCallback=function(n,e){return pn.current.useCallback(n,e)};xe.useContext=function(n){return pn.current.useContext(n)};xe.useDebugValue=function(){};xe.useDeferredValue=function(n){return pn.current.useDeferredValue(n)};xe.useEffect=function(n,e){return pn.current.useEffect(n,e)};xe.useId=function(){return pn.current.useId()};xe.useImperativeHandle=function(n,e,t){return pn.current.useImperativeHandle(n,e,t)};xe.useInsertionEffect=function(n,e){return pn.current.useInsertionEffect(n,e)};xe.useLayoutEffect=function(n,e){return pn.current.useLayoutEffect(n,e)};xe.useMemo=function(n,e){return pn.current.useMemo(n,e)};xe.useReducer=function(n,e,t){return pn.current.useReducer(n,e,t)};xe.useRef=function(n){return pn.current.useRef(n)};xe.useState=function(n){return pn.current.useState(n)};xe.useSyncExternalStore=function(n,e,t){return pn.current.useSyncExternalStore(n,e,t)};xe.useTransition=function(){return pn.current.useTransition()};xe.version="18.3.1";OA.exports=xe;var b=OA.exports;const W=rw(b),qA=AN({__proto__:null,default:W},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BN=b,HN=Symbol.for("react.element"),zN=Symbol.for("react.fragment"),$N=Object.prototype.hasOwnProperty,UN=BN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VN={key:!0,ref:!0,__self:!0,__source:!0};function KA(n,e,t){var s,r={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)$N.call(e,s)&&!VN.hasOwnProperty(s)&&(r[s]=e[s]);if(n&&n.defaultProps)for(s in e=n.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:HN,type:n,key:i,ref:o,props:r,_owner:UN.current}}Tg.Fragment=zN;Tg.jsx=KA;Tg.jsxs=KA;FA.exports=Tg;var p=FA.exports,YA={exports:{}},Qn={},XA={exports:{}},QA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,B){var q=N.length;N.push(B);e:for(;0<q;){var U=q-1>>>1,K=N[U];if(0<r(K,B))N[U]=B,N[q]=K,q=U;else break e}}function t(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var B=N[0],q=N.pop();if(q!==B){N[0]=q;e:for(var U=0,K=N.length,J=K>>>1;U<J;){var se=2*(U+1)-1,Re=N[se],ee=se+1,V=N[ee];if(0>r(Re,q))ee<K&&0>r(V,Re)?(N[U]=V,N[ee]=q,U=ee):(N[U]=Re,N[se]=q,U=se);else if(ee<K&&0>r(V,q))N[U]=V,N[ee]=q,U=ee;else break e}}return B}function r(N,B){var q=N.sortIndex-B.sortIndex;return q!==0?q:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,v=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var B=t(u);B!==null;){if(B.callback===null)s(u);else if(B.startTime<=N)s(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=t(u)}}function E(N){if(g=!1,w(N),!v)if(t(l)!==null)v=!0,j(T);else{var B=t(u);B!==null&&F(E,B.startTime-N)}}function T(N,B){v=!1,g&&(g=!1,y(R),R=-1),m=!0;var q=h;try{for(w(B),f=t(l);f!==null&&(!(f.expirationTime>B)||N&&!D());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var K=U(f.expirationTime<=B);B=n.unstable_now(),typeof K=="function"?f.callback=K:f===t(l)&&s(l),w(B)}else s(l);f=t(l)}if(f!==null)var J=!0;else{var se=t(u);se!==null&&F(E,se.startTime-B),J=!1}return J}finally{f=null,h=q,m=!1}}var P=!1,k=null,R=-1,M=5,L=-1;function D(){return!(n.unstable_now()-L<M)}function O(){if(k!==null){var N=n.unstable_now();L=N;var B=!0;try{B=k(!0,N)}finally{B?H():(P=!1,k=null)}}else P=!1}var H;if(typeof x=="function")H=function(){x(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=O,H=function(){$.postMessage(null)}}else H=function(){S(O,0)};function j(N){k=N,P||(P=!0,H())}function F(N,B){R=S(function(){N(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,j(T))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var q=h;h=B;try{return N()}finally{h=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var q=h;h=N;try{return B()}finally{h=q}},n.unstable_scheduleCallback=function(N,B,q){var U=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?U+q:U):q=U,N){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=q+K,N={id:d++,callback:B,priorityLevel:N,startTime:q,expirationTime:K,sortIndex:-1},q>U?(N.sortIndex=q,e(u,N),t(l)===null&&N===t(u)&&(g?(y(R),R=-1):g=!0,F(E,q-U))):(N.sortIndex=K,e(l,N),v||m||(v=!0,j(T))),N},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(N){var B=h;return function(){var q=h;h=B;try{return N.apply(this,arguments)}finally{h=q}}}})(QA);XA.exports=QA;var WN=XA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN=b,Xn=WN;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JA=new Set,qd={};function El(n,e){Ru(n,e),Ru(n+"Capture",e)}function Ru(n,e){for(qd[n]=e,n=0;n<e.length;n++)JA.add(e[n])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wy=Object.prototype.hasOwnProperty,qN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qb={},Jb={};function KN(n){return wy.call(Jb,n)?!0:wy.call(Qb,n)?!1:qN.test(n)?Jb[n]=!0:(Qb[n]=!0,!1)}function YN(n,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function XN(n,e,t,s){if(e===null||typeof e>"u"||YN(n,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(n,e,t,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$t[n]=new mn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];$t[e]=new mn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){$t[n]=new mn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$t[n]=new mn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$t[n]=new mn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){$t[n]=new mn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){$t[n]=new mn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){$t[n]=new mn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){$t[n]=new mn(n,5,!1,n.toLowerCase(),null,!1,!1)});var cw=/[\-:]([a-z])/g;function uw(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(cw,uw);$t[e]=new mn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(cw,uw);$t[e]=new mn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(cw,uw);$t[e]=new mn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){$t[n]=new mn(n,1,!1,n.toLowerCase(),null,!1,!1)});$t.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){$t[n]=new mn(n,1,!1,n.toLowerCase(),null,!0,!0)});function dw(n,e,t,s){var r=$t.hasOwnProperty(e)?$t[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XN(e,t,r,s)&&(t=null),s||r===null?KN(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,s=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,s?n.setAttributeNS(s,e,t):n.setAttribute(e,t))))}var Ai=GN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,np=Symbol.for("react.element"),Ql=Symbol.for("react.portal"),Jl=Symbol.for("react.fragment"),hw=Symbol.for("react.strict_mode"),by=Symbol.for("react.profiler"),ZA=Symbol.for("react.provider"),eE=Symbol.for("react.context"),fw=Symbol.for("react.forward_ref"),Sy=Symbol.for("react.suspense"),Ay=Symbol.for("react.suspense_list"),pw=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),tE=Symbol.for("react.offscreen"),Zb=Symbol.iterator;function Zu(n){return n===null||typeof n!="object"?null:(n=Zb&&n[Zb]||n["@@iterator"],typeof n=="function"?n:null)}var st=Object.assign,_v;function hd(n){if(_v===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);_v=e&&e[1]||""}return`
`+_v+n}var Tv=!1;function Pv(n,e){if(!n||Tv)return"";Tv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){s=u}n.call(e.prototype)}else{try{throw Error()}catch(u){s=u}n()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Tv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?hd(n):""}function QN(n){switch(n.tag){case 5:return hd(n.type);case 16:return hd("Lazy");case 13:return hd("Suspense");case 19:return hd("SuspenseList");case 0:case 2:case 15:return n=Pv(n.type,!1),n;case 11:return n=Pv(n.type.render,!1),n;case 1:return n=Pv(n.type,!0),n;default:return""}}function Ey(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Jl:return"Fragment";case Ql:return"Portal";case by:return"Profiler";case hw:return"StrictMode";case Sy:return"Suspense";case Ay:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case eE:return(n.displayName||"Context")+".Consumer";case ZA:return(n._context.displayName||"Context")+".Provider";case fw:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case pw:return e=n.displayName||null,e!==null?e:Ey(n.type)||"Memo";case Di:e=n._payload,n=n._init;try{return Ey(n(e))}catch{}}return null}function JN(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ey(e);case 8:return e===hw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function nE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZN(n){var e=nE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),s=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function sp(n){n._valueTracker||(n._valueTracker=ZN(n))}function sE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return n&&(s=nE(n)?n.checked?"true":"false":n.value),n=s,n!==t?(e.setValue(n),!0):!1}function _m(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Cy(n,e){var t=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function e1(n,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=Mo(e.value!=null?e.value:t),n._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rE(n,e){e=e.checked,e!=null&&dw(n,"checked",e,!1)}function _y(n,e){rE(n,e);var t=Mo(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Ty(n,e.type,t):e.hasOwnProperty("defaultValue")&&Ty(n,e.type,Mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function t1(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Ty(n,e,t){(e!=="number"||_m(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var fd=Array.isArray;function uc(n,e,t,s){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&s&&(n[t].defaultSelected=!0)}else{for(t=""+Mo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,s&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Py(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function n1(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(z(92));if(fd(t)){if(1<t.length)throw Error(z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Mo(t)}}function iE(n,e){var t=Mo(e.value),s=Mo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),s!=null&&(n.defaultValue=""+s)}function s1(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function oE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ky(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?oE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var rp,aE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,s,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(rp=rp||document.createElement("div"),rp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Kd(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Id={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eM=["Webkit","ms","Moz","O"];Object.keys(Id).forEach(function(n){eM.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Id[e]=Id[n]})});function lE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Id.hasOwnProperty(n)&&Id[n]?(""+e).trim():e+"px"}function cE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,r=lE(t,e[t],s);t==="float"&&(t="cssFloat"),s?n.setProperty(t,r):n[t]=r}}var tM=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ry(n,e){if(e){if(tM[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ny(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var My=null;function mw(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ly=null,dc=null,hc=null;function r1(n){if(n=$f(n)){if(typeof Ly!="function")throw Error(z(280));var e=n.stateNode;e&&(e=Mg(e),Ly(n.stateNode,n.type,e))}}function uE(n){dc?hc?hc.push(n):hc=[n]:dc=n}function dE(){if(dc){var n=dc,e=hc;if(hc=dc=null,r1(n),e)for(n=0;n<e.length;n++)r1(e[n])}}function hE(n,e){return n(e)}function fE(){}var kv=!1;function pE(n,e,t){if(kv)return n(e,t);kv=!0;try{return hE(n,e,t)}finally{kv=!1,(dc!==null||hc!==null)&&(fE(),dE())}}function Yd(n,e){var t=n.stateNode;if(t===null)return null;var s=Mg(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(z(231,e,typeof t));return t}var Iy=!1;if(mi)try{var ed={};Object.defineProperty(ed,"passive",{get:function(){Iy=!0}}),window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch{Iy=!1}function nM(n,e,t,s,r,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Dd=!1,Tm=null,Pm=!1,Dy=null,sM={onError:function(n){Dd=!0,Tm=n}};function rM(n,e,t,s,r,i,o,a,l){Dd=!1,Tm=null,nM.apply(sM,arguments)}function iM(n,e,t,s,r,i,o,a,l){if(rM.apply(this,arguments),Dd){if(Dd){var u=Tm;Dd=!1,Tm=null}else throw Error(z(198));Pm||(Pm=!0,Dy=u)}}function Cl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function mE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function i1(n){if(Cl(n)!==n)throw Error(z(188))}function oM(n){var e=n.alternate;if(!e){if(e=Cl(n),e===null)throw Error(z(188));return e!==n?null:n}for(var t=n,s=e;;){var r=t.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){t=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===t)return i1(r),n;if(i===s)return i1(r),e;i=i.sibling}throw Error(z(188))}if(t.return!==s.return)t=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,s=i;break}if(a===s){o=!0,s=r,t=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===t){o=!0,t=i,s=r;break}if(a===s){o=!0,s=i,t=r;break}a=a.sibling}if(!o)throw Error(z(189))}}if(t.alternate!==s)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?n:e}function gE(n){return n=oM(n),n!==null?vE(n):null}function vE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=vE(n);if(e!==null)return e;n=n.sibling}return null}var yE=Xn.unstable_scheduleCallback,o1=Xn.unstable_cancelCallback,aM=Xn.unstable_shouldYield,lM=Xn.unstable_requestPaint,ut=Xn.unstable_now,cM=Xn.unstable_getCurrentPriorityLevel,gw=Xn.unstable_ImmediatePriority,xE=Xn.unstable_UserBlockingPriority,km=Xn.unstable_NormalPriority,uM=Xn.unstable_LowPriority,wE=Xn.unstable_IdlePriority,Pg=null,br=null;function dM(n){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(Pg,n,void 0,(n.current.flags&128)===128)}catch{}}var Hs=Math.clz32?Math.clz32:pM,hM=Math.log,fM=Math.LN2;function pM(n){return n>>>=0,n===0?32:31-(hM(n)/fM|0)|0}var ip=64,op=4194304;function pd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Rm(n,e){var t=n.pendingLanes;if(t===0)return 0;var s=0,r=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?s=pd(a):(i&=o,i!==0&&(s=pd(i)))}else o=t&~r,o!==0?s=pd(o):i!==0&&(s=pd(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=s;0<e;)t=31-Hs(e),r=1<<t,s|=n[t],e&=~r;return s}function mM(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gM(n,e){for(var t=n.suspendedLanes,s=n.pingedLanes,r=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-Hs(i),a=1<<o,l=r[o];l===-1?(!(a&t)||a&s)&&(r[o]=mM(a,e)):l<=e&&(n.expiredLanes|=a),i&=~a}}function jy(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function bE(){var n=ip;return ip<<=1,!(ip&4194240)&&(ip=64),n}function Rv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Hf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Hs(e),n[e]=t}function vM(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Hs(t),i=1<<r;e[r]=0,s[r]=-1,n[r]=-1,t&=~i}}function vw(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var s=31-Hs(t),r=1<<s;r&e|n[s]&e&&(n[s]|=e),t&=~r}}var De=0;function SE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var AE,yw,EE,CE,_E,Fy=!1,ap=[],Ao=null,Eo=null,Co=null,Xd=new Map,Qd=new Map,Fi=[],yM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function a1(n,e){switch(n){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":Xd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qd.delete(e.pointerId)}}function td(n,e,t,s,r,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=$f(e),e!==null&&yw(e)),n):(n.eventSystemFlags|=s,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function xM(n,e,t,s,r){switch(e){case"focusin":return Ao=td(Ao,n,e,t,s,r),!0;case"dragenter":return Eo=td(Eo,n,e,t,s,r),!0;case"mouseover":return Co=td(Co,n,e,t,s,r),!0;case"pointerover":var i=r.pointerId;return Xd.set(i,td(Xd.get(i)||null,n,e,t,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Qd.set(i,td(Qd.get(i)||null,n,e,t,s,r)),!0}return!1}function TE(n){var e=ia(n.target);if(e!==null){var t=Cl(e);if(t!==null){if(e=t.tag,e===13){if(e=mE(t),e!==null){n.blockedOn=e,_E(n.priority,function(){EE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Dp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Oy(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var s=new t.constructor(t.type,t);My=s,t.target.dispatchEvent(s),My=null}else return e=$f(t),e!==null&&yw(e),n.blockedOn=t,!1;e.shift()}return!0}function l1(n,e,t){Dp(n)&&t.delete(e)}function wM(){Fy=!1,Ao!==null&&Dp(Ao)&&(Ao=null),Eo!==null&&Dp(Eo)&&(Eo=null),Co!==null&&Dp(Co)&&(Co=null),Xd.forEach(l1),Qd.forEach(l1)}function nd(n,e){n.blockedOn===e&&(n.blockedOn=null,Fy||(Fy=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,wM)))}function Jd(n){function e(r){return nd(r,n)}if(0<ap.length){nd(ap[0],n);for(var t=1;t<ap.length;t++){var s=ap[t];s.blockedOn===n&&(s.blockedOn=null)}}for(Ao!==null&&nd(Ao,n),Eo!==null&&nd(Eo,n),Co!==null&&nd(Co,n),Xd.forEach(e),Qd.forEach(e),t=0;t<Fi.length;t++)s=Fi[t],s.blockedOn===n&&(s.blockedOn=null);for(;0<Fi.length&&(t=Fi[0],t.blockedOn===null);)TE(t),t.blockedOn===null&&Fi.shift()}var fc=Ai.ReactCurrentBatchConfig,Nm=!0;function bM(n,e,t,s){var r=De,i=fc.transition;fc.transition=null;try{De=1,xw(n,e,t,s)}finally{De=r,fc.transition=i}}function SM(n,e,t,s){var r=De,i=fc.transition;fc.transition=null;try{De=4,xw(n,e,t,s)}finally{De=r,fc.transition=i}}function xw(n,e,t,s){if(Nm){var r=Oy(n,e,t,s);if(r===null)Hv(n,e,s,Mm,t),a1(n,s);else if(xM(r,n,e,t,s))s.stopPropagation();else if(a1(n,s),e&4&&-1<yM.indexOf(n)){for(;r!==null;){var i=$f(r);if(i!==null&&AE(i),i=Oy(n,e,t,s),i===null&&Hv(n,e,s,Mm,t),i===r)break;r=i}r!==null&&s.stopPropagation()}else Hv(n,e,s,null,t)}}var Mm=null;function Oy(n,e,t,s){if(Mm=null,n=mw(s),n=ia(n),n!==null)if(e=Cl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=mE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Mm=n,null}function PE(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cM()){case gw:return 1;case xE:return 4;case km:case uM:return 16;case wE:return 536870912;default:return 16}default:return 16}}var xo=null,ww=null,jp=null;function kE(){if(jp)return jp;var n,e=ww,t=e.length,s,r="value"in xo?xo.value:xo.textContent,i=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(s=1;s<=o&&e[t-s]===r[i-s];s++);return jp=r.slice(n,1<s?1-s:void 0)}function Fp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function lp(){return!0}function c1(){return!1}function Jn(n){function e(t,s,r,i,o){this._reactName=t,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?lp:c1,this.isPropagationStopped=c1,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=lp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=lp)},persist:function(){},isPersistent:lp}),e}var $u={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bw=Jn($u),zf=st({},$u,{view:0,detail:0}),AM=Jn(zf),Nv,Mv,sd,kg=st({},zf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sw,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==sd&&(sd&&n.type==="mousemove"?(Nv=n.screenX-sd.screenX,Mv=n.screenY-sd.screenY):Mv=Nv=0,sd=n),Nv)},movementY:function(n){return"movementY"in n?n.movementY:Mv}}),u1=Jn(kg),EM=st({},kg,{dataTransfer:0}),CM=Jn(EM),_M=st({},zf,{relatedTarget:0}),Lv=Jn(_M),TM=st({},$u,{animationName:0,elapsedTime:0,pseudoElement:0}),PM=Jn(TM),kM=st({},$u,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),RM=Jn(kM),NM=st({},$u,{data:0}),d1=Jn(NM),MM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DM(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=IM[n])?!!e[n]:!1}function Sw(){return DM}var jM=st({},zf,{key:function(n){if(n.key){var e=MM[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Fp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?LM[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sw,charCode:function(n){return n.type==="keypress"?Fp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),FM=Jn(jM),OM=st({},kg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h1=Jn(OM),BM=st({},zf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sw}),HM=Jn(BM),zM=st({},$u,{propertyName:0,elapsedTime:0,pseudoElement:0}),$M=Jn(zM),UM=st({},kg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),VM=Jn(UM),WM=[9,13,27,32],Aw=mi&&"CompositionEvent"in window,jd=null;mi&&"documentMode"in document&&(jd=document.documentMode);var GM=mi&&"TextEvent"in window&&!jd,RE=mi&&(!Aw||jd&&8<jd&&11>=jd),f1=" ",p1=!1;function NE(n,e){switch(n){case"keyup":return WM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ME(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Zl=!1;function qM(n,e){switch(n){case"compositionend":return ME(e);case"keypress":return e.which!==32?null:(p1=!0,f1);case"textInput":return n=e.data,n===f1&&p1?null:n;default:return null}}function KM(n,e){if(Zl)return n==="compositionend"||!Aw&&NE(n,e)?(n=kE(),jp=ww=xo=null,Zl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RE&&e.locale!=="ko"?null:e.data;default:return null}}var YM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!YM[n.type]:e==="textarea"}function LE(n,e,t,s){uE(s),e=Lm(e,"onChange"),0<e.length&&(t=new bw("onChange","change",null,t,s),n.push({event:t,listeners:e}))}var Fd=null,Zd=null;function XM(n){VE(n,0)}function Rg(n){var e=nc(n);if(sE(e))return n}function QM(n,e){if(n==="change")return e}var IE=!1;if(mi){var Iv;if(mi){var Dv="oninput"in document;if(!Dv){var g1=document.createElement("div");g1.setAttribute("oninput","return;"),Dv=typeof g1.oninput=="function"}Iv=Dv}else Iv=!1;IE=Iv&&(!document.documentMode||9<document.documentMode)}function v1(){Fd&&(Fd.detachEvent("onpropertychange",DE),Zd=Fd=null)}function DE(n){if(n.propertyName==="value"&&Rg(Zd)){var e=[];LE(e,Zd,n,mw(n)),pE(XM,e)}}function JM(n,e,t){n==="focusin"?(v1(),Fd=e,Zd=t,Fd.attachEvent("onpropertychange",DE)):n==="focusout"&&v1()}function ZM(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Rg(Zd)}function eL(n,e){if(n==="click")return Rg(e)}function tL(n,e){if(n==="input"||n==="change")return Rg(e)}function nL(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var $s=typeof Object.is=="function"?Object.is:nL;function eh(n,e){if($s(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var r=t[s];if(!wy.call(e,r)||!$s(n[r],e[r]))return!1}return!0}function y1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function x1(n,e){var t=y1(n);n=0;for(var s;t;){if(t.nodeType===3){if(s=n+t.textContent.length,n<=e&&s>=e)return{node:t,offset:e-n};n=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=y1(t)}}function jE(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?jE(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function FE(){for(var n=window,e=_m();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=_m(n.document)}return e}function Ew(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function sL(n){var e=FE(),t=n.focusedElem,s=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&jE(t.ownerDocument.documentElement,t)){if(s!==null&&Ew(t)){if(e=s.start,n=s.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!n.extend&&i>s&&(r=s,s=i,i=r),r=x1(t,i);var o=x1(t,s);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),i>s?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var rL=mi&&"documentMode"in document&&11>=document.documentMode,ec=null,By=null,Od=null,Hy=!1;function w1(n,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Hy||ec==null||ec!==_m(s)||(s=ec,"selectionStart"in s&&Ew(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Od&&eh(Od,s)||(Od=s,s=Lm(By,"onSelect"),0<s.length&&(e=new bw("onSelect","select",null,e,t),n.push({event:e,listeners:s}),e.target=ec)))}function cp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var tc={animationend:cp("Animation","AnimationEnd"),animationiteration:cp("Animation","AnimationIteration"),animationstart:cp("Animation","AnimationStart"),transitionend:cp("Transition","TransitionEnd")},jv={},OE={};mi&&(OE=document.createElement("div").style,"AnimationEvent"in window||(delete tc.animationend.animation,delete tc.animationiteration.animation,delete tc.animationstart.animation),"TransitionEvent"in window||delete tc.transitionend.transition);function Ng(n){if(jv[n])return jv[n];if(!tc[n])return n;var e=tc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in OE)return jv[n]=e[t];return n}var BE=Ng("animationend"),HE=Ng("animationiteration"),zE=Ng("animationstart"),$E=Ng("transitionend"),UE=new Map,b1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(n,e){UE.set(n,e),El(e,[n])}for(var Fv=0;Fv<b1.length;Fv++){var Ov=b1[Fv],iL=Ov.toLowerCase(),oL=Ov[0].toUpperCase()+Ov.slice(1);$o(iL,"on"+oL)}$o(BE,"onAnimationEnd");$o(HE,"onAnimationIteration");$o(zE,"onAnimationStart");$o("dblclick","onDoubleClick");$o("focusin","onFocus");$o("focusout","onBlur");$o($E,"onTransitionEnd");Ru("onMouseEnter",["mouseout","mouseover"]);Ru("onMouseLeave",["mouseout","mouseover"]);Ru("onPointerEnter",["pointerout","pointerover"]);Ru("onPointerLeave",["pointerout","pointerover"]);El("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));El("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));El("onBeforeInput",["compositionend","keypress","textInput","paste"]);El("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));El("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));El("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aL=new Set("cancel close invalid load scroll toggle".split(" ").concat(md));function S1(n,e,t){var s=n.type||"unknown-event";n.currentTarget=t,iM(s,e,void 0,n),n.currentTarget=null}function VE(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var s=n[t],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;S1(r,a,u),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;S1(r,a,u),i=l}}}if(Pm)throw n=Dy,Pm=!1,Dy=null,n}function Ge(n,e){var t=e[Wy];t===void 0&&(t=e[Wy]=new Set);var s=n+"__bubble";t.has(s)||(WE(e,n,2,!1),t.add(s))}function Bv(n,e,t){var s=0;e&&(s|=4),WE(t,n,s,e)}var up="_reactListening"+Math.random().toString(36).slice(2);function th(n){if(!n[up]){n[up]=!0,JA.forEach(function(t){t!=="selectionchange"&&(aL.has(t)||Bv(t,!1,n),Bv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[up]||(e[up]=!0,Bv("selectionchange",!1,e))}}function WE(n,e,t,s){switch(PE(e)){case 1:var r=bM;break;case 4:r=SM;break;default:r=xw}t=r.bind(null,e,t,n),r=void 0,!Iy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Hv(n,e,t,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ia(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}pE(function(){var u=i,d=mw(t),f=[];e:{var h=UE.get(n);if(h!==void 0){var m=bw,v=n;switch(n){case"keypress":if(Fp(t)===0)break e;case"keydown":case"keyup":m=FM;break;case"focusin":v="focus",m=Lv;break;case"focusout":v="blur",m=Lv;break;case"beforeblur":case"afterblur":m=Lv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=u1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=CM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HM;break;case BE:case HE:case zE:m=PM;break;case $E:m=$M;break;case"scroll":m=AM;break;case"wheel":m=VM;break;case"copy":case"cut":case"paste":m=RM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=h1}var g=(e&4)!==0,S=!g&&n==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,w;x!==null;){w=x;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,y!==null&&(E=Yd(x,y),E!=null&&g.push(nh(x,E,w)))),S)break;x=x.return}0<g.length&&(h=new m(h,v,null,t,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",h&&t!==My&&(v=t.relatedTarget||t.fromElement)&&(ia(v)||v[gi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=u,v=v?ia(v):null,v!==null&&(S=Cl(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=u1,E="onMouseLeave",y="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(g=h1,E="onPointerLeave",y="onPointerEnter",x="pointer"),S=m==null?h:nc(m),w=v==null?h:nc(v),h=new g(E,x+"leave",m,t,d),h.target=S,h.relatedTarget=w,E=null,ia(d)===u&&(g=new g(y,x+"enter",v,t,d),g.target=w,g.relatedTarget=S,E=g),S=E,m&&v)t:{for(g=m,y=v,x=0,w=g;w;w=Bl(w))x++;for(w=0,E=y;E;E=Bl(E))w++;for(;0<x-w;)g=Bl(g),x--;for(;0<w-x;)y=Bl(y),w--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=Bl(g),y=Bl(y)}g=null}else g=null;m!==null&&A1(f,h,m,g,!1),v!==null&&S!==null&&A1(f,S,v,g,!0)}}e:{if(h=u?nc(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=QM;else if(m1(h))if(IE)T=tL;else{T=ZM;var P=JM}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=eL);if(T&&(T=T(n,u))){LE(f,T,t,d);break e}P&&P(n,h,u),n==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Ty(h,"number",h.value)}switch(P=u?nc(u):window,n){case"focusin":(m1(P)||P.contentEditable==="true")&&(ec=P,By=u,Od=null);break;case"focusout":Od=By=ec=null;break;case"mousedown":Hy=!0;break;case"contextmenu":case"mouseup":case"dragend":Hy=!1,w1(f,t,d);break;case"selectionchange":if(rL)break;case"keydown":case"keyup":w1(f,t,d)}var k;if(Aw)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Zl?NE(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(RE&&t.locale!=="ko"&&(Zl||R!=="onCompositionStart"?R==="onCompositionEnd"&&Zl&&(k=kE()):(xo=d,ww="value"in xo?xo.value:xo.textContent,Zl=!0)),P=Lm(u,R),0<P.length&&(R=new d1(R,n,null,t,d),f.push({event:R,listeners:P}),k?R.data=k:(k=ME(t),k!==null&&(R.data=k)))),(k=GM?qM(n,t):KM(n,t))&&(u=Lm(u,"onBeforeInput"),0<u.length&&(d=new d1("onBeforeInput","beforeinput",null,t,d),f.push({event:d,listeners:u}),d.data=k))}VE(f,e)})}function nh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Lm(n,e){for(var t=e+"Capture",s=[];n!==null;){var r=n,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Yd(n,t),i!=null&&s.unshift(nh(n,i,r)),i=Yd(n,e),i!=null&&s.push(nh(n,i,r))),n=n.return}return s}function Bl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function A1(n,e,t,s,r){for(var i=e._reactName,o=[];t!==null&&t!==s;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,r?(l=Yd(t,i),l!=null&&o.unshift(nh(t,l,a))):r||(l=Yd(t,i),l!=null&&o.push(nh(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var lL=/\r\n?/g,cL=/\u0000|\uFFFD/g;function E1(n){return(typeof n=="string"?n:""+n).replace(lL,`
`).replace(cL,"")}function dp(n,e,t){if(e=E1(e),E1(n)!==e&&t)throw Error(z(425))}function Im(){}var zy=null,$y=null;function Uy(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vy=typeof setTimeout=="function"?setTimeout:void 0,uL=typeof clearTimeout=="function"?clearTimeout:void 0,C1=typeof Promise=="function"?Promise:void 0,dL=typeof queueMicrotask=="function"?queueMicrotask:typeof C1<"u"?function(n){return C1.resolve(null).then(n).catch(hL)}:Vy;function hL(n){setTimeout(function(){throw n})}function zv(n,e){var t=e,s=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(s===0){n.removeChild(r),Jd(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=r}while(t);Jd(e)}function _o(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function _1(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Uu=Math.random().toString(36).slice(2),xr="__reactFiber$"+Uu,sh="__reactProps$"+Uu,gi="__reactContainer$"+Uu,Wy="__reactEvents$"+Uu,fL="__reactListeners$"+Uu,pL="__reactHandles$"+Uu;function ia(n){var e=n[xr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[gi]||t[xr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=_1(n);n!==null;){if(t=n[xr])return t;n=_1(n)}return e}n=t,t=n.parentNode}return null}function $f(n){return n=n[xr]||n[gi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function nc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function Mg(n){return n[sh]||null}var Gy=[],sc=-1;function Uo(n){return{current:n}}function Ke(n){0>sc||(n.current=Gy[sc],Gy[sc]=null,sc--)}function $e(n,e){sc++,Gy[sc]=n.current,n.current=e}var Lo={},tn=Uo(Lo),_n=Uo(!1),dl=Lo;function Nu(n,e){var t=n.type.contextTypes;if(!t)return Lo;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in t)r[i]=e[i];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Tn(n){return n=n.childContextTypes,n!=null}function Dm(){Ke(_n),Ke(tn)}function T1(n,e,t){if(tn.current!==Lo)throw Error(z(168));$e(tn,e),$e(_n,t)}function GE(n,e,t){var s=n.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(z(108,JN(n)||"Unknown",r));return st({},t,s)}function jm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Lo,dl=tn.current,$e(tn,n),$e(_n,_n.current),!0}function P1(n,e,t){var s=n.stateNode;if(!s)throw Error(z(169));t?(n=GE(n,e,dl),s.__reactInternalMemoizedMergedChildContext=n,Ke(_n),Ke(tn),$e(tn,n)):Ke(_n),$e(_n,t)}var jr=null,Lg=!1,$v=!1;function qE(n){jr===null?jr=[n]:jr.push(n)}function mL(n){Lg=!0,qE(n)}function Vo(){if(!$v&&jr!==null){$v=!0;var n=0,e=De;try{var t=jr;for(De=1;n<t.length;n++){var s=t[n];do s=s(!0);while(s!==null)}jr=null,Lg=!1}catch(r){throw jr!==null&&(jr=jr.slice(n+1)),yE(gw,Vo),r}finally{De=e,$v=!1}}return null}var rc=[],ic=0,Fm=null,Om=0,os=[],as=0,hl=null,li=1,ci="";function Qo(n,e){rc[ic++]=Om,rc[ic++]=Fm,Fm=n,Om=e}function KE(n,e,t){os[as++]=li,os[as++]=ci,os[as++]=hl,hl=n;var s=li;n=ci;var r=32-Hs(s)-1;s&=~(1<<r),t+=1;var i=32-Hs(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,li=1<<32-Hs(e)+r|t<<r|s,ci=i+n}else li=1<<i|t<<r|s,ci=n}function Cw(n){n.return!==null&&(Qo(n,1),KE(n,1,0))}function _w(n){for(;n===Fm;)Fm=rc[--ic],rc[ic]=null,Om=rc[--ic],rc[ic]=null;for(;n===hl;)hl=os[--as],os[as]=null,ci=os[--as],os[as]=null,li=os[--as],os[as]=null}var qn=null,Gn=null,Xe=!1,Os=null;function YE(n,e){var t=us(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function k1(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,qn=n,Gn=_o(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,qn=n,Gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=hl!==null?{id:li,overflow:ci}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=us(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,qn=n,Gn=null,!0):!1;default:return!1}}function qy(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ky(n){if(Xe){var e=Gn;if(e){var t=e;if(!k1(n,e)){if(qy(n))throw Error(z(418));e=_o(t.nextSibling);var s=qn;e&&k1(n,e)?YE(s,t):(n.flags=n.flags&-4097|2,Xe=!1,qn=n)}}else{if(qy(n))throw Error(z(418));n.flags=n.flags&-4097|2,Xe=!1,qn=n}}}function R1(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;qn=n}function hp(n){if(n!==qn)return!1;if(!Xe)return R1(n),Xe=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Uy(n.type,n.memoizedProps)),e&&(e=Gn)){if(qy(n))throw XE(),Error(z(418));for(;e;)YE(n,e),e=_o(e.nextSibling)}if(R1(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Gn=_o(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Gn=null}}else Gn=qn?_o(n.stateNode.nextSibling):null;return!0}function XE(){for(var n=Gn;n;)n=_o(n.nextSibling)}function Mu(){Gn=qn=null,Xe=!1}function Tw(n){Os===null?Os=[n]:Os.push(n)}var gL=Ai.ReactCurrentBatchConfig;function rd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var s=t.stateNode}if(!s)throw Error(z(147,n));var r=s,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,n))}return n}function fp(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function N1(n){var e=n._init;return e(n._payload)}function QE(n){function e(y,x){if(n){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function t(y,x){if(!n)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function s(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function r(y,x){return y=Ro(y,x),y.index=0,y.sibling=null,y}function i(y,x,w){return y.index=w,n?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,x,w,E){return x===null||x.tag!==6?(x=Yv(w,y.mode,E),x.return=y,x):(x=r(x,w),x.return=y,x)}function l(y,x,w,E){var T=w.type;return T===Jl?d(y,x,w.props.children,E,w.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Di&&N1(T)===x.type)?(E=r(x,w.props),E.ref=rd(y,x,w),E.return=y,E):(E=Vp(w.type,w.key,w.props,null,y.mode,E),E.ref=rd(y,x,w),E.return=y,E)}function u(y,x,w,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Xv(w,y.mode,E),x.return=y,x):(x=r(x,w.children||[]),x.return=y,x)}function d(y,x,w,E,T){return x===null||x.tag!==7?(x=ul(w,y.mode,E,T),x.return=y,x):(x=r(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Yv(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case np:return w=Vp(x.type,x.key,x.props,null,y.mode,w),w.ref=rd(y,null,x),w.return=y,w;case Ql:return x=Xv(x,y.mode,w),x.return=y,x;case Di:var E=x._init;return f(y,E(x._payload),w)}if(fd(x)||Zu(x))return x=ul(x,y.mode,w,null),x.return=y,x;fp(y,x)}return null}function h(y,x,w,E){var T=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(y,x,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case np:return w.key===T?l(y,x,w,E):null;case Ql:return w.key===T?u(y,x,w,E):null;case Di:return T=w._init,h(y,x,T(w._payload),E)}if(fd(w)||Zu(w))return T!==null?null:d(y,x,w,E,null);fp(y,w)}return null}function m(y,x,w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(w)||null,a(x,y,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case np:return y=y.get(E.key===null?w:E.key)||null,l(x,y,E,T);case Ql:return y=y.get(E.key===null?w:E.key)||null,u(x,y,E,T);case Di:var P=E._init;return m(y,x,w,P(E._payload),T)}if(fd(E)||Zu(E))return y=y.get(w)||null,d(x,y,E,T,null);fp(x,E)}return null}function v(y,x,w,E){for(var T=null,P=null,k=x,R=x=0,M=null;k!==null&&R<w.length;R++){k.index>R?(M=k,k=null):M=k.sibling;var L=h(y,k,w[R],E);if(L===null){k===null&&(k=M);break}n&&k&&L.alternate===null&&e(y,k),x=i(L,x,R),P===null?T=L:P.sibling=L,P=L,k=M}if(R===w.length)return t(y,k),Xe&&Qo(y,R),T;if(k===null){for(;R<w.length;R++)k=f(y,w[R],E),k!==null&&(x=i(k,x,R),P===null?T=k:P.sibling=k,P=k);return Xe&&Qo(y,R),T}for(k=s(y,k);R<w.length;R++)M=m(k,y,R,w[R],E),M!==null&&(n&&M.alternate!==null&&k.delete(M.key===null?R:M.key),x=i(M,x,R),P===null?T=M:P.sibling=M,P=M);return n&&k.forEach(function(D){return e(y,D)}),Xe&&Qo(y,R),T}function g(y,x,w,E){var T=Zu(w);if(typeof T!="function")throw Error(z(150));if(w=T.call(w),w==null)throw Error(z(151));for(var P=T=null,k=x,R=x=0,M=null,L=w.next();k!==null&&!L.done;R++,L=w.next()){k.index>R?(M=k,k=null):M=k.sibling;var D=h(y,k,L.value,E);if(D===null){k===null&&(k=M);break}n&&k&&D.alternate===null&&e(y,k),x=i(D,x,R),P===null?T=D:P.sibling=D,P=D,k=M}if(L.done)return t(y,k),Xe&&Qo(y,R),T;if(k===null){for(;!L.done;R++,L=w.next())L=f(y,L.value,E),L!==null&&(x=i(L,x,R),P===null?T=L:P.sibling=L,P=L);return Xe&&Qo(y,R),T}for(k=s(y,k);!L.done;R++,L=w.next())L=m(k,y,R,L.value,E),L!==null&&(n&&L.alternate!==null&&k.delete(L.key===null?R:L.key),x=i(L,x,R),P===null?T=L:P.sibling=L,P=L);return n&&k.forEach(function(O){return e(y,O)}),Xe&&Qo(y,R),T}function S(y,x,w,E){if(typeof w=="object"&&w!==null&&w.type===Jl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case np:e:{for(var T=w.key,P=x;P!==null;){if(P.key===T){if(T=w.type,T===Jl){if(P.tag===7){t(y,P.sibling),x=r(P,w.props.children),x.return=y,y=x;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Di&&N1(T)===P.type){t(y,P.sibling),x=r(P,w.props),x.ref=rd(y,P,w),x.return=y,y=x;break e}t(y,P);break}else e(y,P);P=P.sibling}w.type===Jl?(x=ul(w.props.children,y.mode,E,w.key),x.return=y,y=x):(E=Vp(w.type,w.key,w.props,null,y.mode,E),E.ref=rd(y,x,w),E.return=y,y=E)}return o(y);case Ql:e:{for(P=w.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){t(y,x.sibling),x=r(x,w.children||[]),x.return=y,y=x;break e}else{t(y,x);break}else e(y,x);x=x.sibling}x=Xv(w,y.mode,E),x.return=y,y=x}return o(y);case Di:return P=w._init,S(y,x,P(w._payload),E)}if(fd(w))return v(y,x,w,E);if(Zu(w))return g(y,x,w,E);fp(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(t(y,x.sibling),x=r(x,w),x.return=y,y=x):(t(y,x),x=Yv(w,y.mode,E),x.return=y,y=x),o(y)):t(y,x)}return S}var Lu=QE(!0),JE=QE(!1),Bm=Uo(null),Hm=null,oc=null,Pw=null;function kw(){Pw=oc=Hm=null}function Rw(n){var e=Bm.current;Ke(Bm),n._currentValue=e}function Yy(n,e,t){for(;n!==null;){var s=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),n===t)break;n=n.return}}function pc(n,e){Hm=n,Pw=oc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(En=!0),n.firstContext=null)}function fs(n){var e=n._currentValue;if(Pw!==n)if(n={context:n,memoizedValue:e,next:null},oc===null){if(Hm===null)throw Error(z(308));oc=n,Hm.dependencies={lanes:0,firstContext:n}}else oc=oc.next=n;return e}var oa=null;function Nw(n){oa===null?oa=[n]:oa.push(n)}function ZE(n,e,t,s){var r=e.interleaved;return r===null?(t.next=t,Nw(e)):(t.next=r.next,r.next=t),e.interleaved=t,vi(n,s)}function vi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ji=!1;function Mw(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eC(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ui(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function To(n,e,t){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,_e&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,vi(n,t)}return r=s.interleaved,r===null?(e.next=e,Nw(s)):(e.next=r.next,r.next=e),s.interleaved=e,vi(n,t)}function Op(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,vw(n,t)}}function M1(n,e){var t=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var r=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?r=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?r=i=e:i=i.next=e}else r=i=e;t={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function zm(n,e,t,s){var r=n.updateQueue;ji=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=r.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,m=a.eventTime;if((s&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,g=a;switch(h=e,m=t,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=st({},f,h);break e;case 2:ji=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(d===null&&(l=f),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);pl|=o,n.lanes=o,n.memoizedState=f}}function L1(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var s=n[e],r=s.callback;if(r!==null){if(s.callback=null,s=t,typeof r!="function")throw Error(z(191,r));r.call(s)}}}var Uf={},Sr=Uo(Uf),rh=Uo(Uf),ih=Uo(Uf);function aa(n){if(n===Uf)throw Error(z(174));return n}function Lw(n,e){switch($e(ih,e),$e(rh,n),$e(Sr,Uf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ky(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ky(e,n)}Ke(Sr),$e(Sr,e)}function Iu(){Ke(Sr),Ke(rh),Ke(ih)}function tC(n){aa(ih.current);var e=aa(Sr.current),t=ky(e,n.type);e!==t&&($e(rh,n),$e(Sr,t))}function Iw(n){rh.current===n&&(Ke(Sr),Ke(rh))}var tt=Uo(0);function $m(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uv=[];function Dw(){for(var n=0;n<Uv.length;n++)Uv[n]._workInProgressVersionPrimary=null;Uv.length=0}var Bp=Ai.ReactCurrentDispatcher,Vv=Ai.ReactCurrentBatchConfig,fl=0,nt=null,St=null,Lt=null,Um=!1,Bd=!1,oh=0,vL=0;function Ut(){throw Error(z(321))}function jw(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!$s(n[t],e[t]))return!1;return!0}function Fw(n,e,t,s,r,i){if(fl=i,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bp.current=n===null||n.memoizedState===null?bL:SL,n=t(s,r),Bd){i=0;do{if(Bd=!1,oh=0,25<=i)throw Error(z(301));i+=1,Lt=St=null,e.updateQueue=null,Bp.current=AL,n=t(s,r)}while(Bd)}if(Bp.current=Vm,e=St!==null&&St.next!==null,fl=0,Lt=St=nt=null,Um=!1,e)throw Error(z(300));return n}function Ow(){var n=oh!==0;return oh=0,n}function Qs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?nt.memoizedState=Lt=n:Lt=Lt.next=n,Lt}function ps(){if(St===null){var n=nt.alternate;n=n!==null?n.memoizedState:null}else n=St.next;var e=Lt===null?nt.memoizedState:Lt.next;if(e!==null)Lt=e,St=n;else{if(n===null)throw Error(z(310));St=n,n={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Lt===null?nt.memoizedState=Lt=n:Lt=Lt.next=n}return Lt}function ah(n,e){return typeof e=="function"?e(n):e}function Wv(n){var e=ps(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var s=St,r=s.baseQueue,i=t.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,t.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((fl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:n(s,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=s):l=l.next=f,nt.lanes|=d,pl|=d}u=u.next}while(u!==null&&u!==i);l===null?o=s:l.next=a,$s(s,e.memoizedState)||(En=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,t.lastRenderedState=s}if(n=t.interleaved,n!==null){r=n;do i=r.lane,nt.lanes|=i,pl|=i,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Gv(n){var e=ps(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var s=t.dispatch,r=t.pending,i=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do i=n(i,o.action),o=o.next;while(o!==r);$s(i,e.memoizedState)||(En=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,s]}function nC(){}function sC(n,e){var t=nt,s=ps(),r=e(),i=!$s(s.memoizedState,r);if(i&&(s.memoizedState=r,En=!0),s=s.queue,Bw(oC.bind(null,t,s,n),[n]),s.getSnapshot!==e||i||Lt!==null&&Lt.memoizedState.tag&1){if(t.flags|=2048,lh(9,iC.bind(null,t,s,r,e),void 0,null),It===null)throw Error(z(349));fl&30||rC(t,e,r)}return r}function rC(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function iC(n,e,t,s){e.value=t,e.getSnapshot=s,aC(e)&&lC(n)}function oC(n,e,t){return t(function(){aC(e)&&lC(n)})}function aC(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!$s(n,t)}catch{return!0}}function lC(n){var e=vi(n,1);e!==null&&zs(e,n,1,-1)}function I1(n){var e=Qs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ah,lastRenderedState:n},e.queue=n,n=n.dispatch=wL.bind(null,nt,n),[e.memoizedState,n]}function lh(n,e,t,s){return n={tag:n,create:e,destroy:t,deps:s,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(s=t.next,t.next=n,n.next=s,e.lastEffect=n)),n}function cC(){return ps().memoizedState}function Hp(n,e,t,s){var r=Qs();nt.flags|=n,r.memoizedState=lh(1|e,t,void 0,s===void 0?null:s)}function Ig(n,e,t,s){var r=ps();s=s===void 0?null:s;var i=void 0;if(St!==null){var o=St.memoizedState;if(i=o.destroy,s!==null&&jw(s,o.deps)){r.memoizedState=lh(e,t,i,s);return}}nt.flags|=n,r.memoizedState=lh(1|e,t,i,s)}function D1(n,e){return Hp(8390656,8,n,e)}function Bw(n,e){return Ig(2048,8,n,e)}function uC(n,e){return Ig(4,2,n,e)}function dC(n,e){return Ig(4,4,n,e)}function hC(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function fC(n,e,t){return t=t!=null?t.concat([n]):null,Ig(4,4,hC.bind(null,e,n),t)}function Hw(){}function pC(n,e){var t=ps();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&jw(e,s[1])?s[0]:(t.memoizedState=[n,e],n)}function mC(n,e){var t=ps();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&jw(e,s[1])?s[0]:(n=n(),t.memoizedState=[n,e],n)}function gC(n,e,t){return fl&21?($s(t,e)||(t=bE(),nt.lanes|=t,pl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,En=!0),n.memoizedState=t)}function yL(n,e){var t=De;De=t!==0&&4>t?t:4,n(!0);var s=Vv.transition;Vv.transition={};try{n(!1),e()}finally{De=t,Vv.transition=s}}function vC(){return ps().memoizedState}function xL(n,e,t){var s=ko(n);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},yC(n))xC(e,t);else if(t=ZE(n,e,t,s),t!==null){var r=un();zs(t,n,s,r),wC(t,e,s)}}function wL(n,e,t){var s=ko(n),r={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(yC(n))xC(e,r);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,t);if(r.hasEagerState=!0,r.eagerState=a,$s(a,o)){var l=e.interleaved;l===null?(r.next=r,Nw(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=ZE(n,e,r,s),t!==null&&(r=un(),zs(t,n,s,r),wC(t,e,s))}}function yC(n){var e=n.alternate;return n===nt||e!==null&&e===nt}function xC(n,e){Bd=Um=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function wC(n,e,t){if(t&4194240){var s=e.lanes;s&=n.pendingLanes,t|=s,e.lanes=t,vw(n,t)}}var Vm={readContext:fs,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},bL={readContext:fs,useCallback:function(n,e){return Qs().memoizedState=[n,e===void 0?null:e],n},useContext:fs,useEffect:D1,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Hp(4194308,4,hC.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Hp(4194308,4,n,e)},useInsertionEffect:function(n,e){return Hp(4,2,n,e)},useMemo:function(n,e){var t=Qs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var s=Qs();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},s.queue=n,n=n.dispatch=xL.bind(null,nt,n),[s.memoizedState,n]},useRef:function(n){var e=Qs();return n={current:n},e.memoizedState=n},useState:I1,useDebugValue:Hw,useDeferredValue:function(n){return Qs().memoizedState=n},useTransition:function(){var n=I1(!1),e=n[0];return n=yL.bind(null,n[1]),Qs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var s=nt,r=Qs();if(Xe){if(t===void 0)throw Error(z(407));t=t()}else{if(t=e(),It===null)throw Error(z(349));fl&30||rC(s,e,t)}r.memoizedState=t;var i={value:t,getSnapshot:e};return r.queue=i,D1(oC.bind(null,s,i,n),[n]),s.flags|=2048,lh(9,iC.bind(null,s,i,t,e),void 0,null),t},useId:function(){var n=Qs(),e=It.identifierPrefix;if(Xe){var t=ci,s=li;t=(s&~(1<<32-Hs(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=oh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=vL++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},SL={readContext:fs,useCallback:pC,useContext:fs,useEffect:Bw,useImperativeHandle:fC,useInsertionEffect:uC,useLayoutEffect:dC,useMemo:mC,useReducer:Wv,useRef:cC,useState:function(){return Wv(ah)},useDebugValue:Hw,useDeferredValue:function(n){var e=ps();return gC(e,St.memoizedState,n)},useTransition:function(){var n=Wv(ah)[0],e=ps().memoizedState;return[n,e]},useMutableSource:nC,useSyncExternalStore:sC,useId:vC,unstable_isNewReconciler:!1},AL={readContext:fs,useCallback:pC,useContext:fs,useEffect:Bw,useImperativeHandle:fC,useInsertionEffect:uC,useLayoutEffect:dC,useMemo:mC,useReducer:Gv,useRef:cC,useState:function(){return Gv(ah)},useDebugValue:Hw,useDeferredValue:function(n){var e=ps();return St===null?e.memoizedState=n:gC(e,St.memoizedState,n)},useTransition:function(){var n=Gv(ah)[0],e=ps().memoizedState;return[n,e]},useMutableSource:nC,useSyncExternalStore:sC,useId:vC,unstable_isNewReconciler:!1};function ws(n,e){if(n&&n.defaultProps){e=st({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Xy(n,e,t,s){e=n.memoizedState,t=t(s,e),t=t==null?e:st({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Dg={isMounted:function(n){return(n=n._reactInternals)?Cl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var s=un(),r=ko(n),i=ui(s,r);i.payload=e,t!=null&&(i.callback=t),e=To(n,i,r),e!==null&&(zs(e,n,r,s),Op(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var s=un(),r=ko(n),i=ui(s,r);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=To(n,i,r),e!==null&&(zs(e,n,r,s),Op(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=un(),s=ko(n),r=ui(t,s);r.tag=2,e!=null&&(r.callback=e),e=To(n,r,s),e!==null&&(zs(e,n,s,t),Op(e,n,s))}};function j1(n,e,t,s,r,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!eh(t,s)||!eh(r,i):!0}function bC(n,e,t){var s=!1,r=Lo,i=e.contextType;return typeof i=="object"&&i!==null?i=fs(i):(r=Tn(e)?dl:tn.current,s=e.contextTypes,i=(s=s!=null)?Nu(n,r):Lo),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dg,n.stateNode=e,e._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=i),e}function F1(n,e,t,s){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==n&&Dg.enqueueReplaceState(e,e.state,null)}function Qy(n,e,t,s){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Mw(n);var i=e.contextType;typeof i=="object"&&i!==null?r.context=fs(i):(i=Tn(e)?dl:tn.current,r.context=Nu(n,i)),r.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Xy(n,e,i,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Dg.enqueueReplaceState(r,r.state,null),zm(n,t,r,s),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Du(n,e){try{var t="",s=e;do t+=QN(s),s=s.return;while(s);var r=t}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:r,digest:null}}function qv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Jy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var EL=typeof WeakMap=="function"?WeakMap:Map;function SC(n,e,t){t=ui(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){Gm||(Gm=!0,l0=s),Jy(n,e)},t}function AC(n,e,t){t=ui(-1,t),t.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;t.payload=function(){return s(r)},t.callback=function(){Jy(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Jy(n,e),typeof s!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function O1(n,e,t){var s=n.pingCache;if(s===null){s=n.pingCache=new EL;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(t)||(r.add(t),n=OL.bind(null,n,e,t),e.then(n,n))}function B1(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function H1(n,e,t,s,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ui(-1,1),e.tag=2,To(t,e,1))),t.lanes|=1),n)}var CL=Ai.ReactCurrentOwner,En=!1;function an(n,e,t,s){e.child=n===null?JE(e,null,t,s):Lu(e,n.child,t,s)}function z1(n,e,t,s,r){t=t.render;var i=e.ref;return pc(e,r),s=Fw(n,e,t,s,i,r),t=Ow(),n!==null&&!En?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,yi(n,e,r)):(Xe&&t&&Cw(e),e.flags|=1,an(n,e,s,r),e.child)}function $1(n,e,t,s,r){if(n===null){var i=t.type;return typeof i=="function"&&!Kw(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,EC(n,e,i,s,r)):(n=Vp(t.type,null,s,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&r)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:eh,t(o,s)&&n.ref===e.ref)return yi(n,e,r)}return e.flags|=1,n=Ro(i,s),n.ref=e.ref,n.return=e,e.child=n}function EC(n,e,t,s,r){if(n!==null){var i=n.memoizedProps;if(eh(i,s)&&n.ref===e.ref)if(En=!1,e.pendingProps=s=i,(n.lanes&r)!==0)n.flags&131072&&(En=!0);else return e.lanes=n.lanes,yi(n,e,r)}return Zy(n,e,t,s,r)}function CC(n,e,t){var s=e.pendingProps,r=s.children,i=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(lc,Un),Un|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,$e(lc,Un),Un|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:t,$e(lc,Un),Un|=s}else i!==null?(s=i.baseLanes|t,e.memoizedState=null):s=t,$e(lc,Un),Un|=s;return an(n,e,r,t),e.child}function _C(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Zy(n,e,t,s,r){var i=Tn(t)?dl:tn.current;return i=Nu(e,i),pc(e,r),t=Fw(n,e,t,s,i,r),s=Ow(),n!==null&&!En?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,yi(n,e,r)):(Xe&&s&&Cw(e),e.flags|=1,an(n,e,t,r),e.child)}function U1(n,e,t,s,r){if(Tn(t)){var i=!0;jm(e)}else i=!1;if(pc(e,r),e.stateNode===null)zp(n,e),bC(e,t,s),Qy(e,t,s,r),s=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=fs(u):(u=Tn(t)?dl:tn.current,u=Nu(e,u));var d=t.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&F1(e,o,s,u),ji=!1;var h=e.memoizedState;o.state=h,zm(e,s,o,r),l=e.memoizedState,a!==s||h!==l||_n.current||ji?(typeof d=="function"&&(Xy(e,t,d,s),l=e.memoizedState),(a=ji||j1(e,t,a,s,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,eC(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:ws(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=fs(l):(l=Tn(t)?dl:tn.current,l=Nu(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&F1(e,o,s,l),ji=!1,h=e.memoizedState,o.state=h,zm(e,s,o,r);var v=e.memoizedState;a!==f||h!==v||_n.current||ji?(typeof m=="function"&&(Xy(e,t,m,s),v=e.memoizedState),(u=ji||j1(e,t,u,s,h,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=v),o.props=s,o.state=v,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),s=!1)}return e0(n,e,t,s,i,r)}function e0(n,e,t,s,r,i){_C(n,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&P1(e,t,!1),yi(n,e,i);s=e.stateNode,CL.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,n!==null&&o?(e.child=Lu(e,n.child,null,i),e.child=Lu(e,null,a,i)):an(n,e,a,i),e.memoizedState=s.state,r&&P1(e,t,!0),e.child}function TC(n){var e=n.stateNode;e.pendingContext?T1(n,e.pendingContext,e.pendingContext!==e.context):e.context&&T1(n,e.context,!1),Lw(n,e.containerInfo)}function V1(n,e,t,s,r){return Mu(),Tw(r),e.flags|=256,an(n,e,t,s),e.child}var t0={dehydrated:null,treeContext:null,retryLane:0};function n0(n){return{baseLanes:n,cachePool:null,transitions:null}}function PC(n,e,t){var s=e.pendingProps,r=tt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),$e(tt,r&1),n===null)return Ky(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,n=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Og(o,s,0,null),n=ul(n,s,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=n0(t),e.memoizedState=t0,n):zw(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return _L(n,e,o,s,a,r,t);if(i){i=s.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Ro(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Ro(a,i):(i=ul(i,o,t,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=n.child.memoizedState,o=o===null?n0(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=t0,s}return i=n.child,n=i.sibling,s=Ro(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=s,e.memoizedState=null,s}function zw(n,e){return e=Og({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function pp(n,e,t,s){return s!==null&&Tw(s),Lu(e,n.child,null,t),n=zw(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function _L(n,e,t,s,r,i,o){if(t)return e.flags&256?(e.flags&=-257,s=qv(Error(z(422))),pp(n,e,o,s)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=Og({mode:"visible",children:s.children},r,0,null),i=ul(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&Lu(e,n.child,null,o),e.child.memoizedState=n0(o),e.memoizedState=t0,i);if(!(e.mode&1))return pp(n,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(z(419)),s=qv(i,s,void 0),pp(n,e,o,s)}if(a=(o&n.childLanes)!==0,En||a){if(s=It,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,vi(n,r),zs(s,n,r,-1))}return qw(),s=qv(Error(z(421))),pp(n,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=BL.bind(null,n),r._reactRetry=e,null):(n=i.treeContext,Gn=_o(r.nextSibling),qn=e,Xe=!0,Os=null,n!==null&&(os[as++]=li,os[as++]=ci,os[as++]=hl,li=n.id,ci=n.overflow,hl=e),e=zw(e,s.children),e.flags|=4096,e)}function W1(n,e,t){n.lanes|=e;var s=n.alternate;s!==null&&(s.lanes|=e),Yy(n.return,e,t)}function Kv(n,e,t,s,r){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=t,i.tailMode=r)}function kC(n,e,t){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(an(n,e,s.children,t),s=tt.current,s&2)s=s&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&W1(n,t,e);else if(n.tag===19)W1(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if($e(tt,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&$m(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Kv(e,!1,r,t,i);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&$m(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Kv(e,!0,t,null,i);break;case"together":Kv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function yi(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),pl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,t=Ro(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ro(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function TL(n,e,t){switch(e.tag){case 3:TC(e),Mu();break;case 5:tC(e);break;case 1:Tn(e.type)&&jm(e);break;case 4:Lw(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;$e(Bm,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?($e(tt,tt.current&1),e.flags|=128,null):t&e.child.childLanes?PC(n,e,t):($e(tt,tt.current&1),n=yi(n,e,t),n!==null?n.sibling:null);$e(tt,tt.current&1);break;case 19:if(s=(t&e.childLanes)!==0,n.flags&128){if(s)return kC(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),$e(tt,tt.current),s)break;return null;case 22:case 23:return e.lanes=0,CC(n,e,t)}return yi(n,e,t)}var RC,s0,NC,MC;RC=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};s0=function(){};NC=function(n,e,t,s){var r=n.memoizedProps;if(r!==s){n=e.stateNode,aa(Sr.current);var i=null;switch(t){case"input":r=Cy(n,r),s=Cy(n,s),i=[];break;case"select":r=st({},r,{value:void 0}),s=st({},s,{value:void 0}),i=[];break;case"textarea":r=Py(n,r),s=Py(n,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=Im)}Ry(t,s);var o;t=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var l=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(i||(i=[]),i.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ge("scroll",n),i||a===l||(i=[])):(i=i||[]).push(u,l))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};MC=function(n,e,t,s){t!==s&&(e.flags|=4)};function id(n,e){if(!Xe)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function Vt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,s=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=s,n.childLanes=t,e}function PL(n,e,t){var s=e.pendingProps;switch(_w(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return Tn(e.type)&&Dm(),Vt(e),null;case 3:return s=e.stateNode,Iu(),Ke(_n),Ke(tn),Dw(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(hp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Os!==null&&(d0(Os),Os=null))),s0(n,e),Vt(e),null;case 5:Iw(e);var r=aa(ih.current);if(t=e.type,n!==null&&e.stateNode!=null)NC(n,e,t,s,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(z(166));return Vt(e),null}if(n=aa(Sr.current),hp(e)){s=e.stateNode,t=e.type;var i=e.memoizedProps;switch(s[xr]=e,s[sh]=i,n=(e.mode&1)!==0,t){case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":case"embed":Ge("load",s);break;case"video":case"audio":for(r=0;r<md.length;r++)Ge(md[r],s);break;case"source":Ge("error",s);break;case"img":case"image":case"link":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"input":e1(s,i),Ge("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",s);break;case"textarea":n1(s,i),Ge("invalid",s)}Ry(t,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&dp(s.textContent,a,n),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&dp(s.textContent,a,n),r=["children",""+a]):qd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",s)}switch(t){case"input":sp(s),t1(s,i,!0);break;case"textarea":sp(s),s1(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Im)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=oE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=o.createElement(t,{is:s.is}):(n=o.createElement(t),t==="select"&&(o=n,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):n=o.createElementNS(n,t),n[xr]=e,n[sh]=s,RC(n,e,!1,!1),e.stateNode=n;e:{switch(o=Ny(t,s),t){case"dialog":Ge("cancel",n),Ge("close",n),r=s;break;case"iframe":case"object":case"embed":Ge("load",n),r=s;break;case"video":case"audio":for(r=0;r<md.length;r++)Ge(md[r],n);r=s;break;case"source":Ge("error",n),r=s;break;case"img":case"image":case"link":Ge("error",n),Ge("load",n),r=s;break;case"details":Ge("toggle",n),r=s;break;case"input":e1(n,s),r=Cy(n,s),Ge("invalid",n);break;case"option":r=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},r=st({},s,{value:void 0}),Ge("invalid",n);break;case"textarea":n1(n,s),r=Py(n,s),Ge("invalid",n);break;default:r=s}Ry(t,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?cE(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aE(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Kd(n,l):typeof l=="number"&&Kd(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ge("scroll",n):l!=null&&dw(n,i,l,o))}switch(t){case"input":sp(n),t1(n,s,!1);break;case"textarea":sp(n),s1(n);break;case"option":s.value!=null&&n.setAttribute("value",""+Mo(s.value));break;case"select":n.multiple=!!s.multiple,i=s.value,i!=null?uc(n,!!s.multiple,i,!1):s.defaultValue!=null&&uc(n,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Im)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(n&&e.stateNode!=null)MC(n,e,n.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(z(166));if(t=aa(ih.current),aa(Sr.current),hp(e)){if(s=e.stateNode,t=e.memoizedProps,s[xr]=e,(i=s.nodeValue!==t)&&(n=qn,n!==null))switch(n.tag){case 3:dp(s.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&dp(s.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[xr]=e,e.stateNode=s}return Vt(e),null;case 13:if(Ke(tt),s=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xe&&Gn!==null&&e.mode&1&&!(e.flags&128))XE(),Mu(),e.flags|=98560,i=!1;else if(i=hp(e),s!==null&&s.dehydrated!==null){if(n===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[xr]=e}else Mu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),i=!1}else Os!==null&&(d0(Os),Os=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(n===null||tt.current&1?Et===0&&(Et=3):qw())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Iu(),s0(n,e),n===null&&th(e.stateNode.containerInfo),Vt(e),null;case 10:return Rw(e.type._context),Vt(e),null;case 17:return Tn(e.type)&&Dm(),Vt(e),null;case 19:if(Ke(tt),i=e.memoizedState,i===null)return Vt(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)id(i,!1);else{if(Et!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=$m(n),o!==null){for(e.flags|=128,id(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)i=t,n=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return $e(tt,tt.current&1|2),e.child}n=n.sibling}i.tail!==null&&ut()>ju&&(e.flags|=128,s=!0,id(i,!1),e.lanes=4194304)}else{if(!s)if(n=$m(o),n!==null){if(e.flags|=128,s=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),id(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xe)return Vt(e),null}else 2*ut()-i.renderingStartTime>ju&&t!==1073741824&&(e.flags|=128,s=!0,id(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,t=tt.current,$e(tt,s?t&1|2:t&1),e):(Vt(e),null);case 22:case 23:return Gw(),s=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Un&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function kL(n,e){switch(_w(e),e.tag){case 1:return Tn(e.type)&&Dm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Iu(),Ke(_n),Ke(tn),Dw(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Iw(e),null;case 13:if(Ke(tt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Mu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ke(tt),null;case 4:return Iu(),null;case 10:return Rw(e.type._context),null;case 22:case 23:return Gw(),null;case 24:return null;default:return null}}var mp=!1,Jt=!1,RL=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ac(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){lt(n,e,s)}else t.current=null}function r0(n,e,t){try{t()}catch(s){lt(n,e,s)}}var G1=!1;function NL(n,e){if(zy=Nm,n=FE(),Ew(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=n,h=null;t:for(;;){for(var m;f!==t||r!==0&&f.nodeType!==3||(a=o+r),f!==i||s!==0&&f.nodeType!==3||(l=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===n)break t;if(h===t&&++u===r&&(a=o),h===i&&++d===s&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for($y={focusedElem:n,selectionRange:t},Nm=!1,Q=e;Q!==null;)if(e=Q,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Q=n;else for(;Q!==null;){e=Q;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,S=v.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:ws(e.type,g),S);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(E){lt(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}return v=G1,G1=!1,v}function Hd(n,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&n)===n){var i=r.destroy;r.destroy=void 0,i!==void 0&&r0(e,t,i)}r=r.next}while(r!==s)}}function jg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function i0(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function LC(n){var e=n.alternate;e!==null&&(n.alternate=null,LC(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[xr],delete e[sh],delete e[Wy],delete e[fL],delete e[pL])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function IC(n){return n.tag===5||n.tag===3||n.tag===4}function q1(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||IC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function o0(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Im));else if(s!==4&&(n=n.child,n!==null))for(o0(n,e,t),n=n.sibling;n!==null;)o0(n,e,t),n=n.sibling}function a0(n,e,t){var s=n.tag;if(s===5||s===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(a0(n,e,t),n=n.sibling;n!==null;)a0(n,e,t),n=n.sibling}var Bt=null,Fs=!1;function Pi(n,e,t){for(t=t.child;t!==null;)DC(n,e,t),t=t.sibling}function DC(n,e,t){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(Pg,t)}catch{}switch(t.tag){case 5:Jt||ac(t,e);case 6:var s=Bt,r=Fs;Bt=null,Pi(n,e,t),Bt=s,Fs=r,Bt!==null&&(Fs?(n=Bt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Bt.removeChild(t.stateNode));break;case 18:Bt!==null&&(Fs?(n=Bt,t=t.stateNode,n.nodeType===8?zv(n.parentNode,t):n.nodeType===1&&zv(n,t),Jd(n)):zv(Bt,t.stateNode));break;case 4:s=Bt,r=Fs,Bt=t.stateNode.containerInfo,Fs=!0,Pi(n,e,t),Bt=s,Fs=r;break;case 0:case 11:case 14:case 15:if(!Jt&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&r0(t,e,o),r=r.next}while(r!==s)}Pi(n,e,t);break;case 1:if(!Jt&&(ac(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(a){lt(t,e,a)}Pi(n,e,t);break;case 21:Pi(n,e,t);break;case 22:t.mode&1?(Jt=(s=Jt)||t.memoizedState!==null,Pi(n,e,t),Jt=s):Pi(n,e,t);break;default:Pi(n,e,t)}}function K1(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new RL),e.forEach(function(s){var r=HL.bind(null,n,s);t.has(s)||(t.add(s),s.then(r,r))})}}function vs(n,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];try{var i=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,Fs=!1;break e;case 3:Bt=a.stateNode.containerInfo,Fs=!0;break e;case 4:Bt=a.stateNode.containerInfo,Fs=!0;break e}a=a.return}if(Bt===null)throw Error(z(160));DC(i,o,r),Bt=null,Fs=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){lt(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jC(e,n),e=e.sibling}function jC(n,e){var t=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(vs(e,n),Ks(n),s&4){try{Hd(3,n,n.return),jg(3,n)}catch(g){lt(n,n.return,g)}try{Hd(5,n,n.return)}catch(g){lt(n,n.return,g)}}break;case 1:vs(e,n),Ks(n),s&512&&t!==null&&ac(t,t.return);break;case 5:if(vs(e,n),Ks(n),s&512&&t!==null&&ac(t,t.return),n.flags&32){var r=n.stateNode;try{Kd(r,"")}catch(g){lt(n,n.return,g)}}if(s&4&&(r=n.stateNode,r!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&rE(r,i),Ny(a,o);var u=Ny(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?cE(r,f):d==="dangerouslySetInnerHTML"?aE(r,f):d==="children"?Kd(r,f):dw(r,d,f,u)}switch(a){case"input":_y(r,i);break;case"textarea":iE(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?uc(r,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?uc(r,!!i.multiple,i.defaultValue,!0):uc(r,!!i.multiple,i.multiple?[]:"",!1))}r[sh]=i}catch(g){lt(n,n.return,g)}}break;case 6:if(vs(e,n),Ks(n),s&4){if(n.stateNode===null)throw Error(z(162));r=n.stateNode,i=n.memoizedProps;try{r.nodeValue=i}catch(g){lt(n,n.return,g)}}break;case 3:if(vs(e,n),Ks(n),s&4&&t!==null&&t.memoizedState.isDehydrated)try{Jd(e.containerInfo)}catch(g){lt(n,n.return,g)}break;case 4:vs(e,n),Ks(n);break;case 13:vs(e,n),Ks(n),r=n.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Vw=ut())),s&4&&K1(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Jt=(u=Jt)||d,vs(e,n),Jt=u):vs(e,n),Ks(n),s&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Q=n,d=n.child;d!==null;){for(f=Q=d;Q!==null;){switch(h=Q,m=h.child,h.tag){case 0:case 11:case 14:case 15:Hd(4,h,h.return);break;case 1:ac(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){s=h,t=h.return;try{e=s,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){lt(s,t,g)}}break;case 5:ac(h,h.return);break;case 22:if(h.memoizedState!==null){X1(f);continue}}m!==null?(m.return=h,Q=m):X1(f)}d=d.sibling}e:for(d=null,f=n;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=lE("display",o))}catch(g){lt(n,n.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){lt(n,n.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vs(e,n),Ks(n),s&4&&K1(n);break;case 21:break;default:vs(e,n),Ks(n)}}function Ks(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(IC(t)){var s=t;break e}t=t.return}throw Error(z(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Kd(r,""),s.flags&=-33);var i=q1(n);a0(n,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=q1(n);o0(n,a,o);break;default:throw Error(z(161))}}catch(l){lt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function ML(n,e,t){Q=n,FC(n)}function FC(n,e,t){for(var s=(n.mode&1)!==0;Q!==null;){var r=Q,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||mp;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=mp;var u=Jt;if(mp=o,(Jt=l)&&!u)for(Q=r;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?Q1(r):l!==null?(l.return=o,Q=l):Q1(r);for(;i!==null;)Q=i,FC(i),i=i.sibling;Q=r,mp=a,Jt=u}Y1(n)}else r.subtreeFlags&8772&&i!==null?(i.return=r,Q=i):Y1(n)}}function Y1(n){for(;Q!==null;){var e=Q;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||jg(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Jt)if(t===null)s.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:ws(e.type,t.memoizedProps);s.componentDidUpdate(r,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&L1(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}L1(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Jd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Jt||e.flags&512&&i0(e)}catch(h){lt(e,e.return,h)}}if(e===n){Q=null;break}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}}function X1(n){for(;Q!==null;){var e=Q;if(e===n){Q=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Q=t;break}Q=e.return}}function Q1(n){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{jg(4,e)}catch(l){lt(e,t,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){lt(e,r,l)}}var i=e.return;try{i0(e)}catch(l){lt(e,i,l)}break;case 5:var o=e.return;try{i0(e)}catch(l){lt(e,o,l)}}}catch(l){lt(e,e.return,l)}if(e===n){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var LL=Math.ceil,Wm=Ai.ReactCurrentDispatcher,$w=Ai.ReactCurrentOwner,ds=Ai.ReactCurrentBatchConfig,_e=0,It=null,mt=null,Ht=0,Un=0,lc=Uo(0),Et=0,ch=null,pl=0,Fg=0,Uw=0,zd=null,An=null,Vw=0,ju=1/0,Lr=null,Gm=!1,l0=null,Po=null,gp=!1,wo=null,qm=0,$d=0,c0=null,$p=-1,Up=0;function un(){return _e&6?ut():$p!==-1?$p:$p=ut()}function ko(n){return n.mode&1?_e&2&&Ht!==0?Ht&-Ht:gL.transition!==null?(Up===0&&(Up=bE()),Up):(n=De,n!==0||(n=window.event,n=n===void 0?16:PE(n.type)),n):1}function zs(n,e,t,s){if(50<$d)throw $d=0,c0=null,Error(z(185));Hf(n,t,s),(!(_e&2)||n!==It)&&(n===It&&(!(_e&2)&&(Fg|=t),Et===4&&Oi(n,Ht)),Pn(n,s),t===1&&_e===0&&!(e.mode&1)&&(ju=ut()+500,Lg&&Vo()))}function Pn(n,e){var t=n.callbackNode;gM(n,e);var s=Rm(n,n===It?Ht:0);if(s===0)t!==null&&o1(t),n.callbackNode=null,n.callbackPriority=0;else if(e=s&-s,n.callbackPriority!==e){if(t!=null&&o1(t),e===1)n.tag===0?mL(J1.bind(null,n)):qE(J1.bind(null,n)),dL(function(){!(_e&6)&&Vo()}),t=null;else{switch(SE(s)){case 1:t=gw;break;case 4:t=xE;break;case 16:t=km;break;case 536870912:t=wE;break;default:t=km}t=WC(t,OC.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function OC(n,e){if($p=-1,Up=0,_e&6)throw Error(z(327));var t=n.callbackNode;if(mc()&&n.callbackNode!==t)return null;var s=Rm(n,n===It?Ht:0);if(s===0)return null;if(s&30||s&n.expiredLanes||e)e=Km(n,s);else{e=s;var r=_e;_e|=2;var i=HC();(It!==n||Ht!==e)&&(Lr=null,ju=ut()+500,cl(n,e));do try{jL();break}catch(a){BC(n,a)}while(!0);kw(),Wm.current=i,_e=r,mt!==null?e=0:(It=null,Ht=0,e=Et)}if(e!==0){if(e===2&&(r=jy(n),r!==0&&(s=r,e=u0(n,r))),e===1)throw t=ch,cl(n,0),Oi(n,s),Pn(n,ut()),t;if(e===6)Oi(n,s);else{if(r=n.current.alternate,!(s&30)&&!IL(r)&&(e=Km(n,s),e===2&&(i=jy(n),i!==0&&(s=i,e=u0(n,i))),e===1))throw t=ch,cl(n,0),Oi(n,s),Pn(n,ut()),t;switch(n.finishedWork=r,n.finishedLanes=s,e){case 0:case 1:throw Error(z(345));case 2:Jo(n,An,Lr);break;case 3:if(Oi(n,s),(s&130023424)===s&&(e=Vw+500-ut(),10<e)){if(Rm(n,0)!==0)break;if(r=n.suspendedLanes,(r&s)!==s){un(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Vy(Jo.bind(null,n,An,Lr),e);break}Jo(n,An,Lr);break;case 4:if(Oi(n,s),(s&4194240)===s)break;for(e=n.eventTimes,r=-1;0<s;){var o=31-Hs(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=ut()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*LL(s/1960))-s,10<s){n.timeoutHandle=Vy(Jo.bind(null,n,An,Lr),s);break}Jo(n,An,Lr);break;case 5:Jo(n,An,Lr);break;default:throw Error(z(329))}}}return Pn(n,ut()),n.callbackNode===t?OC.bind(null,n):null}function u0(n,e){var t=zd;return n.current.memoizedState.isDehydrated&&(cl(n,e).flags|=256),n=Km(n,e),n!==2&&(e=An,An=t,e!==null&&d0(e)),n}function d0(n){An===null?An=n:An.push.apply(An,n)}function IL(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var r=t[s],i=r.getSnapshot;r=r.value;try{if(!$s(i(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oi(n,e){for(e&=~Uw,e&=~Fg,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Hs(e),s=1<<t;n[t]=-1,e&=~s}}function J1(n){if(_e&6)throw Error(z(327));mc();var e=Rm(n,0);if(!(e&1))return Pn(n,ut()),null;var t=Km(n,e);if(n.tag!==0&&t===2){var s=jy(n);s!==0&&(e=s,t=u0(n,s))}if(t===1)throw t=ch,cl(n,0),Oi(n,e),Pn(n,ut()),t;if(t===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Jo(n,An,Lr),Pn(n,ut()),null}function Ww(n,e){var t=_e;_e|=1;try{return n(e)}finally{_e=t,_e===0&&(ju=ut()+500,Lg&&Vo())}}function ml(n){wo!==null&&wo.tag===0&&!(_e&6)&&mc();var e=_e;_e|=1;var t=ds.transition,s=De;try{if(ds.transition=null,De=1,n)return n()}finally{De=s,ds.transition=t,_e=e,!(_e&6)&&Vo()}}function Gw(){Un=lc.current,Ke(lc)}function cl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,uL(t)),mt!==null)for(t=mt.return;t!==null;){var s=t;switch(_w(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Dm();break;case 3:Iu(),Ke(_n),Ke(tn),Dw();break;case 5:Iw(s);break;case 4:Iu();break;case 13:Ke(tt);break;case 19:Ke(tt);break;case 10:Rw(s.type._context);break;case 22:case 23:Gw()}t=t.return}if(It=n,mt=n=Ro(n.current,null),Ht=Un=e,Et=0,ch=null,Uw=Fg=pl=0,An=zd=null,oa!==null){for(e=0;e<oa.length;e++)if(t=oa[e],s=t.interleaved,s!==null){t.interleaved=null;var r=s.next,i=t.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}t.pending=s}oa=null}return n}function BC(n,e){do{var t=mt;try{if(kw(),Bp.current=Vm,Um){for(var s=nt.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Um=!1}if(fl=0,Lt=St=nt=null,Bd=!1,oh=0,$w.current=null,t===null||t.return===null){Et=1,ch=e,mt=null;break}e:{var i=n,o=t.return,a=t,l=e;if(e=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=B1(o);if(m!==null){m.flags&=-257,H1(m,o,a,i,e),m.mode&1&&O1(i,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){O1(i,u,e),qw();break e}l=Error(z(426))}}else if(Xe&&a.mode&1){var S=B1(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),H1(S,o,a,i,e),Tw(Du(l,a));break e}}i=l=Du(l,a),Et!==4&&(Et=2),zd===null?zd=[i]:zd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=SC(i,l,e);M1(i,y);break e;case 1:a=l;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Po===null||!Po.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=AC(i,a,e);M1(i,E);break e}}i=i.return}while(i!==null)}$C(t)}catch(T){e=T,mt===t&&t!==null&&(mt=t=t.return);continue}break}while(!0)}function HC(){var n=Wm.current;return Wm.current=Vm,n===null?Vm:n}function qw(){(Et===0||Et===3||Et===2)&&(Et=4),It===null||!(pl&268435455)&&!(Fg&268435455)||Oi(It,Ht)}function Km(n,e){var t=_e;_e|=2;var s=HC();(It!==n||Ht!==e)&&(Lr=null,cl(n,e));do try{DL();break}catch(r){BC(n,r)}while(!0);if(kw(),_e=t,Wm.current=s,mt!==null)throw Error(z(261));return It=null,Ht=0,Et}function DL(){for(;mt!==null;)zC(mt)}function jL(){for(;mt!==null&&!aM();)zC(mt)}function zC(n){var e=VC(n.alternate,n,Un);n.memoizedProps=n.pendingProps,e===null?$C(n):mt=e,$w.current=null}function $C(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=kL(t,e),t!==null){t.flags&=32767,mt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Et=6,mt=null;return}}else if(t=PL(t,e,Un),t!==null){mt=t;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=n}while(e!==null);Et===0&&(Et=5)}function Jo(n,e,t){var s=De,r=ds.transition;try{ds.transition=null,De=1,FL(n,e,t,s)}finally{ds.transition=r,De=s}return null}function FL(n,e,t,s){do mc();while(wo!==null);if(_e&6)throw Error(z(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(vM(n,i),n===It&&(mt=It=null,Ht=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||gp||(gp=!0,WC(km,function(){return mc(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=ds.transition,ds.transition=null;var o=De;De=1;var a=_e;_e|=4,$w.current=null,NL(n,t),jC(t,n),sL($y),Nm=!!zy,$y=zy=null,n.current=t,ML(t),lM(),_e=a,De=o,ds.transition=i}else n.current=t;if(gp&&(gp=!1,wo=n,qm=r),i=n.pendingLanes,i===0&&(Po=null),dM(t.stateNode),Pn(n,ut()),e!==null)for(s=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],s(r.value,{componentStack:r.stack,digest:r.digest});if(Gm)throw Gm=!1,n=l0,l0=null,n;return qm&1&&n.tag!==0&&mc(),i=n.pendingLanes,i&1?n===c0?$d++:($d=0,c0=n):$d=0,Vo(),null}function mc(){if(wo!==null){var n=SE(qm),e=ds.transition,t=De;try{if(ds.transition=null,De=16>n?16:n,wo===null)var s=!1;else{if(n=wo,wo=null,qm=0,_e&6)throw Error(z(331));var r=_e;for(_e|=4,Q=n.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Hd(8,d,i)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var h=d.sibling,m=d.return;if(LC(d),d===u){Q=null;break}if(h!==null){h.return=m,Q=h;break}Q=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hd(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Q=y;break e}Q=i.return}}var x=n.current;for(Q=x;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=x;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jg(9,a)}}catch(T){lt(a,a.return,T)}if(a===o){Q=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Q=E;break e}Q=a.return}}if(_e=r,Vo(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(Pg,n)}catch{}s=!0}return s}finally{De=t,ds.transition=e}}return!1}function Z1(n,e,t){e=Du(t,e),e=SC(n,e,1),n=To(n,e,1),e=un(),n!==null&&(Hf(n,1,e),Pn(n,e))}function lt(n,e,t){if(n.tag===3)Z1(n,n,t);else for(;e!==null;){if(e.tag===3){Z1(e,n,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Po===null||!Po.has(s))){n=Du(t,n),n=AC(e,n,1),e=To(e,n,1),n=un(),e!==null&&(Hf(e,1,n),Pn(e,n));break}}e=e.return}}function OL(n,e,t){var s=n.pingCache;s!==null&&s.delete(e),e=un(),n.pingedLanes|=n.suspendedLanes&t,It===n&&(Ht&t)===t&&(Et===4||Et===3&&(Ht&130023424)===Ht&&500>ut()-Vw?cl(n,0):Uw|=t),Pn(n,e)}function UC(n,e){e===0&&(n.mode&1?(e=op,op<<=1,!(op&130023424)&&(op=4194304)):e=1);var t=un();n=vi(n,e),n!==null&&(Hf(n,e,t),Pn(n,t))}function BL(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),UC(n,t)}function HL(n,e){var t=0;switch(n.tag){case 13:var s=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(e),UC(n,t)}var VC;VC=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||_n.current)En=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return En=!1,TL(n,e,t);En=!!(n.flags&131072)}else En=!1,Xe&&e.flags&1048576&&KE(e,Om,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;zp(n,e),n=e.pendingProps;var r=Nu(e,tn.current);pc(e,t),r=Fw(null,e,s,n,r,t);var i=Ow();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(s)?(i=!0,jm(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Mw(e),r.updater=Dg,e.stateNode=r,r._reactInternals=e,Qy(e,s,n,t),e=e0(null,e,s,!0,i,t)):(e.tag=0,Xe&&i&&Cw(e),an(null,e,r,t),e=e.child),e;case 16:s=e.elementType;e:{switch(zp(n,e),n=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=$L(s),n=ws(s,n),r){case 0:e=Zy(null,e,s,n,t);break e;case 1:e=U1(null,e,s,n,t);break e;case 11:e=z1(null,e,s,n,t);break e;case 14:e=$1(null,e,s,ws(s.type,n),t);break e}throw Error(z(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:ws(s,r),Zy(n,e,s,r,t);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:ws(s,r),U1(n,e,s,r,t);case 3:e:{if(TC(e),n===null)throw Error(z(387));s=e.pendingProps,i=e.memoizedState,r=i.element,eC(n,e),zm(e,s,null,t);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Du(Error(z(423)),e),e=V1(n,e,s,t,r);break e}else if(s!==r){r=Du(Error(z(424)),e),e=V1(n,e,s,t,r);break e}else for(Gn=_o(e.stateNode.containerInfo.firstChild),qn=e,Xe=!0,Os=null,t=JE(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Mu(),s===r){e=yi(n,e,t);break e}an(n,e,s,t)}e=e.child}return e;case 5:return tC(e),n===null&&Ky(e),s=e.type,r=e.pendingProps,i=n!==null?n.memoizedProps:null,o=r.children,Uy(s,r)?o=null:i!==null&&Uy(s,i)&&(e.flags|=32),_C(n,e),an(n,e,o,t),e.child;case 6:return n===null&&Ky(e),null;case 13:return PC(n,e,t);case 4:return Lw(e,e.stateNode.containerInfo),s=e.pendingProps,n===null?e.child=Lu(e,null,s,t):an(n,e,s,t),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:ws(s,r),z1(n,e,s,r,t);case 7:return an(n,e,e.pendingProps,t),e.child;case 8:return an(n,e,e.pendingProps.children,t),e.child;case 12:return an(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,$e(Bm,s._currentValue),s._currentValue=o,i!==null)if($s(i.value,o)){if(i.children===r.children&&!_n.current){e=yi(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=ui(-1,t&-t),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),Yy(i.return,t,e),a.lanes|=t;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Yy(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}an(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,pc(e,t),r=fs(r),s=s(r),e.flags|=1,an(n,e,s,t),e.child;case 14:return s=e.type,r=ws(s,e.pendingProps),r=ws(s.type,r),$1(n,e,s,r,t);case 15:return EC(n,e,e.type,e.pendingProps,t);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:ws(s,r),zp(n,e),e.tag=1,Tn(s)?(n=!0,jm(e)):n=!1,pc(e,t),bC(e,s,r),Qy(e,s,r,t),e0(null,e,s,!0,n,t);case 19:return kC(n,e,t);case 22:return CC(n,e,t)}throw Error(z(156,e.tag))};function WC(n,e){return yE(n,e)}function zL(n,e,t,s){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(n,e,t,s){return new zL(n,e,t,s)}function Kw(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $L(n){if(typeof n=="function")return Kw(n)?1:0;if(n!=null){if(n=n.$$typeof,n===fw)return 11;if(n===pw)return 14}return 2}function Ro(n,e){var t=n.alternate;return t===null?(t=us(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Vp(n,e,t,s,r,i){var o=2;if(s=n,typeof n=="function")Kw(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Jl:return ul(t.children,r,i,e);case hw:o=8,r|=8;break;case by:return n=us(12,t,e,r|2),n.elementType=by,n.lanes=i,n;case Sy:return n=us(13,t,e,r),n.elementType=Sy,n.lanes=i,n;case Ay:return n=us(19,t,e,r),n.elementType=Ay,n.lanes=i,n;case tE:return Og(t,r,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ZA:o=10;break e;case eE:o=9;break e;case fw:o=11;break e;case pw:o=14;break e;case Di:o=16,s=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=us(o,t,e,r),e.elementType=n,e.type=s,e.lanes=i,e}function ul(n,e,t,s){return n=us(7,n,s,e),n.lanes=t,n}function Og(n,e,t,s){return n=us(22,n,s,e),n.elementType=tE,n.lanes=t,n.stateNode={isHidden:!1},n}function Yv(n,e,t){return n=us(6,n,null,e),n.lanes=t,n}function Xv(n,e,t){return e=us(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function UL(n,e,t,s,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rv(0),this.expirationTimes=Rv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rv(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Yw(n,e,t,s,r,i,o,a,l){return n=new UL(n,e,t,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=us(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mw(i),n}function VL(n,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ql,key:s==null?null:""+s,children:n,containerInfo:e,implementation:t}}function GC(n){if(!n)return Lo;n=n._reactInternals;e:{if(Cl(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var t=n.type;if(Tn(t))return GE(n,t,e)}return e}function qC(n,e,t,s,r,i,o,a,l){return n=Yw(t,s,!0,n,r,i,o,a,l),n.context=GC(null),t=n.current,s=un(),r=ko(t),i=ui(s,r),i.callback=e??null,To(t,i,r),n.current.lanes=r,Hf(n,r,s),Pn(n,s),n}function Bg(n,e,t,s){var r=e.current,i=un(),o=ko(r);return t=GC(t),e.context===null?e.context=t:e.pendingContext=t,e=ui(i,o),e.payload={element:n},s=s===void 0?null:s,s!==null&&(e.callback=s),n=To(r,e,o),n!==null&&(zs(n,r,o,i),Op(n,r,o)),o}function Ym(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function eS(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Xw(n,e){eS(n,e),(n=n.alternate)&&eS(n,e)}function WL(){return null}var KC=typeof reportError=="function"?reportError:function(n){console.error(n)};function Qw(n){this._internalRoot=n}Hg.prototype.render=Qw.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));Bg(n,e,null,null)};Hg.prototype.unmount=Qw.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ml(function(){Bg(null,n,null,null)}),e[gi]=null}};function Hg(n){this._internalRoot=n}Hg.prototype.unstable_scheduleHydration=function(n){if(n){var e=CE();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Fi.length&&e!==0&&e<Fi[t].priority;t++);Fi.splice(t,0,n),t===0&&TE(n)}};function Jw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function zg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function tS(){}function GL(n,e,t,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Ym(o);i.call(u)}}var o=qC(e,s,n,0,null,!1,!1,"",tS);return n._reactRootContainer=o,n[gi]=o.current,th(n.nodeType===8?n.parentNode:n),ml(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=Ym(l);a.call(u)}}var l=Yw(n,0,!1,null,null,!1,!1,"",tS);return n._reactRootContainer=l,n[gi]=l.current,th(n.nodeType===8?n.parentNode:n),ml(function(){Bg(e,l,t,s)}),l}function $g(n,e,t,s,r){var i=t._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=Ym(o);a.call(l)}}Bg(e,o,n,r)}else o=GL(t,e,n,r,s);return Ym(o)}AE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=pd(e.pendingLanes);t!==0&&(vw(e,t|1),Pn(e,ut()),!(_e&6)&&(ju=ut()+500,Vo()))}break;case 13:ml(function(){var s=vi(n,1);if(s!==null){var r=un();zs(s,n,1,r)}}),Xw(n,1)}};yw=function(n){if(n.tag===13){var e=vi(n,134217728);if(e!==null){var t=un();zs(e,n,134217728,t)}Xw(n,134217728)}};EE=function(n){if(n.tag===13){var e=ko(n),t=vi(n,e);if(t!==null){var s=un();zs(t,n,e,s)}Xw(n,e)}};CE=function(){return De};_E=function(n,e){var t=De;try{return De=n,e()}finally{De=t}};Ly=function(n,e,t){switch(e){case"input":if(_y(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==n&&s.form===n.form){var r=Mg(s);if(!r)throw Error(z(90));sE(s),_y(s,r)}}}break;case"textarea":iE(n,t);break;case"select":e=t.value,e!=null&&uc(n,!!t.multiple,e,!1)}};hE=Ww;fE=ml;var qL={usingClientEntryPoint:!1,Events:[$f,nc,Mg,uE,dE,Ww]},od={findFiberByHostInstance:ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KL={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=gE(n),n===null?null:n.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||WL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vp.isDisabled&&vp.supportsFiber)try{Pg=vp.inject(KL),br=vp}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qL;Qn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jw(e))throw Error(z(200));return VL(n,e,null,t)};Qn.createRoot=function(n,e){if(!Jw(n))throw Error(z(299));var t=!1,s="",r=KC;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Yw(n,1,!1,null,null,t,!1,s,r),n[gi]=e.current,th(n.nodeType===8?n.parentNode:n),new Qw(e)};Qn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=gE(e),n=n===null?null:n.stateNode,n};Qn.flushSync=function(n){return ml(n)};Qn.hydrate=function(n,e,t){if(!zg(e))throw Error(z(200));return $g(null,n,e,!0,t)};Qn.hydrateRoot=function(n,e,t){if(!Jw(n))throw Error(z(405));var s=t!=null&&t.hydratedSources||null,r=!1,i="",o=KC;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=qC(e,null,n,1,t??null,r,!1,i,o),n[gi]=e.current,th(n),s)for(n=0;n<s.length;n++)t=s[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Hg(e)};Qn.render=function(n,e,t){if(!zg(e))throw Error(z(200));return $g(null,n,e,!1,t)};Qn.unmountComponentAtNode=function(n){if(!zg(n))throw Error(z(40));return n._reactRootContainer?(ml(function(){$g(null,null,n,!1,function(){n._reactRootContainer=null,n[gi]=null})}),!0):!1};Qn.unstable_batchedUpdates=Ww;Qn.unstable_renderSubtreeIntoContainer=function(n,e,t,s){if(!zg(t))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return $g(n,e,t,!1,s)};Qn.version="18.3.1-next-f1338f8080-20240426";function YC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YC)}catch(n){console.error(n)}}YC(),YA.exports=Qn;var _l=YA.exports;const XC=rw(_l);var QC,nS=_l;QC=nS.createRoot,nS.hydrateRoot;const YL=1,XL=1e6;let Qv=0;function QL(){return Qv=(Qv+1)%Number.MAX_SAFE_INTEGER,Qv.toString()}const Jv=new Map,sS=n=>{if(Jv.has(n))return;const e=setTimeout(()=>{Jv.delete(n),Ud({type:"REMOVE_TOAST",toastId:n})},XL);Jv.set(n,e)},JL=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,YL)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?sS(t):n.toasts.forEach(s=>{sS(s.id)}),{...n,toasts:n.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Wp=[];let Gp={toasts:[]};function Ud(n){Gp=JL(Gp,n),Wp.forEach(e=>{e(Gp)})}function ZL({...n}){const e=QL(),t=r=>Ud({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>Ud({type:"DISMISS_TOAST",toastId:e});return Ud({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:t}}function eI(){const[n,e]=b.useState(Gp);return b.useEffect(()=>(Wp.push(e),()=>{const t=Wp.indexOf(e);t>-1&&Wp.splice(t,1)}),[n]),{...n,toast:ZL,dismiss:t=>Ud({type:"DISMISS_TOAST",toastId:t})}}function oe(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function tI(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function JC(...n){return e=>n.forEach(t=>tI(t,e))}function rt(...n){return b.useCallback(JC(...n),n)}function nI(n,e=[]){let t=[];function s(i,o){const a=b.createContext(o),l=t.length;t=[...t,o];function u(f){const{scope:h,children:m,...v}=f,g=(h==null?void 0:h[n][l])||a,S=b.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:S,children:m})}function d(f,h){const m=(h==null?void 0:h[n][l])||a,v=b.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const r=()=>{const i=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||i;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[s,sI(r,...e)]}function sI(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Fu=b.forwardRef((n,e)=>{const{children:t,...s}=n,r=b.Children.toArray(t),i=r.find(rI);if(i){const o=i.props.children,a=r.map(l=>l===i?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return p.jsx(h0,{...s,ref:e,children:b.isValidElement(o)?b.cloneElement(o,void 0,a):null})}return p.jsx(h0,{...s,ref:e,children:t})});Fu.displayName="Slot";var h0=b.forwardRef((n,e)=>{const{children:t,...s}=n;if(b.isValidElement(t)){const r=oI(t);return b.cloneElement(t,{...iI(s,t.props),ref:e?JC(e,r):r})}return b.Children.count(t)>1?b.Children.only(null):null});h0.displayName="SlotClone";var ZC=({children:n})=>p.jsx(p.Fragment,{children:n});function rI(n){return b.isValidElement(n)&&n.type===ZC}function iI(n,e){const t={...e};for(const s in e){const r=n[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?t[s]=(...a)=>{i(...a),r(...a)}:r&&(t[s]=r):s==="style"?t[s]={...r,...i}:s==="className"&&(t[s]=[r,i].filter(Boolean).join(" "))}return{...n,...t}}function oI(n){var s,r;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Zw(n){const e=n+"CollectionProvider",[t,s]=nI(e),[r,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:g}=m,S=W.useRef(null),y=W.useRef(new Map).current;return p.jsx(r,{scope:v,itemMap:y,collectionRef:S,children:g})};o.displayName=e;const a=n+"CollectionSlot",l=W.forwardRef((m,v)=>{const{scope:g,children:S}=m,y=i(a,g),x=rt(v,y.collectionRef);return p.jsx(Fu,{ref:x,children:S})});l.displayName=a;const u=n+"CollectionItemSlot",d="data-radix-collection-item",f=W.forwardRef((m,v)=>{const{scope:g,children:S,...y}=m,x=W.useRef(null),w=rt(v,x),E=i(u,g);return W.useEffect(()=>(E.itemMap.set(x,{ref:x,...y}),()=>void E.itemMap.delete(x))),p.jsx(Fu,{[d]:"",ref:w,children:S})});f.displayName=u;function h(m){const v=i(n+"CollectionConsumer",m);return W.useCallback(()=>{const S=v.collectionRef.current;if(!S)return[];const y=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((E,T)=>y.indexOf(E.ref.current)-y.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,s]}function Ug(n,e=[]){let t=[];function s(i,o){const a=b.createContext(o),l=t.length;t=[...t,o];const u=f=>{var y;const{scope:h,children:m,...v}=f,g=((y=h==null?void 0:h[n])==null?void 0:y[l])||a,S=b.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:S,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[n])==null?void 0:g[l])||a,v=b.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||i;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[s,aI(r,...e)]}function aI(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var lI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Se=lI.reduce((n,e)=>{const t=b.forwardRef((s,r)=>{const{asChild:i,...o}=s,a=i?Fu:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:r})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function e_(n,e){n&&_l.flushSync(()=>n.dispatchEvent(e))}function kn(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function cI(n,e=globalThis==null?void 0:globalThis.document){const t=kn(n);b.useEffect(()=>{const s=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var uI="DismissableLayer",f0="dismissableLayer.update",dI="dismissableLayer.pointerDownOutside",hI="dismissableLayer.focusOutside",rS,t_=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vg=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=n,u=b.useContext(t_),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),v=rt(e,k=>f(k)),g=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(S),x=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,E=x>=y,T=pI(k=>{const R=k.target,M=[...u.branches].some(L=>L.contains(R));!E||M||(r==null||r(k),o==null||o(k),k.defaultPrevented||a==null||a())},h),P=mI(k=>{const R=k.target;[...u.branches].some(L=>L.contains(R))||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},h);return cI(k=>{x===u.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),b.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(rS=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),iS(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=rS)}},[d,h,t,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),iS())},[d,u]),b.useEffect(()=>{const k=()=>m({});return document.addEventListener(f0,k),()=>document.removeEventListener(f0,k)},[]),p.jsx(Se.div,{...l,ref:v,style:{pointerEvents:w?E?"auto":"none":void 0,...n.style},onFocusCapture:oe(n.onFocusCapture,P.onFocusCapture),onBlurCapture:oe(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:oe(n.onPointerDownCapture,T.onPointerDownCapture)})});Vg.displayName=uI;var fI="DismissableLayerBranch",n_=b.forwardRef((n,e)=>{const t=b.useContext(t_),s=b.useRef(null),r=rt(e,s);return b.useEffect(()=>{const i=s.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),p.jsx(Se.div,{...n,ref:r})});n_.displayName=fI;function pI(n,e=globalThis==null?void 0:globalThis.document){const t=kn(n),s=b.useRef(!1),r=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!s.current){let l=function(){s_(dI,t,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function mI(n,e=globalThis==null?void 0:globalThis.document){const t=kn(n),s=b.useRef(!1);return b.useEffect(()=>{const r=i=>{i.target&&!s.current&&s_(hI,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function iS(){const n=new CustomEvent(f0);document.dispatchEvent(n)}function s_(n,e,t,{discrete:s}){const r=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?e_(r,i):r.dispatchEvent(i)}var gI=Vg,vI=n_,nn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},yI="Portal",eb=b.forwardRef((n,e)=>{var a;const{container:t,...s}=n,[r,i]=b.useState(!1);nn(()=>i(!0),[]);const o=t||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?XC.createPortal(p.jsx(Se.div,{...s,ref:e}),o):null});eb.displayName=yI;function xI(n,e){return b.useReducer((t,s)=>e[t][s]??t,n)}var Wg=n=>{const{present:e,children:t}=n,s=wI(e),r=typeof t=="function"?t({present:s.isPresent}):b.Children.only(t),i=rt(s.ref,bI(r));return typeof t=="function"||s.isPresent?b.cloneElement(r,{ref:i}):null};Wg.displayName="Presence";function wI(n){const[e,t]=b.useState(),s=b.useRef({}),r=b.useRef(n),i=b.useRef("none"),o=n?"mounted":"unmounted",[a,l]=xI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=yp(s.current);i.current=a==="mounted"?u:"none"},[a]),nn(()=>{const u=s.current,d=r.current;if(d!==n){const h=i.current,m=yp(u);n?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),nn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const g=yp(s.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!r.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},h=m=>{m.target===e&&(i.current=yp(s.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{u&&(s.current=getComputedStyle(u)),t(u)},[])}}function yp(n){return(n==null?void 0:n.animationName)||"none"}function bI(n){var s,r;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function uh({prop:n,defaultProp:e,onChange:t=()=>{}}){const[s,r]=SI({defaultProp:e,onChange:t}),i=n!==void 0,o=i?n:s,a=kn(t),l=b.useCallback(u=>{if(i){const f=typeof u=="function"?u(n):u;f!==n&&a(f)}else r(u)},[i,n,r,a]);return[o,l]}function SI({defaultProp:n,onChange:e}){const t=b.useState(n),[s]=t,r=b.useRef(s),i=kn(e);return b.useEffect(()=>{r.current!==s&&(i(s),r.current=s)},[s,r,i]),t}var AI="VisuallyHidden",Vf=b.forwardRef((n,e)=>p.jsx(Se.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Vf.displayName=AI;var EI=Vf,tb="ToastProvider",[nb,CI,_I]=Zw("Toast"),[r_,S8]=Ug("Toast",[_I]),[TI,Gg]=r_(tb),i_=n=>{const{__scopeToast:e,label:t="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:o}=n,[a,l]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${tb}\`. Expected non-empty \`string\`.`),p.jsx(nb.Provider,{scope:e,children:p.jsx(TI,{scope:e,label:t,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};i_.displayName=tb;var o_="ToastViewport",PI=["F8"],p0="toast.viewportPause",m0="toast.viewportResume",a_=b.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:s=PI,label:r="Notifications ({hotkey})",...i}=n,o=Gg(o_,t),a=CI(t),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=rt(e,f,o.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;b.useEffect(()=>{const S=y=>{var w;s.length!==0&&s.every(E=>y[E]||y.code===E)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[s]),b.useEffect(()=>{const S=l.current,y=f.current;if(v&&S&&y){const x=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(p0);y.dispatchEvent(P),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(m0);y.dispatchEvent(P),o.isClosePausedRef.current=!1}},E=P=>{!S.contains(P.relatedTarget)&&w()},T=()=>{S.contains(document.activeElement)||w()};return S.addEventListener("focusin",x),S.addEventListener("focusout",E),S.addEventListener("pointermove",x),S.addEventListener("pointerleave",T),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{S.removeEventListener("focusin",x),S.removeEventListener("focusout",E),S.removeEventListener("pointermove",x),S.removeEventListener("pointerleave",T),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:S})=>{const x=a().map(w=>{const E=w.ref.current,T=[E,...zI(E)];return S==="forwards"?T:T.reverse()});return(S==="forwards"?x.reverse():x).flat()},[a]);return b.useEffect(()=>{const S=f.current;if(S){const y=x=>{var T,P,k;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const R=document.activeElement,M=x.shiftKey;if(x.target===S&&M){(T=u.current)==null||T.focus();return}const O=g({tabbingDirection:M?"backwards":"forwards"}),H=O.findIndex(I=>I===R);Zv(O.slice(H+1))?x.preventDefault():M?(P=u.current)==null||P.focus():(k=d.current)==null||k.focus()}};return S.addEventListener("keydown",y),()=>S.removeEventListener("keydown",y)}},[a,g]),p.jsxs(vI,{ref:l,role:"region","aria-label":r.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&p.jsx(g0,{ref:u,onFocusFromOutsideViewport:()=>{const S=g({tabbingDirection:"forwards"});Zv(S)}}),p.jsx(nb.Slot,{scope:t,children:p.jsx(Se.ol,{tabIndex:-1,...i,ref:h})}),v&&p.jsx(g0,{ref:d,onFocusFromOutsideViewport:()=>{const S=g({tabbingDirection:"backwards"});Zv(S)}})]})});a_.displayName=o_;var l_="ToastFocusProxy",g0=b.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:s,...r}=n,i=Gg(l_,t);return p.jsx(Vf,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&s()}})});g0.displayName=l_;var qg="Toast",kI="toast.swipeStart",RI="toast.swipeMove",NI="toast.swipeCancel",MI="toast.swipeEnd",c_=b.forwardRef((n,e)=>{const{forceMount:t,open:s,defaultOpen:r,onOpenChange:i,...o}=n,[a=!0,l]=uh({prop:s,defaultProp:r,onChange:i});return p.jsx(Wg,{present:t||a,children:p.jsx(DI,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:kn(n.onPause),onResume:kn(n.onResume),onSwipeStart:oe(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(n.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:oe(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(n.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});c_.displayName=qg;var[LI,II]=r_(qg,{onClose(){}}),DI=b.forwardRef((n,e)=>{const{__scopeToast:t,type:s="foreground",duration:r,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=n,g=Gg(qg,t),[S,y]=b.useState(null),x=rt(e,I=>y(I)),w=b.useRef(null),E=b.useRef(null),T=r||g.duration,P=b.useRef(0),k=b.useRef(T),R=b.useRef(0),{onToastAdd:M,onToastRemove:L}=g,D=kn(()=>{var $;(S==null?void 0:S.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),o()}),O=b.useCallback(I=>{!I||I===1/0||(window.clearTimeout(R.current),P.current=new Date().getTime(),R.current=window.setTimeout(D,I))},[D]);b.useEffect(()=>{const I=g.viewport;if(I){const $=()=>{O(k.current),u==null||u()},j=()=>{const F=new Date().getTime()-P.current;k.current=k.current-F,window.clearTimeout(R.current),l==null||l()};return I.addEventListener(p0,j),I.addEventListener(m0,$),()=>{I.removeEventListener(p0,j),I.removeEventListener(m0,$)}}},[g.viewport,T,l,u,O]),b.useEffect(()=>{i&&!g.isClosePausedRef.current&&O(T)},[i,T,g.isClosePausedRef,O]),b.useEffect(()=>(M(),()=>L()),[M,L]);const H=b.useMemo(()=>S?g_(S):null,[S]);return g.viewport?p.jsxs(p.Fragment,{children:[H&&p.jsx(jI,{__scopeToast:t,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),p.jsx(LI,{scope:t,onClose:D,children:_l.createPortal(p.jsx(nb.ItemSlot,{scope:t,children:p.jsx(gI,{asChild:!0,onEscapeKeyDown:oe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:oe(n.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:oe(n.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:oe(n.onPointerMove,I=>{if(!w.current)return;const $=I.clientX-w.current.x,j=I.clientY-w.current.y,F=!!E.current,N=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,q=N?B(0,$):0,U=N?0:B(0,j),K=I.pointerType==="touch"?10:2,J={x:q,y:U},se={originalEvent:I,delta:J};F?(E.current=J,xp(RI,f,se,{discrete:!1})):oS(J,g.swipeDirection,K)?(E.current=J,xp(kI,d,se,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs($)>K||Math.abs(j)>K)&&(w.current=null)}),onPointerUp:oe(n.onPointerUp,I=>{const $=E.current,j=I.target;if(j.hasPointerCapture(I.pointerId)&&j.releasePointerCapture(I.pointerId),E.current=null,w.current=null,$){const F=I.currentTarget,N={originalEvent:I,delta:$};oS($,g.swipeDirection,g.swipeThreshold)?xp(MI,m,N,{discrete:!0}):xp(NI,h,N,{discrete:!0}),F.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),jI=n=>{const{__scopeToast:e,children:t,...s}=n,r=Gg(qg,e),[i,o]=b.useState(!1),[a,l]=b.useState(!1);return BI(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:p.jsx(eb,{asChild:!0,children:p.jsx(Vf,{...s,children:i&&p.jsxs(p.Fragment,{children:[r.label," ",t]})})})},FI="ToastTitle",u_=b.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return p.jsx(Se.div,{...s,ref:e})});u_.displayName=FI;var OI="ToastDescription",d_=b.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n;return p.jsx(Se.div,{...s,ref:e})});d_.displayName=OI;var h_="ToastAction",f_=b.forwardRef((n,e)=>{const{altText:t,...s}=n;return t.trim()?p.jsx(m_,{altText:t,asChild:!0,children:p.jsx(sb,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${h_}\`. Expected non-empty \`string\`.`),null)});f_.displayName=h_;var p_="ToastClose",sb=b.forwardRef((n,e)=>{const{__scopeToast:t,...s}=n,r=II(p_,t);return p.jsx(m_,{asChild:!0,children:p.jsx(Se.button,{type:"button",...s,ref:e,onClick:oe(n.onClick,r.onClose)})})});sb.displayName=p_;var m_=b.forwardRef((n,e)=>{const{__scopeToast:t,altText:s,...r}=n;return p.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function g_(n){const e=[];return Array.from(n.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),HI(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...g_(s))}}),e}function xp(n,e,t,{discrete:s}){const r=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?e_(r,i):r.dispatchEvent(i)}var oS=(n,e,t=0)=>{const s=Math.abs(n.x),r=Math.abs(n.y),i=s>r;return e==="left"||e==="right"?i&&s>t:!i&&r>t};function BI(n=()=>{}){const e=kn(n);nn(()=>{let t=0,s=0;return t=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(s)}},[e])}function HI(n){return n.nodeType===n.ELEMENT_NODE}function zI(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Zv(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var $I=i_,v_=a_,y_=c_,x_=u_,w_=d_,b_=f_,S_=sb;function A_(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=A_(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Vu(){for(var n,e,t=0,s="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=A_(n))&&(s&&(s+=" "),s+=e);return s}const aS=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,lS=Vu,Kg=(n,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return lS(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:i}=e,o=Object.keys(r).map(u=>{const d=t==null?void 0:t[u],f=i==null?void 0:i[u];if(d===null)return null;const h=aS(d)||aS(f);return r[u][h]}),a=t&&Object.entries(t).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[g,S]=v;return Array.isArray(S)?S.includes({...i,...a}[g]):{...i,...a}[g]===S})?[...u,f,h]:u},[]);return lS(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E_=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...VI,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:E_("lucide",r),...a},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=(n,e)=>{const t=b.forwardRef(({className:s,...r},i)=>b.createElement(WI,{ref:i,iconNode:e,className:E_(`lucide-${UI(n)}`,s),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Tl("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Tl("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Tl("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Tl("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Tl("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Tl("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Tl("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rb="-",XI=n=>{const e=JI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:o=>{const a=o.split(rb);return a[0]===""&&a.length!==1&&a.shift(),T_(a,e)||QI(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&s[o]?[...l,...s[o]]:l}}},T_=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),r=s?T_(n.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=n.join(rb);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},cS=/^\[(.+)\]$/,QI=n=>{if(cS.test(n)){const e=cS.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},JI=n=>{const{theme:e,prefix:t}=n,s={nextPart:new Map,validators:[]};return eD(Object.entries(n.classGroups),t).forEach(([i,o])=>{v0(o,s,i,e)}),s},v0=(n,e,t,s)=>{n.forEach(r=>{if(typeof r=="string"){const i=r===""?e:uS(e,r);i.classGroupId=t;return}if(typeof r=="function"){if(ZI(r)){v0(r(s),e,t,s);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([i,o])=>{v0(o,uS(e,i),t,s)})})},uS=(n,e)=>{let t=n;return e.split(rb).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},ZI=n=>n.isThemeGetter,eD=(n,e)=>e?n.map(([t,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[t,r]}):n,tD=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const r=(i,o)=>{t.set(i,o),e++,e>n&&(e=0,s=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){t.has(i)?t.set(i,o):r(i,o)}}},P_="!",nD=n=>{const{separator:e,experimentalParseClassName:t}=n,s=e.length===1,r=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,f;for(let S=0;S<a.length;S++){let y=a[S];if(u===0){if(y===r&&(s||a.slice(S,S+i)===e)){l.push(a.slice(d,S)),d=S+i;continue}if(y==="/"){f=S;continue}}y==="["?u++:y==="]"&&u--}const h=l.length===0?a:a.substring(d),m=h.startsWith(P_),v=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return t?a=>t({className:a,parseClassName:o}):o},sD=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(s=>{s[0]==="["?(e.push(...t.sort(),s),t=[]):t.push(s)}),e.push(...t.sort()),e},rD=n=>({cache:tD(n.cacheSize),parseClassName:nD(n),...XI(n)}),iD=/\s+/,oD=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],o=n.trim().split(iD);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=t(u);let v=!!m,g=s(v?h.substring(0,m):h);if(!g){if(!v){a=u+(a.length>0?" "+a:a);continue}if(g=s(h),!g){a=u+(a.length>0?" "+a:a);continue}v=!1}const S=sD(d).join(":"),y=f?S+P_:S,x=y+g;if(i.includes(x))continue;i.push(x);const w=r(g,v);for(let E=0;E<w.length;++E){const T=w[E];i.push(y+T)}a=u+(a.length>0?" "+a:a)}return a};function aD(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=k_(e))&&(s&&(s+=" "),s+=t);return s}const k_=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=k_(n[s]))&&(t&&(t+=" "),t+=e);return t};function lD(n,...e){let t,s,r,i=o;function o(l){const u=e.reduce((d,f)=>f(d),n());return t=rD(u),s=t.cache.get,r=t.cache.set,i=a,a(l)}function a(l){const u=s(l);if(u)return u;const d=oD(l,t);return r(l,d),d}return function(){return i(aD.apply(null,arguments))}}const We=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},R_=/^\[(?:([a-z-]+):)?(.+)\]$/i,cD=/^\d+\/\d+$/,uD=new Set(["px","full","screen"]),dD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pr=n=>gc(n)||uD.has(n)||cD.test(n),ki=n=>Wu(n,"length",AD),gc=n=>!!n&&!Number.isNaN(Number(n)),ey=n=>Wu(n,"number",gc),ad=n=>!!n&&Number.isInteger(Number(n)),gD=n=>n.endsWith("%")&&gc(n.slice(0,-1)),fe=n=>R_.test(n),Ri=n=>dD.test(n),vD=new Set(["length","size","percentage"]),yD=n=>Wu(n,vD,N_),xD=n=>Wu(n,"position",N_),wD=new Set(["image","url"]),bD=n=>Wu(n,wD,CD),SD=n=>Wu(n,"",ED),ld=()=>!0,Wu=(n,e,t)=>{const s=R_.exec(n);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):t(s[2]):!1},AD=n=>hD.test(n)&&!fD.test(n),N_=()=>!1,ED=n=>pD.test(n),CD=n=>mD.test(n),_D=()=>{const n=We("colors"),e=We("spacing"),t=We("blur"),s=We("brightness"),r=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),u=We("grayscale"),d=We("hueRotate"),f=We("invert"),h=We("gap"),m=We("gradientColorStops"),v=We("gradientColorStopPositions"),g=We("inset"),S=We("margin"),y=We("opacity"),x=We("padding"),w=We("saturate"),E=We("scale"),T=We("sepia"),P=We("skew"),k=We("space"),R=We("translate"),M=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",fe,e],O=()=>[fe,e],H=()=>["",Pr,ki],I=()=>["auto",gc,fe],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",fe],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[gc,fe];return{cacheSize:500,separator:":",theme:{colors:[ld],spacing:[Pr,ki],blur:["none","",Ri,fe],brightness:U(),borderColor:[n],borderRadius:["none","","full",Ri,fe],borderSpacing:O(),borderWidth:H(),contrast:U(),grayscale:B(),hueRotate:U(),invert:B(),gap:O(),gradientColorStops:[n],gradientColorStopPositions:[gD,ki],inset:D(),margin:D(),opacity:U(),padding:O(),saturate:U(),scale:U(),sepia:B(),skew:U(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Ri]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),fe]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ad,fe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",ad,fe]}],"grid-cols":[{"grid-cols":[ld]}],"col-start-end":[{col:["auto",{span:["full",ad,fe]},fe]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[ld]}],"row-start-end":[{row:["auto",{span:[ad,fe]},fe]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[Ri]},Ri]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ri,ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ey]}],"font-family":[{font:[ld]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",gc,ey]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pr,ki]}],"underline-offset":[{"underline-offset":["auto",Pr,fe]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),xD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bD]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:j()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Pr,fe]}],"outline-w":[{outline:[Pr,ki]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Pr,ki]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ri,SD]}],"shadow-color":[{shadow:[ld]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ri,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[ad,fe]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Pr,ki,ey]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TD=lD(_D);function je(...n){return TD(Vu(n))}const PD=$I,M_=b.forwardRef(({className:n,...e},t)=>p.jsx(v_,{ref:t,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));M_.displayName=v_.displayName;const kD=Kg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),L_=b.forwardRef(({className:n,variant:e,...t},s)=>p.jsx(y_,{ref:s,className:je(kD({variant:e}),n),...t}));L_.displayName=y_.displayName;const RD=b.forwardRef(({className:n,...e},t)=>p.jsx(b_,{ref:t,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));RD.displayName=b_.displayName;const I_=b.forwardRef(({className:n,...e},t)=>p.jsx(S_,{ref:t,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:p.jsx(__,{className:"h-4 w-4"})}));I_.displayName=S_.displayName;const D_=b.forwardRef(({className:n,...e},t)=>p.jsx(x_,{ref:t,className:je("text-sm font-semibold",n),...e}));D_.displayName=x_.displayName;const j_=b.forwardRef(({className:n,...e},t)=>p.jsx(w_,{ref:t,className:je("text-sm opacity-90",n),...e}));j_.displayName=w_.displayName;function ND(){const{toasts:n}=eI();return p.jsxs(PD,{children:[n.map(function({id:e,title:t,description:s,action:r,...i}){return p.jsxs(L_,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[t&&p.jsx(D_,{children:t}),s&&p.jsx(j_,{children:s})]}),r,p.jsx(I_,{})]},e)}),p.jsx(M_,{})]})}var dS=["light","dark"],MD="(prefers-color-scheme: dark)",LD=b.createContext(void 0),ID={setTheme:n=>{},themes:[]},DD=()=>{var n;return(n=b.useContext(LD))!=null?n:ID};b.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,f=r?dS.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,g=!1,S=!0)=>{let y=o?o[v]:v,x=g?v+"|| ''":`'${y}'`,w="";return r&&S&&!g&&dS.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),t==="class"?g||y?w+=`c.add(${x})`:w+="null":y&&(w+=`d[s](n,${x})`),w},m=n?`!function(){${d}${h(n)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${MD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var jD=n=>{switch(n){case"success":return BD;case"info":return zD;case"warning":return HD;case"error":return $D;default:return null}},FD=Array(12).fill(0),OD=({visible:n})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":n},W.createElement("div",{className:"sonner-spinner"},FD.map((e,t)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),BD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),HD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$D=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),UD=()=>{let[n,e]=W.useState(document.hidden);return W.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},y0=1,VD=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...s}=n,r=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:y0++,i=this.toasts.find(a=>a.id===r),o=n.dismissible===void 0?!0:n.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...n,id:r,title:t}),{...a,...n,id:r,dismissible:o,title:t}):a):this.addToast({title:t,...s,dismissible:o,id:r}),r},this.dismiss=n=>(n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=n instanceof Promise?n:n(),r=t!==void 0;return s.then(async i=>{if(GD(i)&&!i.ok){r=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:t,type:"error",message:o,description:a})}else if(e.success!==void 0){r=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:t,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){r=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:t,type:"error",message:o,description:a})}}).finally(()=>{var i;r&&(this.dismiss(t),t=void 0),(i=e.finally)==null||i.call(e)}),t},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||y0++;return this.create({jsx:n(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},zn=new VD,WD=(n,e)=>{let t=(e==null?void 0:e.id)||y0++;return zn.addToast({title:n,...e,id:t}),t},GD=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",qD=WD,KD=()=>zn.toasts,di=Object.assign(qD,{success:zn.success,info:zn.info,warning:zn.warning,error:zn.error,custom:zn.custom,message:zn.message,promise:zn.promise,dismiss:zn.dismiss,loading:zn.loading},{getHistory:KD});function YD(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}YD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wp(n){return n.label!==void 0}var XD=3,QD="32px",JD=4e3,ZD=356,e2=14,t2=20,n2=200;function s2(...n){return n.filter(Boolean).join(" ")}var r2=n=>{var e,t,s,r,i,o,a,l,u,d;let{invert:f,toast:h,unstyled:m,interacting:v,setHeights:g,visibleToasts:S,heights:y,index:x,toasts:w,expanded:E,removeToast:T,defaultRichColors:P,closeButton:k,style:R,cancelButtonStyle:M,actionButtonStyle:L,className:D="",descriptionClassName:O="",duration:H,position:I,gap:$,loadingIcon:j,expandByDefault:F,classNames:N,icons:B,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:U,cn:K}=n,[J,se]=W.useState(!1),[Re,ee]=W.useState(!1),[V,ce]=W.useState(!1),[Ee,te]=W.useState(!1),[we,ve]=W.useState(0),[ue,Ce]=W.useState(0),Ue=W.useRef(null),Te=W.useRef(null),gn=x===0,Tr=x+1<=S,vt=h.type,_i=h.dismissible!==!1,jl=h.className||"",bv=h.descriptionClassName||"",Fl=W.useMemo(()=>y.findIndex(he=>he.toastId===h.id)||0,[y,h.id]),Sv=W.useMemo(()=>{var he;return(he=h.closeButton)!=null?he:k},[h.closeButton,k]),Zf=W.useMemo(()=>h.duration||H||JD,[h.duration,H]),Ju=W.useRef(0),Rn=W.useRef(0),Yo=W.useRef(0),gs=W.useRef(null),[Ol,vN]=I.split("-"),Wb=W.useMemo(()=>y.reduce((he,Ve,He)=>He>=Fl?he:he+Ve.height,0),[y,Fl]),Gb=UD(),yN=h.invert||f,Av=vt==="loading";Rn.current=W.useMemo(()=>Fl*$+Wb,[Fl,Wb]),W.useEffect(()=>{se(!0)},[]),W.useLayoutEffect(()=>{if(!J)return;let he=Te.current,Ve=he.style.height;he.style.height="auto";let He=he.getBoundingClientRect().height;he.style.height=Ve,Ce(He),g(Gs=>Gs.find(qs=>qs.toastId===h.id)?Gs.map(qs=>qs.toastId===h.id?{...qs,height:He}:qs):[{toastId:h.id,height:He,position:h.position},...Gs])},[J,h.title,h.description,g,h.id]);let Ti=W.useCallback(()=>{ee(!0),ve(Rn.current),g(he=>he.filter(Ve=>Ve.toastId!==h.id)),setTimeout(()=>{T(h)},n2)},[h,T,g,Rn]);W.useEffect(()=>{if(h.promise&&vt==="loading"||h.duration===1/0||h.type==="loading")return;let he,Ve=Zf;return E||v||U&&Gb?(()=>{if(Yo.current<Ju.current){let He=new Date().getTime()-Ju.current;Ve=Ve-He}Yo.current=new Date().getTime()})():Ve!==1/0&&(Ju.current=new Date().getTime(),he=setTimeout(()=>{var He;(He=h.onAutoClose)==null||He.call(h,h),Ti()},Ve)),()=>clearTimeout(he)},[E,v,F,h,Zf,Ti,h.promise,vt,U,Gb]),W.useEffect(()=>{let he=Te.current;if(he){let Ve=he.getBoundingClientRect().height;return Ce(Ve),g(He=>[{toastId:h.id,height:Ve,position:h.position},...He]),()=>g(He=>He.filter(Gs=>Gs.toastId!==h.id))}},[g,h.id]),W.useEffect(()=>{h.delete&&Ti()},[Ti,h.delete]);function xN(){return B!=null&&B.loading?W.createElement("div",{className:"sonner-loader","data-visible":vt==="loading"},B.loading):j?W.createElement("div",{className:"sonner-loader","data-visible":vt==="loading"},j):W.createElement(OD,{visible:vt==="loading"})}return W.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Te,className:K(D,jl,N==null?void 0:N.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,N==null?void 0:N.default,N==null?void 0:N[vt],(t=h==null?void 0:h.classNames)==null?void 0:t[vt]),"data-sonner-toast":"","data-rich-colors":(s=h.richColors)!=null?s:P,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":J,"data-promise":!!h.promise,"data-removed":Re,"data-visible":Tr,"data-y-position":Ol,"data-x-position":vN,"data-index":x,"data-front":gn,"data-swiping":V,"data-dismissible":_i,"data-type":vt,"data-invert":yN,"data-swipe-out":Ee,"data-expanded":!!(E||F&&J),style:{"--index":x,"--toasts-before":x,"--z-index":w.length-x,"--offset":`${Re?we:Rn.current}px`,"--initial-height":F?"auto":`${ue}px`,...R,...h.style},onPointerDown:he=>{Av||!_i||(Ue.current=new Date,ve(Rn.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(ce(!0),gs.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,Ve,He,Gs;if(Ee||!_i)return;gs.current=null;let qs=Number(((he=Te.current)==null?void 0:he.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ep=new Date().getTime()-((Ve=Ue.current)==null?void 0:Ve.getTime()),wN=Math.abs(qs)/ep;if(Math.abs(qs)>=t2||wN>.11){ve(Rn.current),(He=h.onDismiss)==null||He.call(h,h),Ti(),te(!0);return}(Gs=Te.current)==null||Gs.style.setProperty("--swipe-amount","0px"),ce(!1)},onPointerMove:he=>{var Ve;if(!gs.current||!_i)return;let He=he.clientY-gs.current.y,Gs=he.clientX-gs.current.x,qs=(Ol==="top"?Math.min:Math.max)(0,He),ep=he.pointerType==="touch"?10:2;Math.abs(qs)>ep?(Ve=Te.current)==null||Ve.style.setProperty("--swipe-amount",`${He}px`):Math.abs(Gs)>ep&&(gs.current=null)}},Sv&&!h.jsx?W.createElement("button",{"aria-label":q,"data-disabled":Av,"data-close-button":!0,onClick:Av||!_i?()=>{}:()=>{var he;Ti(),(he=h.onDismiss)==null||he.call(h,h)},className:K(N==null?void 0:N.closeButton,(r=h==null?void 0:h.classNames)==null?void 0:r.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||W.isValidElement(h.title)?h.jsx||h.title:W.createElement(W.Fragment,null,vt||h.icon||h.promise?W.createElement("div",{"data-icon":"",className:K(N==null?void 0:N.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||xN():null,h.type!=="loading"?h.icon||(B==null?void 0:B[vt])||jD(vt):null):null,W.createElement("div",{"data-content":"",className:K(N==null?void 0:N.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:K(N==null?void 0:N.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?W.createElement("div",{"data-description":"",className:K(O,bv,N==null?void 0:N.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),W.isValidElement(h.cancel)?h.cancel:h.cancel&&wp(h.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||M,onClick:he=>{var Ve,He;wp(h.cancel)&&_i&&((He=(Ve=h.cancel).onClick)==null||He.call(Ve,he),Ti())},className:K(N==null?void 0:N.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,W.isValidElement(h.action)?h.action:h.action&&wp(h.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||L,onClick:he=>{var Ve,He;wp(h.action)&&(he.defaultPrevented||((He=(Ve=h.action).onClick)==null||He.call(Ve,he),Ti()))},className:K(N==null?void 0:N.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function hS(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var i2=n=>{let{invert:e,position:t="bottom-right",hotkey:s=["altKey","KeyT"],expand:r,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=XD,toastOptions:m,dir:v=hS(),gap:g=e2,loadingIcon:S,icons:y,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:w,cn:E=s2}=n,[T,P]=W.useState([]),k=W.useMemo(()=>Array.from(new Set([t].concat(T.filter(U=>U.position).map(U=>U.position)))),[T,t]),[R,M]=W.useState([]),[L,D]=W.useState(!1),[O,H]=W.useState(!1),[I,$]=W.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=W.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=W.useRef(null),B=W.useRef(!1),q=W.useCallback(U=>{var K;(K=T.find(J=>J.id===U.id))!=null&&K.delete||zn.dismiss(U.id),P(J=>J.filter(({id:se})=>se!==U.id))},[T]);return W.useEffect(()=>zn.subscribe(U=>{if(U.dismiss){P(K=>K.map(J=>J.id===U.id?{...J,delete:!0}:J));return}setTimeout(()=>{XC.flushSync(()=>{P(K=>{let J=K.findIndex(se=>se.id===U.id);return J!==-1?[...K.slice(0,J),{...K[J],...U},...K.slice(J+1)]:[U,...K]})})})}),[]),W.useEffect(()=>{if(l!=="system"){$(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:U})=>{$(U?"dark":"light")})},[l]),W.useEffect(()=>{T.length<=1&&D(!1)},[T]),W.useEffect(()=>{let U=K=>{var J,se;s.every(Re=>K[Re]||K.code===Re)&&(D(!0),(J=j.current)==null||J.focus()),K.code==="Escape"&&(document.activeElement===j.current||(se=j.current)!=null&&se.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[s]),W.useEffect(()=>{if(j.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,B.current=!1)}},[j.current]),T.length?W.createElement("section",{"aria-label":`${x} ${F}`,tabIndex:-1},k.map((U,K)=>{var J;let[se,Re]=U.split("-");return W.createElement("ol",{key:U,dir:v==="auto"?hS():v,tabIndex:-1,ref:j,className:o,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":se,"data-x-position":Re,style:{"--front-toast-height":`${((J=R[0])==null?void 0:J.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||QD,"--width":`${ZD}px`,"--gap":`${g}px`,...f},onBlur:ee=>{B.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(B.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||B.current||(B.current=!0,N.current=ee.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{O||D(!1)},onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},T.filter(ee=>!ee.position&&K===0||ee.position===U).map((ee,V)=>{var ce,Ee;return W.createElement(r2,{key:ee.id,icons:y,index:V,toast:ee,defaultRichColors:u,duration:(ce=m==null?void 0:m.duration)!=null?ce:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Ee=m==null?void 0:m.closeButton)!=null?Ee:i,interacting:O,position:U,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:q,toasts:T.filter(te=>te.position==ee.position),heights:R.filter(te=>te.position==ee.position),setHeights:M,expandByDefault:r,gap:g,loadingIcon:S,expanded:L,pauseWhenPageIsHidden:w,cn:E})}))})):null};const o2=({...n})=>{const{theme:e="system"}=DD();return p.jsx(i2,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var a2=qA.useId||(()=>{}),l2=0;function Wf(n){const[e,t]=b.useState(a2());return nn(()=>{t(s=>s??String(l2++))},[n]),e?`radix-${e}`:""}const c2=["top","right","bottom","left"],Io=Math.min,Vn=Math.max,Xm=Math.round,bp=Math.floor,Do=n=>({x:n,y:n}),u2={left:"right",right:"left",bottom:"top",top:"bottom"},d2={start:"end",end:"start"};function x0(n,e,t){return Vn(n,Io(e,t))}function xi(n,e){return typeof n=="function"?n(e):n}function wi(n){return n.split("-")[0]}function Gu(n){return n.split("-")[1]}function ib(n){return n==="x"?"y":"x"}function ob(n){return n==="y"?"height":"width"}function jo(n){return["top","bottom"].includes(wi(n))?"y":"x"}function ab(n){return ib(jo(n))}function h2(n,e,t){t===void 0&&(t=!1);const s=Gu(n),r=ab(n),i=ob(r);let o=r==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Qm(o)),[o,Qm(o)]}function f2(n){const e=Qm(n);return[w0(n),e,w0(e)]}function w0(n){return n.replace(/start|end/g,e=>d2[e])}function p2(n,e,t){const s=["left","right"],r=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:s:e?s:r;case"left":case"right":return e?i:o;default:return[]}}function m2(n,e,t,s){const r=Gu(n);let i=p2(wi(n),t==="start",s);return r&&(i=i.map(o=>o+"-"+r),e&&(i=i.concat(i.map(w0)))),i}function Qm(n){return n.replace(/left|right|bottom|top/g,e=>u2[e])}function g2(n){return{top:0,right:0,bottom:0,left:0,...n}}function F_(n){return typeof n!="number"?g2(n):{top:n,right:n,bottom:n,left:n}}function Jm(n){const{x:e,y:t,width:s,height:r}=n;return{width:s,height:r,top:t,left:e,right:e+s,bottom:t+r,x:e,y:t}}function fS(n,e,t){let{reference:s,floating:r}=n;const i=jo(e),o=ab(e),a=ob(o),l=wi(e),u=i==="y",d=s.x+s.width/2-r.width/2,f=s.y+s.height/2-r.height/2,h=s[a]/2-r[a]/2;let m;switch(l){case"top":m={x:d,y:s.y-r.height};break;case"bottom":m={x:d,y:s.y+s.height};break;case"right":m={x:s.x+s.width,y:f};break;case"left":m={x:s.x-r.width,y:f};break;default:m={x:s.x,y:s.y}}switch(Gu(e)){case"start":m[o]-=h*(t&&u?-1:1);break;case"end":m[o]+=h*(t&&u?-1:1);break}return m}const v2=async(n,e,t)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=t,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:f}=fS(u,s,l),h=s,m={},v=0;for(let g=0;g<a.length;g++){const{name:S,fn:y}=a[g],{x,y:w,data:E,reset:T}=await y({x:d,y:f,initialPlacement:s,placement:h,strategy:r,middlewareData:m,rects:u,platform:o,elements:{reference:n,floating:e}});d=x??d,f=w??f,m={...m,[S]:{...m[S],...E}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):T.rects),{x:d,y:f}=fS(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:r,middlewareData:m}};async function dh(n,e){var t;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:o,elements:a,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=xi(e,n),v=F_(m),S=a[h?f==="floating"?"reference":"floating":f],y=Jm(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(S)))==null||t?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),x=f==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},T=Jm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:w,strategy:l}):x);return{top:(y.top-T.top+v.top)/E.y,bottom:(T.bottom-y.bottom+v.bottom)/E.y,left:(y.left-T.left+v.left)/E.x,right:(T.right-y.right+v.right)/E.x}}const y2=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:r,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=xi(n,e)||{};if(u==null)return{};const f=F_(d),h={x:t,y:s},m=ab(r),v=ob(m),g=await o.getDimensions(u),S=m==="y",y=S?"top":"left",x=S?"bottom":"right",w=S?"clientHeight":"clientWidth",E=i.reference[v]+i.reference[m]-h[m]-i.floating[v],T=h[m]-i.reference[m],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=P?P[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(P)))&&(k=a.floating[w]||i.floating[v]);const R=E/2-T/2,M=k/2-g[v]/2-1,L=Io(f[y],M),D=Io(f[x],M),O=L,H=k-g[v]-D,I=k/2-g[v]/2+R,$=x0(O,I,H),j=!l.arrow&&Gu(r)!=null&&I!==$&&i.reference[v]/2-(I<O?L:D)-g[v]/2<0,F=j?I<O?I-O:I-H:0;return{[m]:h[m]+F,data:{[m]:$,centerOffset:I-$-F,...j&&{alignmentOffset:F}},reset:j}}}),x2=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...S}=xi(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const y=wi(r),x=jo(a),w=wi(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=h||(w||!g?[Qm(a)]:f2(a)),P=v!=="none";!h&&P&&T.push(...m2(a,g,v,E));const k=[a,...T],R=await dh(e,S),M=[];let L=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&M.push(R[y]),f){const I=h2(r,o,E);M.push(R[I[0]],R[I[1]])}if(L=[...L,{placement:r,overflows:M}],!M.every(I=>I<=0)){var D,O;const I=(((D=i.flip)==null?void 0:D.index)||0)+1,$=k[I];if($)return{data:{index:I,overflows:L},reset:{placement:$}};let j=(O=L.filter(F=>F.overflows[0]<=0).sort((F,N)=>F.overflows[1]-N.overflows[1])[0])==null?void 0:O.placement;if(!j)switch(m){case"bestFit":{var H;const F=(H=L.filter(N=>{if(P){const B=jo(N.placement);return B===x||B==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(B=>B>0).reduce((B,q)=>B+q,0)]).sort((N,B)=>N[1]-B[1])[0])==null?void 0:H[0];F&&(j=F);break}case"initialPlacement":j=a;break}if(r!==j)return{reset:{placement:j}}}return{}}}};function pS(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function mS(n){return c2.some(e=>n[e]>=0)}const w2=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...r}=xi(n,e);switch(s){case"referenceHidden":{const i=await dh(e,{...r,elementContext:"reference"}),o=pS(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:mS(o)}}}case"escaped":{const i=await dh(e,{...r,altBoundary:!0}),o=pS(i,t.floating);return{data:{escapedOffsets:o,escaped:mS(o)}}}default:return{}}}}};async function b2(n,e){const{placement:t,platform:s,elements:r}=n,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=wi(t),a=Gu(t),l=jo(t)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=xi(e,n);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const S2=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:r,y:i,placement:o,middlewareData:a}=e,l=await b2(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:o}}}}},A2=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:y,y:x}=S;return{x:y,y:x}}},...l}=xi(n,e),u={x:t,y:s},d=await dh(e,l),f=jo(wi(r)),h=ib(f);let m=u[h],v=u[f];if(i){const S=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=m+d[S],w=m-d[y];m=x0(x,m,w)}if(o){const S=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=v+d[S],w=v-d[y];v=x0(x,v,w)}const g=a.fn({...e,[h]:m,[f]:v});return{...g,data:{x:g.x-t,y:g.y-s,enabled:{[h]:i,[f]:o}}}}}},E2=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:r,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=xi(n,e),d={x:t,y:s},f=jo(r),h=ib(f);let m=d[h],v=d[f];const g=xi(a,e),S=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",E=i.reference[h]-i.floating[w]+S.mainAxis,T=i.reference[h]+i.reference[w]-S.mainAxis;m<E?m=E:m>T&&(m=T)}if(u){var y,x;const w=h==="y"?"width":"height",E=["top","left"].includes(wi(r)),T=i.reference[f]-i.floating[w]+(E&&((y=o.offset)==null?void 0:y[f])||0)+(E?0:S.crossAxis),P=i.reference[f]+i.reference[w]+(E?0:((x=o.offset)==null?void 0:x[f])||0)-(E?S.crossAxis:0);v<T?v=T:v>P&&(v=P)}return{[h]:m,[f]:v}}}},C2=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:r,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=xi(n,e),d=await dh(e,u),f=wi(r),h=Gu(r),m=jo(r)==="y",{width:v,height:g}=i.floating;let S,y;f==="top"||f==="bottom"?(S=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,S=h==="end"?"top":"bottom");const x=g-d.top-d.bottom,w=v-d.left-d.right,E=Io(g-d[S],x),T=Io(v-d[y],w),P=!e.middlewareData.shift;let k=E,R=T;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=w),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(k=x),P&&!h){const L=Vn(d.left,0),D=Vn(d.right,0),O=Vn(d.top,0),H=Vn(d.bottom,0);m?R=v-2*(L!==0||D!==0?L+D:Vn(d.left,d.right)):k=g-2*(O!==0||H!==0?O+H:Vn(d.top,d.bottom))}await l({...e,availableWidth:R,availableHeight:k});const M=await o.getDimensions(a.floating);return v!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function Xg(){return typeof window<"u"}function qu(n){return O_(n)?(n.nodeName||"").toLowerCase():"#document"}function Kn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Cr(n){var e;return(e=(O_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function O_(n){return Xg()?n instanceof Node||n instanceof Kn(n).Node:!1}function Us(n){return Xg()?n instanceof Element||n instanceof Kn(n).Element:!1}function Ar(n){return Xg()?n instanceof HTMLElement||n instanceof Kn(n).HTMLElement:!1}function gS(n){return!Xg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Kn(n).ShadowRoot}function Gf(n){const{overflow:e,overflowX:t,overflowY:s,display:r}=Vs(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!["inline","contents"].includes(r)}function _2(n){return["table","td","th"].includes(qu(n))}function Qg(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function lb(n){const e=cb(),t=Us(n)?Vs(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(t.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(t.contain||"").includes(s))}function T2(n){let e=Fo(n);for(;Ar(e)&&!Ou(e);){if(lb(e))return e;if(Qg(e))return null;e=Fo(e)}return null}function cb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ou(n){return["html","body","#document"].includes(qu(n))}function Vs(n){return Kn(n).getComputedStyle(n)}function Jg(n){return Us(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Fo(n){if(qu(n)==="html")return n;const e=n.assignedSlot||n.parentNode||gS(n)&&n.host||Cr(n);return gS(e)?e.host:e}function B_(n){const e=Fo(n);return Ou(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ar(e)&&Gf(e)?e:B_(e)}function hh(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=B_(n),i=r===((s=n.ownerDocument)==null?void 0:s.body),o=Kn(r);if(i){const a=b0(o);return e.concat(o,o.visualViewport||[],Gf(r)?r:[],a&&t?hh(a):[])}return e.concat(r,hh(r,[],t))}function b0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function H_(n){const e=Vs(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=Ar(n),i=r?n.offsetWidth:t,o=r?n.offsetHeight:s,a=Xm(t)!==i||Xm(s)!==o;return a&&(t=i,s=o),{width:t,height:s,$:a}}function ub(n){return Us(n)?n:n.contextElement}function vc(n){const e=ub(n);if(!Ar(e))return Do(1);const t=e.getBoundingClientRect(),{width:s,height:r,$:i}=H_(e);let o=(i?Xm(t.width):t.width)/s,a=(i?Xm(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const P2=Do(0);function z_(n){const e=Kn(n);return!cb()||!e.visualViewport?P2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function k2(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Kn(n)?!1:e}function gl(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=ub(n);let o=Do(1);e&&(s?Us(s)&&(o=vc(s)):o=vc(n));const a=k2(i,t,s)?z_(i):Do(0);let l=(r.left+a.x)/o.x,u=(r.top+a.y)/o.y,d=r.width/o.x,f=r.height/o.y;if(i){const h=Kn(i),m=s&&Us(s)?Kn(s):s;let v=h,g=b0(v);for(;g&&s&&m!==v;){const S=vc(g),y=g.getBoundingClientRect(),x=Vs(g),w=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*S.x,E=y.top+(g.clientTop+parseFloat(x.paddingTop))*S.y;l*=S.x,u*=S.y,d*=S.x,f*=S.y,l+=w,u+=E,v=Kn(g),g=b0(v)}}return Jm({width:d,height:f,x:l,y:u})}function R2(n){let{elements:e,rect:t,offsetParent:s,strategy:r}=n;const i=r==="fixed",o=Cr(s),a=e?Qg(e.floating):!1;if(s===o||a&&i)return t;let l={scrollLeft:0,scrollTop:0},u=Do(1);const d=Do(0),f=Ar(s);if((f||!f&&!i)&&((qu(s)!=="body"||Gf(o))&&(l=Jg(s)),Ar(s))){const h=gl(s);u=vc(s),d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+d.x,y:t.y*u.y-l.scrollTop*u.y+d.y}}function N2(n){return Array.from(n.getClientRects())}function S0(n,e){const t=Jg(n).scrollLeft;return e?e.left+t:gl(Cr(n)).left+t}function M2(n){const e=Cr(n),t=Jg(n),s=n.ownerDocument.body,r=Vn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Vn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-t.scrollLeft+S0(n);const a=-t.scrollTop;return Vs(s).direction==="rtl"&&(o+=Vn(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:a}}function L2(n,e){const t=Kn(n),s=Cr(n),r=t.visualViewport;let i=s.clientWidth,o=s.clientHeight,a=0,l=0;if(r){i=r.width,o=r.height;const u=cb();(!u||u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:i,height:o,x:a,y:l}}function I2(n,e){const t=gl(n,!0,e==="fixed"),s=t.top+n.clientTop,r=t.left+n.clientLeft,i=Ar(n)?vc(n):Do(1),o=n.clientWidth*i.x,a=n.clientHeight*i.y,l=r*i.x,u=s*i.y;return{width:o,height:a,x:l,y:u}}function vS(n,e,t){let s;if(e==="viewport")s=L2(n,t);else if(e==="document")s=M2(Cr(n));else if(Us(e))s=I2(e,t);else{const r=z_(n);s={...e,x:e.x-r.x,y:e.y-r.y}}return Jm(s)}function $_(n,e){const t=Fo(n);return t===e||!Us(t)||Ou(t)?!1:Vs(t).position==="fixed"||$_(t,e)}function D2(n,e){const t=e.get(n);if(t)return t;let s=hh(n,[],!1).filter(a=>Us(a)&&qu(a)!=="body"),r=null;const i=Vs(n).position==="fixed";let o=i?Fo(n):n;for(;Us(o)&&!Ou(o);){const a=Vs(o),l=lb(o);!l&&a.position==="fixed"&&(r=null),(i?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Gf(o)&&!l&&$_(n,o))?s=s.filter(d=>d!==o):r=a,o=Fo(o)}return e.set(n,s),s}function j2(n){let{element:e,boundary:t,rootBoundary:s,strategy:r}=n;const o=[...t==="clippingAncestors"?Qg(e)?[]:D2(e,this._c):[].concat(t),s],a=o[0],l=o.reduce((u,d)=>{const f=vS(e,d,r);return u.top=Vn(f.top,u.top),u.right=Io(f.right,u.right),u.bottom=Io(f.bottom,u.bottom),u.left=Vn(f.left,u.left),u},vS(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function F2(n){const{width:e,height:t}=H_(n);return{width:e,height:t}}function O2(n,e,t){const s=Ar(e),r=Cr(e),i=t==="fixed",o=gl(n,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Do(0);if(s||!s&&!i)if((qu(e)!=="body"||Gf(r))&&(a=Jg(e)),s){const m=gl(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else r&&(l.x=S0(r));let u=0,d=0;if(r&&!s&&!i){const m=r.getBoundingClientRect();d=m.top+a.scrollTop,u=m.left+a.scrollLeft-S0(r,m)}const f=o.left+a.scrollLeft-l.x-u,h=o.top+a.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function ty(n){return Vs(n).position==="static"}function yS(n,e){if(!Ar(n)||Vs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Cr(n)===t&&(t=t.ownerDocument.body),t}function U_(n,e){const t=Kn(n);if(Qg(n))return t;if(!Ar(n)){let r=Fo(n);for(;r&&!Ou(r);){if(Us(r)&&!ty(r))return r;r=Fo(r)}return t}let s=yS(n,e);for(;s&&_2(s)&&ty(s);)s=yS(s,e);return s&&Ou(s)&&ty(s)&&!lb(s)?t:s||T2(n)||t}const B2=async function(n){const e=this.getOffsetParent||U_,t=this.getDimensions,s=await t(n.floating);return{reference:O2(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function H2(n){return Vs(n).direction==="rtl"}const z2={convertOffsetParentRelativeRectToViewportRelativeRect:R2,getDocumentElement:Cr,getClippingRect:j2,getOffsetParent:U_,getElementRects:B2,getClientRects:N2,getDimensions:F2,getScale:vc,isElement:Us,isRTL:H2};function $2(n,e){let t=null,s;const r=Cr(n);function i(){var a;clearTimeout(s),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:f,height:h}=n.getBoundingClientRect();if(a||e(),!f||!h)return;const m=bp(d),v=bp(r.clientWidth-(u+f)),g=bp(r.clientHeight-(d+h)),S=bp(u),x={rootMargin:-m+"px "+-v+"px "+-g+"px "+-S+"px",threshold:Vn(0,Io(1,l))||1};let w=!0;function E(T){const P=T[0].intersectionRatio;if(P!==l){if(!w)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{t=new IntersectionObserver(E,{...x,root:r.ownerDocument})}catch{t=new IntersectionObserver(E,x)}t.observe(n)}return o(!0),i}function U2(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,u=ub(n),d=r||i?[...u?hh(u):[],...hh(e)]:[];d.forEach(y=>{r&&y.addEventListener("scroll",t,{passive:!0}),i&&y.addEventListener("resize",t)});const f=u&&a?$2(u,t):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),t()}),u&&!l&&m.observe(u),m.observe(e));let v,g=l?gl(n):null;l&&S();function S(){const y=gl(n);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&t(),g=y,v=requestAnimationFrame(S)}return t(),()=>{var y;d.forEach(x=>{r&&x.removeEventListener("scroll",t),i&&x.removeEventListener("resize",t)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const V2=S2,W2=A2,G2=x2,q2=C2,K2=w2,xS=y2,Y2=E2,X2=(n,e,t)=>{const s=new Map,r={platform:z2,...t},i={...r.platform,_c:s};return v2(n,e,{...r,platform:i})};var qp=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Zm(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!Zm(n[s],e[s]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=t;s--!==0;){const i=r[s];if(!(i==="_owner"&&n.$$typeof)&&!Zm(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function V_(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function wS(n,e){const t=V_(n);return Math.round(e*t)/t}function ny(n){const e=b.useRef(n);return qp(()=>{e.current=n}),e}function Q2(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=n,[d,f]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=b.useState(s);Zm(h,s)||m(s);const[v,g]=b.useState(null),[S,y]=b.useState(null),x=b.useCallback(N=>{N!==P.current&&(P.current=N,g(N))},[]),w=b.useCallback(N=>{N!==k.current&&(k.current=N,y(N))},[]),E=i||v,T=o||S,P=b.useRef(null),k=b.useRef(null),R=b.useRef(d),M=l!=null,L=ny(l),D=ny(r),O=ny(u),H=b.useCallback(()=>{if(!P.current||!k.current)return;const N={placement:e,strategy:t,middleware:h};D.current&&(N.platform=D.current),X2(P.current,k.current,N).then(B=>{const q={...B,isPositioned:O.current!==!1};I.current&&!Zm(R.current,q)&&(R.current=q,_l.flushSync(()=>{f(q)}))})},[h,e,t,D,O]);qp(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[u]);const I=b.useRef(!1);qp(()=>(I.current=!0,()=>{I.current=!1}),[]),qp(()=>{if(E&&(P.current=E),T&&(k.current=T),E&&T){if(L.current)return L.current(E,T,H);H()}},[E,T,H,L,M]);const $=b.useMemo(()=>({reference:P,floating:k,setReference:x,setFloating:w}),[x,w]),j=b.useMemo(()=>({reference:E,floating:T}),[E,T]),F=b.useMemo(()=>{const N={position:t,left:0,top:0};if(!j.floating)return N;const B=wS(j.floating,d.x),q=wS(j.floating,d.y);return a?{...N,transform:"translate("+B+"px, "+q+"px)",...V_(j.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:B,top:q}},[t,a,j.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:H,refs:$,elements:j,floatingStyles:F}),[d,H,$,j,F])}const J2=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:r}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?xS({element:s.current,padding:r}).fn(t):{}:s?xS({element:s,padding:r}).fn(t):{}}}},Z2=(n,e)=>({...V2(n),options:[n,e]}),ej=(n,e)=>({...W2(n),options:[n,e]}),tj=(n,e)=>({...Y2(n),options:[n,e]}),nj=(n,e)=>({...G2(n),options:[n,e]}),sj=(n,e)=>({...q2(n),options:[n,e]}),rj=(n,e)=>({...K2(n),options:[n,e]}),ij=(n,e)=>({...J2(n),options:[n,e]});var oj="Arrow",W_=b.forwardRef((n,e)=>{const{children:t,width:s=10,height:r=5,...i}=n;return p.jsx(Se.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});W_.displayName=oj;var aj=W_;function lj(n,e=[]){let t=[];function s(i,o){const a=b.createContext(o),l=t.length;t=[...t,o];function u(f){const{scope:h,children:m,...v}=f,g=(h==null?void 0:h[n][l])||a,S=b.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:S,children:m})}function d(f,h){const m=(h==null?void 0:h[n][l])||a,v=b.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const r=()=>{const i=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||i;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[s,cj(r,...e)]}function cj(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function uj(n){const[e,t]=b.useState(void 0);return nn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var db="Popper",[G_,Zg]=lj(db),[dj,q_]=G_(db),K_=n=>{const{__scopePopper:e,children:t}=n,[s,r]=b.useState(null);return p.jsx(dj,{scope:e,anchor:s,onAnchorChange:r,children:t})};K_.displayName=db;var Y_="PopperAnchor",X_=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...r}=n,i=q_(Y_,t),o=b.useRef(null),a=rt(e,o);return b.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:p.jsx(Se.div,{...r,ref:a})});X_.displayName=Y_;var hb="PopperContent",[hj,fj]=G_(hb),Q_=b.forwardRef((n,e)=>{var V,ce,Ee,te,we,ve;const{__scopePopper:t,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=n,S=q_(hb,t),[y,x]=b.useState(null),w=rt(e,ue=>x(ue)),[E,T]=b.useState(null),P=uj(E),k=(P==null?void 0:P.width)??0,R=(P==null?void 0:P.height)??0,M=s+(i!=="center"?"-"+i:""),L=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],O=D.length>0,H={padding:L,boundary:D.filter(mj),altBoundary:O},{refs:I,floatingStyles:$,placement:j,isPositioned:F,middlewareData:N}=Q2({strategy:"fixed",placement:M,whileElementsMounted:(...ue)=>U2(...ue,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[Z2({mainAxis:r+R,alignmentAxis:o}),l&&ej({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?tj():void 0,...H}),l&&nj({...H}),sj({...H,apply:({elements:ue,rects:Ce,availableWidth:Ue,availableHeight:Te})=>{const{width:gn,height:Tr}=Ce.reference,vt=ue.floating.style;vt.setProperty("--radix-popper-available-width",`${Ue}px`),vt.setProperty("--radix-popper-available-height",`${Te}px`),vt.setProperty("--radix-popper-anchor-width",`${gn}px`),vt.setProperty("--radix-popper-anchor-height",`${Tr}px`)}}),E&&ij({element:E,padding:a}),gj({arrowWidth:k,arrowHeight:R}),h&&rj({strategy:"referenceHidden",...H})]}),[B,q]=eT(j),U=kn(v);nn(()=>{F&&(U==null||U())},[F,U]);const K=(V=N.arrow)==null?void 0:V.x,J=(ce=N.arrow)==null?void 0:ce.y,se=((Ee=N.arrow)==null?void 0:Ee.centerOffset)!==0,[Re,ee]=b.useState();return nn(()=>{y&&ee(window.getComputedStyle(y).zIndex)},[y]),p.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:F?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(te=N.transformOrigin)==null?void 0:te.x,(we=N.transformOrigin)==null?void 0:we.y].join(" "),...((ve=N.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(hj,{scope:t,placedSide:B,onArrowChange:T,arrowX:K,arrowY:J,shouldHideArrow:se,children:p.jsx(Se.div,{"data-side":B,"data-align":q,...g,ref:w,style:{...g.style,animation:F?void 0:"none"}})})})});Q_.displayName=hb;var J_="PopperArrow",pj={top:"bottom",right:"left",bottom:"top",left:"right"},Z_=b.forwardRef(function(e,t){const{__scopePopper:s,...r}=e,i=fj(J_,s),o=pj[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(aj,{...r,ref:t,style:{...r.style,display:"block"}})})});Z_.displayName=J_;function mj(n){return n!==null}var gj=n=>({name:"transformOrigin",options:n,fn(e){var S,y,x;const{placement:t,rects:s,middlewareData:r}=e,o=((S=r.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[u,d]=eT(t),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=r.arrow)==null?void 0:y.x)??0)+a/2,m=(((x=r.arrow)==null?void 0:x.y)??0)+l/2;let v="",g="";return u==="bottom"?(v=o?f:`${h}px`,g=`${-l}px`):u==="top"?(v=o?f:`${h}px`,g=`${s.floating.height+l}px`):u==="right"?(v=`${-l}px`,g=o?f:`${m}px`):u==="left"&&(v=`${s.floating.width+l}px`,g=o?f:`${m}px`),{data:{x:v,y:g}}}});function eT(n){const[e,t="center"]=n.split("-");return[e,t]}var vj=K_,tT=X_,nT=Q_,sT=Z_,[ev,A8]=Ug("Tooltip",[Zg]),fb=Zg(),rT="TooltipProvider",yj=700,bS="tooltip.open",[xj,iT]=ev(rT),oT=n=>{const{__scopeTooltip:e,delayDuration:t=yj,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=n,[o,a]=b.useState(!0),l=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),p.jsx(xj,{scope:e,isOpenDelayed:o,delayDuration:t,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:r,children:i})};oT.displayName=rT;var aT="Tooltip",[E8,tv]=ev(aT),A0="TooltipTrigger",wj=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=tv(A0,t),i=iT(A0,t),o=fb(t),a=b.useRef(null),l=rt(e,a,r.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),p.jsx(tT,{asChild:!0,...o,children:p.jsx(Se.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:l,onPointerMove:oe(n.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:oe(n.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:oe(n.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:oe(n.onFocus,()=>{u.current||r.onOpen()}),onBlur:oe(n.onBlur,r.onClose),onClick:oe(n.onClick,r.onClose)})})});wj.displayName=A0;var bj="TooltipPortal",[C8,Sj]=ev(bj,{forceMount:void 0}),Bu="TooltipContent",lT=b.forwardRef((n,e)=>{const t=Sj(Bu,n.__scopeTooltip),{forceMount:s=t.forceMount,side:r="top",...i}=n,o=tv(Bu,n.__scopeTooltip);return p.jsx(Wg,{present:s||o.open,children:o.disableHoverableContent?p.jsx(cT,{side:r,...i,ref:e}):p.jsx(Aj,{side:r,...i,ref:e})})}),Aj=b.forwardRef((n,e)=>{const t=tv(Bu,n.__scopeTooltip),s=iT(Bu,n.__scopeTooltip),r=b.useRef(null),i=rt(e,r),[o,a]=b.useState(null),{trigger:l,onClose:u}=t,d=r.current,{onPointerInTransitChange:f}=s,h=b.useCallback(()=>{a(null),f(!1)},[f]),m=b.useCallback((v,g)=>{const S=v.currentTarget,y={x:v.clientX,y:v.clientY},x=Tj(y,S.getBoundingClientRect()),w=Pj(y,x),E=kj(g.getBoundingClientRect()),T=Nj([...w,...E]);a(T),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const v=S=>m(S,d),g=S=>m(S,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),b.useEffect(()=>{if(o){const v=g=>{const S=g.target,y={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),w=!Rj(y,o);x?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,u,h]),p.jsx(cT,{...n,ref:i})}),[Ej,Cj]=ev(aT,{isInside:!1}),cT=b.forwardRef((n,e)=>{const{__scopeTooltip:t,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=n,l=tv(Bu,t),u=fb(t),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(bS,d),()=>document.removeEventListener(bS,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),p.jsx(Vg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:p.jsxs(nT,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(ZC,{children:s}),p.jsx(Ej,{scope:t,isInside:!0,children:p.jsx(EI,{id:l.contentId,role:"tooltip",children:r||s})})]})})});lT.displayName=Bu;var uT="TooltipArrow",_j=b.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=fb(t);return Cj(uT,t).isInside?null:p.jsx(sT,{...r,...s,ref:e})});_j.displayName=uT;function Tj(n,e){const t=Math.abs(e.top-n.y),s=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,s,r,i)){case i:return"left";case r:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Pj(n,e,t=5){const s=[];switch(e){case"top":s.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":s.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":s.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":s.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return s}function kj(n){const{top:e,right:t,bottom:s,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:s},{x:r,y:s}]}function Rj(n,e){const{x:t,y:s}=n;let r=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>s!=d>s&&t<(u-a)*(s-l)/(d-l)+a&&(r=!r)}return r}function Nj(n){const e=n.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),Mj(e)}function Mj(n){if(n.length<=1)return n.slice();const e=[];for(let s=0;s<n.length;s++){const r=n[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let s=n.length-1;s>=0;s--){const r=n[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var Lj=oT,dT=lT;const Ij=Lj,Dj=b.forwardRef(({className:n,sideOffset:e=4,...t},s)=>p.jsx(dT,{ref:s,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));Dj.displayName=dT.displayName;var nv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sv=typeof window>"u"||"Deno"in globalThis;function bs(){}function jj(n,e){return typeof n=="function"?n(e):n}function Fj(n){return typeof n=="number"&&n>=0&&n!==1/0}function Oj(n,e){return Math.max(n+(e||0)-Date.now(),0)}function SS(n,e){return typeof n=="function"?n(e):n}function Bj(n,e){return typeof n=="function"?n(e):n}function AS(n,e){const{type:t="all",exact:s,fetchStatus:r,predicate:i,queryKey:o,stale:a}=n;if(o){if(s){if(e.queryHash!==pb(o,e.options))return!1}else if(!ph(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||i&&!i(e))}function ES(n,e){const{exact:t,status:s,predicate:r,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(fh(e.options.mutationKey)!==fh(i))return!1}else if(!ph(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function pb(n,e){return((e==null?void 0:e.queryKeyHashFn)||fh)(n)}function fh(n){return JSON.stringify(n,(e,t)=>E0(t)?Object.keys(t).sort().reduce((s,r)=>(s[r]=t[r],s),{}):t)}function ph(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!ph(n[t],e[t])):!1}function hT(n,e){if(n===e)return n;const t=CS(n)&&CS(e);if(t||E0(n)&&E0(e)){const s=t?n:Object.keys(n),r=s.length,i=t?e:Object.keys(e),o=i.length,a=t?[]:{};let l=0;for(let u=0;u<o;u++){const d=t?u:i[u];(!t&&s.includes(d)||t)&&n[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=hT(n[d],e[d]),a[d]===n[d]&&n[d]!==void 0&&l++)}return r===o&&l===r?n:a}return e}function CS(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function E0(n){if(!_S(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!_S(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function _S(n){return Object.prototype.toString.call(n)==="[object Object]"}function Hj(n){return new Promise(e=>{setTimeout(e,n)})}function zj(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?hT(n,e):e}function $j(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function Uj(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var mb=Symbol();function fT(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===mb?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var ca,Hi,Ac,TA,Vj=(TA=class extends nv{constructor(){super();_(this,ca);_(this,Hi);_(this,Ac);A(this,Ac,e=>{if(!sv&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){c(this,Hi)||this.setEventListener(c(this,Ac))}onUnsubscribe(){var e;this.hasListeners()||((e=c(this,Hi))==null||e.call(this),A(this,Hi,void 0))}setEventListener(e){var t;A(this,Ac,e),(t=c(this,Hi))==null||t.call(this),A(this,Hi,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){c(this,ca)!==e&&(A(this,ca,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof c(this,ca)=="boolean"?c(this,ca):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ca=new WeakMap,Hi=new WeakMap,Ac=new WeakMap,TA),pT=new Vj,Ec,zi,Cc,PA,Wj=(PA=class extends nv{constructor(){super();_(this,Ec,!0);_(this,zi);_(this,Cc);A(this,Cc,e=>{if(!sv&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){c(this,zi)||this.setEventListener(c(this,Cc))}onUnsubscribe(){var e;this.hasListeners()||((e=c(this,zi))==null||e.call(this),A(this,zi,void 0))}setEventListener(e){var t;A(this,Cc,e),(t=c(this,zi))==null||t.call(this),A(this,zi,e(this.setOnline.bind(this)))}setOnline(e){c(this,Ec)!==e&&(A(this,Ec,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return c(this,Ec)}},Ec=new WeakMap,zi=new WeakMap,Cc=new WeakMap,PA),eg=new Wj;function Gj(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});t.status="pending",t.catch(()=>{});function s(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{s({status:"fulfilled",value:r}),n(r)},t.reject=r=>{s({status:"rejected",reason:r}),e(r)},t}function qj(n){return Math.min(1e3*2**n,3e4)}function mT(n){return(n??"online")==="online"?eg.isOnline():!0}var gT=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function sy(n){return n instanceof gT}function vT(n){let e=!1,t=0,s=!1,r;const i=Gj(),o=g=>{var S;s||(h(new gT(g)),(S=n.abort)==null||S.call(n))},a=()=>{e=!0},l=()=>{e=!1},u=()=>pT.isFocused()&&(n.networkMode==="always"||eg.isOnline())&&n.canRun(),d=()=>mT(n.networkMode)&&n.canRun(),f=g=>{var S;s||(s=!0,(S=n.onSuccess)==null||S.call(n,g),r==null||r(),i.resolve(g))},h=g=>{var S;s||(s=!0,(S=n.onError)==null||S.call(n,g),r==null||r(),i.reject(g))},m=()=>new Promise(g=>{var S;r=y=>{(s||u())&&g(y)},(S=n.onPause)==null||S.call(n)}).then(()=>{var g;r=void 0,s||(g=n.onContinue)==null||g.call(n)}),v=()=>{if(s)return;let g;const S=t===0?n.initialPromise:void 0;try{g=S??n.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var P;if(s)return;const x=n.retry??(sv?0:3),w=n.retryDelay??qj,E=typeof w=="function"?w(t,y):w,T=x===!0||typeof x=="number"&&t<x||typeof x=="function"&&x(t,y);if(e||!T){h(y);return}t++,(P=n.onFail)==null||P.call(n,t,y),Hj(E).then(()=>u()?void 0:m()).then(()=>{e?h(y):v()})})};return{promise:i,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),i)}}function Kj(){let n=[],e=0,t=a=>{a()},s=a=>{a()},r=a=>setTimeout(a,0);const i=a=>{e?n.push(a):r(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&r(()=>{s(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{r=a}}}var ln=Kj(),ua,kA,yT=(kA=class{constructor(){_(this,ua)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fj(this.gcTime)&&A(this,ua,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(sv?1/0:5*60*1e3))}clearGcTimeout(){c(this,ua)&&(clearTimeout(c(this,ua)),A(this,ua,void 0))}},ua=new WeakMap,kA),_c,Tc,es,qt,bh,da,As,Nr,RA,Yj=(RA=class extends yT{constructor(e){super();_(this,As);_(this,_c);_(this,Tc);_(this,es);_(this,qt);_(this,bh);_(this,da);A(this,da,!1),A(this,bh,e.defaultOptions),this.setOptions(e.options),this.observers=[],A(this,es,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,A(this,_c,Qj(this.options)),this.state=e.state??c(this,_c),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=c(this,qt))==null?void 0:e.promise}setOptions(e){this.options={...c(this,bh),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&c(this,es).remove(this)}setData(e,t){const s=zj(this.state.data,e,this.options);return C(this,As,Nr).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){C(this,As,Nr).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,r;const t=(s=c(this,qt))==null?void 0:s.promise;return(r=c(this,qt))==null||r.cancel(e),t?t.then(bs).catch(bs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(c(this,_c))}isActive(){return this.observers.some(e=>Bj(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Oj(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=c(this,qt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=c(this,qt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),c(this,es).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(c(this,qt)&&(c(this,da)?c(this,qt).cancel({revert:!0}):c(this,qt).cancelRetry()),this.scheduleGc()),c(this,es).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||C(this,As,Nr).call(this,{type:"invalidate"})}fetch(e,t){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(c(this,qt))return c(this,qt).continueRetry(),c(this,qt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,r=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(A(this,da,!0),s.signal)})},i=()=>{const f=fT(this.options,t),h={queryKey:this.queryKey,meta:this.meta};return r(h),A(this,da,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(o),(l=this.options.behavior)==null||l.onFetch(o,this),A(this,Tc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&C(this,As,Nr).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,m,v,g;sy(f)&&f.silent||C(this,As,Nr).call(this,{type:"error",error:f}),sy(f)||((m=(h=c(this,es).config).onError)==null||m.call(h,f,this),(g=(v=c(this,es).config).onSettled)==null||g.call(v,this.state.data,f,this)),this.scheduleGc()};return A(this,qt,vT({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var h,m,v,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(S){a(S);return}(m=(h=c(this,es).config).onSuccess)==null||m.call(h,f,this),(g=(v=c(this,es).config).onSettled)==null||g.call(v,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{C(this,As,Nr).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{C(this,As,Nr).call(this,{type:"pause"})},onContinue:()=>{C(this,As,Nr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),c(this,qt).start()}},_c=new WeakMap,Tc=new WeakMap,es=new WeakMap,qt=new WeakMap,bh=new WeakMap,da=new WeakMap,As=new WeakSet,Nr=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Xj(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return sy(r)&&r.revert&&c(this,Tc)?{...c(this,Tc),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),ln.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),c(this,es).notify({query:this,type:"updated",action:e})})},RA);function Xj(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mT(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Qj(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Js,NA,Jj=(NA=class extends nv{constructor(e={}){super();_(this,Js);this.config=e,A(this,Js,new Map)}build(e,t,s){const r=t.queryKey,i=t.queryHash??pb(r,t);let o=this.get(i);return o||(o=new Yj({cache:this,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){c(this,Js).has(e.queryHash)||(c(this,Js).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=c(this,Js).get(e.queryHash);t&&(e.destroy(),t===e&&c(this,Js).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return c(this,Js).get(e)}getAll(){return[...c(this,Js).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>AS(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>AS(e,s)):t}notify(e){ln.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Js=new WeakMap,NA),Zs,on,ha,er,Ni,MA,Zj=(MA=class extends yT{constructor(e){super();_(this,er);_(this,Zs);_(this,on);_(this,ha);this.mutationId=e.mutationId,A(this,on,e.mutationCache),A(this,Zs,[]),this.state=e.state||eF(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){c(this,Zs).includes(e)||(c(this,Zs).push(e),this.clearGcTimeout(),c(this,on).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){A(this,Zs,c(this,Zs).filter(t=>t!==e)),this.scheduleGc(),c(this,on).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){c(this,Zs).length||(this.state.status==="pending"?this.scheduleGc():c(this,on).remove(this))}continue(){var e;return((e=c(this,ha))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,i,o,a,l,u,d,f,h,m,v,g,S,y,x,w,E,T,P,k;A(this,ha,vT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(R,M)=>{C(this,er,Ni).call(this,{type:"failed",failureCount:R,error:M})},onPause:()=>{C(this,er,Ni).call(this,{type:"pause"})},onContinue:()=>{C(this,er,Ni).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>c(this,on).canRun(this)}));const t=this.state.status==="pending",s=!c(this,ha).canStart();try{if(!t){C(this,er,Ni).call(this,{type:"pending",variables:e,isPaused:s}),await((i=(r=c(this,on).config).onMutate)==null?void 0:i.call(r,e,this));const M=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));M!==this.state.context&&C(this,er,Ni).call(this,{type:"pending",context:M,variables:e,isPaused:s})}const R=await c(this,ha).start();return await((u=(l=c(this,on).config).onSuccess)==null?void 0:u.call(l,R,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,R,e,this.state.context)),await((m=(h=c(this,on).config).onSettled)==null?void 0:m.call(h,R,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,R,null,e,this.state.context)),C(this,er,Ni).call(this,{type:"success",data:R}),R}catch(R){try{throw await((y=(S=c(this,on).config).onError)==null?void 0:y.call(S,R,e,this.state.context,this)),await((w=(x=this.options).onError)==null?void 0:w.call(x,R,e,this.state.context)),await((T=(E=c(this,on).config).onSettled)==null?void 0:T.call(E,void 0,R,this.state.variables,this.state.context,this)),await((k=(P=this.options).onSettled)==null?void 0:k.call(P,void 0,R,e,this.state.context)),R}finally{C(this,er,Ni).call(this,{type:"error",error:R})}}finally{c(this,on).runNext(this)}}},Zs=new WeakMap,on=new WeakMap,ha=new WeakMap,er=new WeakSet,Ni=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ln.batch(()=>{c(this,Zs).forEach(s=>{s.onMutationUpdate(e)}),c(this,on).notify({mutation:this,type:"updated",action:e})})},MA);function eF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mn,Sh,LA,tF=(LA=class extends nv{constructor(e={}){super();_(this,Mn);_(this,Sh);this.config=e,A(this,Mn,new Map),A(this,Sh,Date.now())}build(e,t,s){const r=new Zj({mutationCache:this,mutationId:++_t(this,Sh)._,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){const t=Sp(e),s=c(this,Mn).get(t)??[];s.push(e),c(this,Mn).set(t,s),this.notify({type:"added",mutation:e})}remove(e){var s;const t=Sp(e);if(c(this,Mn).has(t)){const r=(s=c(this,Mn).get(t))==null?void 0:s.filter(i=>i!==e);r&&(r.length===0?c(this,Mn).delete(t):c(this,Mn).set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){var s;const t=(s=c(this,Mn).get(Sp(e)))==null?void 0:s.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){var s;const t=(s=c(this,Mn).get(Sp(e)))==null?void 0:s.find(r=>r!==e&&r.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...c(this,Mn).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(s=>ES(t,s))}findAll(e={}){return this.getAll().filter(t=>ES(e,t))}notify(e){ln.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ln.batch(()=>Promise.all(e.map(t=>t.continue().catch(bs))))}},Mn=new WeakMap,Sh=new WeakMap,LA);function Sp(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function TS(n){return{onFetch:(e,t)=>{var d,f,h,m,v;const s=e.options,r=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const S=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=fT(e.options,e.fetchOptions),x=async(w,E,T)=>{if(g)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const P={queryKey:e.queryKey,pageParam:E,direction:T?"backward":"forward",meta:e.options.meta};S(P);const k=await y(P),{maxPages:R}=e.options,M=T?Uj:$j;return{pages:M(w.pages,k,R),pageParams:M(w.pageParams,E,R)}};if(r&&i.length){const w=r==="backward",E=w?nF:PS,T={pages:i,pageParams:o},P=E(s,T);a=await x(T,P,w)}else{const w=n??i.length;do{const E=l===0?o[0]??s.initialPageParam:PS(s,a);if(l>0&&E==null)break;a=await x(a,E),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,S;return(S=(g=e.options).persister)==null?void 0:S.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function PS(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function nF(n,{pages:e,pageParams:t}){var s;return e.length>0?(s=n.getPreviousPageParam)==null?void 0:s.call(n,e[0],e,t[0],t):void 0}var it,$i,Ui,Pc,kc,Vi,Rc,Nc,IA,sF=(IA=class{constructor(n={}){_(this,it);_(this,$i);_(this,Ui);_(this,Pc);_(this,kc);_(this,Vi);_(this,Rc);_(this,Nc);A(this,it,n.queryCache||new Jj),A(this,$i,n.mutationCache||new tF),A(this,Ui,n.defaultOptions||{}),A(this,Pc,new Map),A(this,kc,new Map),A(this,Vi,0)}mount(){_t(this,Vi)._++,c(this,Vi)===1&&(A(this,Rc,pT.subscribe(async n=>{n&&(await this.resumePausedMutations(),c(this,it).onFocus())})),A(this,Nc,eg.subscribe(async n=>{n&&(await this.resumePausedMutations(),c(this,it).onOnline())})))}unmount(){var n,e;_t(this,Vi)._--,c(this,Vi)===0&&((n=c(this,Rc))==null||n.call(this),A(this,Rc,void 0),(e=c(this,Nc))==null||e.call(this),A(this,Nc,void 0))}isFetching(n){return c(this,it).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return c(this,$i).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=c(this,it).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),s=c(this,it).build(this,t);return n.revalidateIfStale&&s.isStaleByTime(SS(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return c(this,it).findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),r=c(this,it).get(s.queryHash),i=r==null?void 0:r.state.data,o=jj(e,i);if(o!==void 0)return c(this,it).build(this,s).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return ln.batch(()=>c(this,it).findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=c(this,it).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=c(this,it);ln.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=c(this,it),s={type:"active",...n};return ln.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries(s,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},s=ln.batch(()=>c(this,it).findAll(n).map(r=>r.cancel(t)));return Promise.all(s).then(bs).catch(bs)}invalidateQueries(n={},e={}){return ln.batch(()=>{if(c(this,it).findAll(n).forEach(s=>{s.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=ln.batch(()=>c(this,it).findAll(n).filter(r=>!r.isDisabled()).map(r=>{let i=r.fetch(void 0,t);return t.throwOnError||(i=i.catch(bs)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(bs)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=c(this,it).build(this,e);return t.isStaleByTime(SS(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(bs).catch(bs)}fetchInfiniteQuery(n){return n.behavior=TS(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(bs).catch(bs)}ensureInfiniteQueryData(n){return n.behavior=TS(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return eg.isOnline()?c(this,$i).resumePausedMutations():Promise.resolve()}getQueryCache(){return c(this,it)}getMutationCache(){return c(this,$i)}getDefaultOptions(){return c(this,Ui)}setDefaultOptions(n){A(this,Ui,n)}setQueryDefaults(n,e){c(this,Pc).set(fh(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...c(this,Pc).values()];let t={};return e.forEach(s=>{ph(n,s.queryKey)&&(t={...t,...s.defaultOptions})}),t}setMutationDefaults(n,e){c(this,kc).set(fh(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...c(this,kc).values()];let t={};return e.forEach(s=>{ph(n,s.mutationKey)&&(t={...t,...s.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...c(this,Ui).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=pb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===mb&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...c(this,Ui).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){c(this,it).clear(),c(this,$i).clear()}},it=new WeakMap,$i=new WeakMap,Ui=new WeakMap,Pc=new WeakMap,kc=new WeakMap,Vi=new WeakMap,Rc=new WeakMap,Nc=new WeakMap,IA),rF=b.createContext(void 0),iF=({client:n,children:e})=>(b.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),p.jsx(rF.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mh(){return mh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},mh.apply(this,arguments)}var bo;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(bo||(bo={}));const kS="popstate";function oF(n){n===void 0&&(n={});function e(r,i){let{pathname:o="/",search:a="",hash:l=""}=Pl(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),C0("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:tg(i))}function s(r,i){gb(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return lF(e,t,s,n)}function dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gb(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aF(){return Math.random().toString(36).substr(2,8)}function RS(n,e){return{usr:n.state,key:n.key,idx:e}}function C0(n,e,t,s){return t===void 0&&(t=null),mh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Pl(e):e,{state:t,key:e&&e.key||s||aF()})}function tg(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Pl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function lF(n,e,t,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,a=bo.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(mh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=bo.Pop;let S=d(),y=S==null?null:S-u;u=S,l&&l({action:a,location:g.location,delta:y})}function h(S,y){a=bo.Push;let x=C0(g.location,S,y);t&&t(x,S),u=d()+1;let w=RS(x,u),E=g.createHref(x);try{o.pushState(w,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(E)}i&&l&&l({action:a,location:g.location,delta:1})}function m(S,y){a=bo.Replace;let x=C0(g.location,S,y);t&&t(x,S),u=d();let w=RS(x,u),E=g.createHref(x);o.replaceState(w,"",E),i&&l&&l({action:a,location:g.location,delta:0})}function v(S){let y=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof S=="string"?S:tg(S);return x=x.replace(/ $/,"%20"),dt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return a},get location(){return n(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(kS,f),l=S,()=>{r.removeEventListener(kS,f),l=null}},createHref(S){return e(r,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(S){return o.go(S)}};return g}var NS;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(NS||(NS={}));function cF(n,e,t){return t===void 0&&(t="/"),uF(n,e,t,!1)}function uF(n,e,t,s){let r=typeof e=="string"?Pl(e):e,i=vb(r.pathname||"/",t);if(i==null)return null;let o=xT(n);dF(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=SF(i);a=wF(o[l],u,s)}return a}function xT(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let r=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(dt(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let u=No([s,l.relativePath]),d=t.concat(l);i.children&&i.children.length>0&&(dt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xT(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:yF(u,i.index),routesMeta:d})};return n.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))r(i,o);else for(let l of wT(i.path))r(i,o,l)}),e}function wT(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=wT(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function dF(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:xF(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const hF=/^:[\w-]+$/,fF=3,pF=2,mF=1,gF=10,vF=-2,MS=n=>n==="*";function yF(n,e){let t=n.split("/"),s=t.length;return t.some(MS)&&(s+=vF),e&&(s+=pF),t.filter(r=>!MS(r)).reduce((r,i)=>r+(hF.test(i)?fF:i===""?mF:gF),s)}function xF(n,e){return n.length===e.length&&n.slice(0,-1).every((s,r)=>s===e[r])?n[n.length-1]-e[e.length-1]:0}function wF(n,e,t){let{routesMeta:s}=n,r={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],u=a===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=LS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&t&&!s[s.length-1].route.index&&(f=LS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:No([i,f.pathname]),pathnameBase:_F(No([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=No([i,f.pathnameBase]))}return o}function LS(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=bF(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=a[f];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:n}}function bF(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),gb(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function SF(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gb(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function vb(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function AF(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:r=""}=typeof n=="string"?Pl(n):n;return{pathname:t?t.startsWith("/")?t:EF(t,e):e,search:TF(s),hash:PF(r)}}function EF(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function ry(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CF(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yb(n,e){let t=CF(n);return e?t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function xb(n,e,t,s){s===void 0&&(s=!1);let r;typeof n=="string"?r=Pl(n):(r=mh({},n),dt(!r.pathname||!r.pathname.includes("?"),ry("?","pathname","search",r)),dt(!r.pathname||!r.pathname.includes("#"),ry("#","pathname","hash",r)),dt(!r.search||!r.search.includes("#"),ry("#","search","hash",r)));let i=n===""||r.pathname==="",o=i?"/":r.pathname,a;if(o==null)a=t;else{let f=e.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;r.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=AF(r,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const No=n=>n.join("/").replace(/\/\/+/g,"/"),_F=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),TF=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,PF=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function kF(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const bT=["post","put","patch","delete"];new Set(bT);const RF=["get",...bT];new Set(RF);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gh(){return gh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},gh.apply(this,arguments)}const wb=b.createContext(null),NF=b.createContext(null),Wo=b.createContext(null),rv=b.createContext(null),Ei=b.createContext({outlet:null,matches:[],isDataRoute:!1}),ST=b.createContext(null);function MF(n,e){let{relative:t}=e===void 0?{}:e;Ku()||dt(!1);let{basename:s,navigator:r}=b.useContext(Wo),{hash:i,pathname:o,search:a}=CT(n,{relative:t}),l=o;return s!=="/"&&(l=o==="/"?s:No([s,o])),r.createHref({pathname:l,search:a,hash:i})}function Ku(){return b.useContext(rv)!=null}function kl(){return Ku()||dt(!1),b.useContext(rv).location}function AT(n){b.useContext(Wo).static||b.useLayoutEffect(n)}function Yu(){let{isDataRoute:n}=b.useContext(Ei);return n?WF():LF()}function LF(){Ku()||dt(!1);let n=b.useContext(wb),{basename:e,future:t,navigator:s}=b.useContext(Wo),{matches:r}=b.useContext(Ei),{pathname:i}=kl(),o=JSON.stringify(yb(r,t.v7_relativeSplatPath)),a=b.useRef(!1);return AT(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){s.go(u);return}let f=xb(u,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:No([e,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[e,s,o,i,n])}function ET(){let{matches:n}=b.useContext(Ei),e=n[n.length-1];return e?e.params:{}}function CT(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=b.useContext(Wo),{matches:r}=b.useContext(Ei),{pathname:i}=kl(),o=JSON.stringify(yb(r,s.v7_relativeSplatPath));return b.useMemo(()=>xb(n,JSON.parse(o),i,t==="path"),[n,o,i,t])}function IF(n,e){return DF(n,e)}function DF(n,e,t,s){Ku()||dt(!1);let{navigator:r}=b.useContext(Wo),{matches:i}=b.useContext(Ei),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=kl(),d;if(e){var f;let S=typeof e=="string"?Pl(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||dt(!1),d=S}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=cF(n,{pathname:m}),g=HF(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:No([l,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:No([l,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,t,s);return e&&g?b.createElement(rv.Provider,{value:{location:gh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bo.Pop}},g):g}function jF(){let n=VF(),e=kF(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:r},t):null,null)}const FF=b.createElement(jF,null);class OF extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?b.createElement(Ei.Provider,{value:this.props.routeContext},b.createElement(ST.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BF(n){let{routeContext:e,match:t,children:s}=n,r=b.useContext(wb);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ei.Provider,{value:e},s)}function HF(n,e,t,s){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||dt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=t,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,g=null,S=null;t&&(m=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||FF,l&&(u<0&&h===0?(v=!0,S=null):u===h&&(v=!0,S=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),x=()=>{let w;return m?w=g:v?w=S:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,b.createElement(BF,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:t!=null},children:w})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(OF,{location:t.location,revalidation:t.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var _T=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(_T||{}),ng=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(ng||{});function zF(n){let e=b.useContext(wb);return e||dt(!1),e}function $F(n){let e=b.useContext(NF);return e||dt(!1),e}function UF(n){let e=b.useContext(Ei);return e||dt(!1),e}function TT(n){let e=UF(),t=e.matches[e.matches.length-1];return t.route.id||dt(!1),t.route.id}function VF(){var n;let e=b.useContext(ST),t=$F(ng.UseRouteError),s=TT(ng.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function WF(){let{router:n}=zF(_T.UseNavigateStable),e=TT(ng.UseNavigateStable),t=b.useRef(!1);return AT(()=>{t.current=!0}),b.useCallback(function(r,i){i===void 0&&(i={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,gh({fromRouteId:e},i)))},[n,e])}function GF(n){let{to:e,replace:t,state:s,relative:r}=n;Ku()||dt(!1);let{future:i,static:o}=b.useContext(Wo),{matches:a}=b.useContext(Ei),{pathname:l}=kl(),u=Yu(),d=xb(e,yb(a,i.v7_relativeSplatPath),l,r==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:t,state:s,relative:r}),[u,f,r,t,s]),null}function Xs(n){dt(!1)}function qF(n){let{basename:e="/",children:t=null,location:s,navigationType:r=bo.Pop,navigator:i,static:o=!1,future:a}=n;Ku()&&dt(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:o,future:gh({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=Pl(s));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=s,g=b.useMemo(()=>{let S=vb(d,l);return S==null?null:{location:{pathname:S,search:f,hash:h,state:m,key:v},navigationType:r}},[l,d,f,h,m,v,r]);return g==null?null:b.createElement(Wo.Provider,{value:u},b.createElement(rv.Provider,{children:t,value:g}))}function KF(n){let{children:e,location:t}=n;return IF(_0(e),t)}new Promise(()=>{});function _0(n,e){e===void 0&&(e=[]);let t=[];return b.Children.forEach(n,(s,r)=>{if(!b.isValidElement(s))return;let i=[...e,r];if(s.type===b.Fragment){t.push.apply(t,_0(s.props.children,i));return}s.type!==Xs&&dt(!1),!s.props.index||!s.props.children||dt(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=_0(s.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T0(){return T0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},T0.apply(this,arguments)}function YF(n,e){if(n==null)return{};var t={},s=Object.keys(n),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function XF(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function QF(n,e){return n.button===0&&(!e||e==="_self")&&!XF(n)}function P0(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let s=n[t];return e.concat(Array.isArray(s)?s.map(r=>[t,r]):[[t,s]])},[]))}function JF(n,e){let t=P0(n);return e&&e.forEach((s,r)=>{t.has(r)||e.getAll(r).forEach(i=>{t.append(r,i)})}),t}const ZF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eO="6";try{window.__reactRouterVersion=eO}catch{}const tO="startTransition",IS=qA[tO];function nO(n){let{basename:e,children:t,future:s,window:r}=n,i=b.useRef();i.current==null&&(i.current=oF({window:r,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=b.useCallback(f=>{u&&IS?IS(()=>l(f)):l(f)},[l,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(qF,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:s})}const sO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ae=b.forwardRef(function(e,t){let{onClick:s,relative:r,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=YF(e,ZF),{basename:m}=b.useContext(Wo),v,g=!1;if(typeof u=="string"&&rO.test(u)&&(v=u,sO))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),T=vb(E.pathname,m);E.origin===w.origin&&T!=null?u=T+E.search+E.hash:g=!0}catch{}let S=MF(u,{relative:r}),y=iO(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:f});function x(w){s&&s(w),w.defaultPrevented||y(w)}return b.createElement("a",T0({},h,{href:v||S,onClick:g||i?s:x,ref:t,target:l}))});var DS;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(DS||(DS={}));var jS;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(jS||(jS={}));function iO(n,e){let{target:t,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Yu(),u=kl(),d=CT(n,{relative:o});return b.useCallback(f=>{if(QF(f,t)){f.preventDefault();let h=s!==void 0?s:tg(u)===tg(d);l(n,{replace:h,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,s,r,t,n,i,o,a])}function oO(n){let e=b.useRef(P0(n)),t=b.useRef(!1),s=kl(),r=b.useMemo(()=>JF(s.search,t.current?null:e.current),[s.search]),i=Yu(),o=b.useCallback((a,l)=>{const u=P0(typeof a=="function"?a(r):a);t.current=!0,i("?"+u,l)},[i,r]);return[r,o]}const PT=b.createContext(void 0),aO=({children:n})=>{const[e,t]=b.useState(!1),[s,r]=b.useState(null),[i,o]=b.useState(!0);b.useEffect(()=>{const d=localStorage.getItem("isLoggedIn"),f=localStorage.getItem("userName"),h=localStorage.getItem("userEmail");t(d==="true"),d==="true"&&h&&r({name:f||"Student",email:h}),o(!1)},[]);const u={isLoggedIn:e,user:s,login:async(d,f)=>{try{return localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userEmail",d),localStorage.getItem("userName")||localStorage.setItem("userName","Student"),t(!0),r({name:localStorage.getItem("userName")||"Student",email:d}),Promise.resolve()}catch(h){return Promise.reject(h)}},logout:()=>{localStorage.removeItem("isLoggedIn"),t(!1),r(null)},loading:i};return p.jsx(PT.Provider,{value:u,children:n})},Rl=()=>{const n=b.useContext(PT);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},lO=Kg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ke=b.forwardRef(({className:n,variant:e,size:t,asChild:s=!1,...r},i)=>{const o=s?Fu:"button";return p.jsx(o,{className:je(lO({variant:e,size:t,className:n})),ref:i,...r})});ke.displayName="Button";const cO=()=>p.jsxs("div",{className:"bg-gradient-to-r from-education-primary to-education-secondary text-white",children:[p.jsx("div",{className:"container-custom py-16 md:py-24",children:p.jsxs("div",{className:"grid md:grid-cols-2 gap-10 items-center",children:[p.jsxs("div",{className:"animate-fade-in",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Your Path to Grade 9 Success Starts Here"}),p.jsx("p",{className:"text-lg md:text-xl mb-8 text-blue-100",children:"Interactive lessons, practice exercises, and progress tracking designed specifically for grade 9 students."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsx(ae,{to:"/courses",children:p.jsx(ke,{size:"lg",className:"bg-white text-education-primary hover:bg-blue-50",children:"Explore Courses"})}),p.jsx(ae,{to:"/register",children:p.jsx(ke,{size:"lg",variant:"outline",className:"border-white text-black hover:bg-white/10",children:"Sign Up For Free"})})]})]}),p.jsx("div",{className:"hidden md:block",children:p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute -top-16 -left-16 w-32 h-32 bg-education-accent rounded-full opacity-20"}),p.jsx("div",{className:"absolute -bottom-8 -right-8 w-24 h-24 bg-yellow-400 rounded-full opacity-20"}),p.jsx("div",{className:"bg-white p-4 rounded-lg shadow-xl",children:p.jsx("img",{src:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=750&q=80",alt:"Students learning",className:"rounded-md"})})]})})]})}),p.jsx("div",{className:"w-full h-16 bg-gradient-to-b from-education-secondary/80 to-transparent"})]}),uO=[{id:1,name:"Mathematics",icon:"",color:"bg-blue-100 text-blue-600",description:"Algebra, geometry, and more"},{id:2,name:"Intergrated Science",icon:"",color:"bg-green-100 text-green-600",description:"Biology, chemistry, physics"},{id:3,name:"English",icon:"",color:"bg-purple-100 text-purple-600",description:"Literature, grammar, writing"},{id:4,name:"Distinction Social Studies",icon:"",color:"bg-amber-100 text-amber-600",description:"World events and civilizations,Natural Environments"},{id:5,name:"Agrinutrition",icon:"",color:"bg-teal-100 text-teal-600",description:"Agriculture and nutrition"},{id:6,name:"Pre-technical studies",icon:"",color:"bg-indigo-100 text-indigo-600",description:"Communication,business and entrepreneurship"},{id:7,name:"Computer Science",icon:"",color:"bg-indigo-100 text-indigo-600",description:"Programming and technology"},{id:8,name:"Creative Arts",icon:"",color:"bg-indigo-100 text-indigo-600",description:"Creative arts and sports"},{id:9,name:"Kiswahili",icon:"",color:"bg-indigo-100 text-indigo-600",description:"Communication in the swahili Language"}],dO=()=>p.jsx("section",{className:"py-16 bg-gray-50",children:p.jsxs("div",{className:"container-custom",children:[p.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Explore Subjects"}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:uO.map(n=>p.jsxs(ae,{to:`/courses?subject=${n.name.toLowerCase()}`,className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow p-6 flex items-start space-x-4 border border-gray-100",children:[p.jsx("div",{className:`${n.color} rounded-full p-4 text-2xl`,children:n.icon}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-lg mb-1",children:n.name}),p.jsx("p",{className:"text-gray-600",children:n.description})]})]},n.id))})]})}),_r=b.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));_r.displayName="Card";const Nl=b.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:je("flex flex-col space-y-1.5 p-6",n),...e}));Nl.displayName="CardHeader";const Xu=b.forwardRef(({className:n,...e},t)=>p.jsx("h3",{ref:t,className:je("text-2xl font-semibold leading-none tracking-tight",n),...e}));Xu.displayName="CardTitle";const qf=b.forwardRef(({className:n,...e},t)=>p.jsx("p",{ref:t,className:je("text-sm text-muted-foreground",n),...e}));qf.displayName="CardDescription";const Ci=b.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:je("p-6 pt-0",n),...e}));Ci.displayName="CardContent";const Ml=b.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:je("flex items-center p-6 pt-0",n),...e}));Ml.displayName="CardFooter";const hO=Kg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function fO({className:n,variant:e,...t}){return p.jsx("div",{className:je(hO({variant:e}),n),...t})}const kT=({course:n})=>p.jsxs(_r,{className:"overflow-hidden h-full flex flex-col hover:shadow-md transition-shadow pt-40",children:[p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:n.image,alt:n.title,className:"w-full h-48 object-cover"}),p.jsx(fO,{className:"absolute top-3 left-3",variant:n.isFeatured?"default":"secondary",children:n.subject})]}),p.jsx(Nl,{className:"pb-2",children:p.jsx("h3",{className:"text-xl font-bold",children:n.title})}),p.jsxs(Ci,{className:"flex-grow",children:[p.jsx("p",{className:"text-gray-600 line-clamp-3",children:n.description}),p.jsxs("div",{className:"flex items-center mt-4 text-sm text-gray-500",children:[p.jsxs("span",{className:"flex items-center",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})}),n.level]}),p.jsx("span",{className:"mx-3",children:""}),p.jsxs("span",{className:"flex items-center",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),n.lessonCount," lessons"]})]})]}),p.jsx(Ml,{children:p.jsx(ae,{to:`/course/${n.id}`,className:"w-full",children:p.jsx(ke,{className:"w-full",variant:"outline",children:"View Course"})})})]}),pO=[{id:1,title:"Mathematics Fundamentals",subject:"Mathematics",description:"Master the foundations of Mathematics with interactive lessons and practice problems.",image:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:15,isFeatured:!0},{id:2,title:"Biology,Physics and Chemistry Basics",subject:"Intergrated Science",description:"Explore the fascinating world of cells, organisms, and biological systems.",image:"https://images.unsplash.com/photo-1579154341088-3e03c82fced8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:15,isFeatured:!0},{id:3,title:"Essay Writing Skills",subject:"English",description:"Develop strong writing skills and learn to craft compelling essays.",image:"https://images.unsplash.com/photo-1455390582262-044cdead277a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"All Levels",lessonCount:10,isFeatured:!0},{id:4,title:"Distinction Social Studies",subject:"Social Studies",description:"Explore the fascinating world of the Ancient History, Community Service and the Natural Environments in Africa",image:"https://images.unsplash.com/photo-1603126857599-f6e157fa2fe6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:14,isFeatured:!0},{id:5,title:"Agriculture and Nutrition Fundamentals",subject:"Agrinutrition",description:"Learn the Basics of Agriculture and Nutrition.Gain Knowledge on how to stay and eat healthy foods.Master Planting,weeding,pruning and harvesting of crops.",image:"https://images.unsplash.com/photo-1524661135-423995f22d0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Intermediate",lessonCount:18,isFeatured:!0},{id:7,title:"Introduction to Coding",subject:"Computer Science",description:"Learn the basics of programming with easy-to-follow lessons and exercises.",image:"https://images.unsplash.com/photo-1504639725590-34d0984388bd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:12,isFeatured:!0}],mO=()=>p.jsx("section",{className:"py-16",children:p.jsxs("div",{className:"container-custom",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold",children:"Featured Courses"}),p.jsx("a",{href:"/courses",className:"text-education-primary hover:underline font-medium",children:"View All Courses"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:pO.map(n=>p.jsx(kT,{course:n},n.id))})]})}),gO=()=>{const n=[{title:"Self-paced Learning",description:"Learn at your own pace with flexible course schedules and on-demand lessons."},{title:"Grade 9 Curriculum Aligned",description:"All courses are designed to align with standard grade 9 educational requirements."},{title:"Track Your Progress",description:"Monitor your learning journey with detailed progress tracking and analytics."},{title:"Interactive Lessons",description:"Engage with interactive content, quizzes, and exercises designed to enhance learning."},{title:"Expert Teachers",description:"Learn from experienced educators who specialize in teaching grade 9 students."},{title:"Learn Anywhere",description:"Access your courses on any device, anytime, anywhere with our responsive platform."}];return p.jsx("section",{className:"py-16 bg-gray-50",children:p.jsxs("div",{className:"container-custom",children:[p.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Why Choose GradeGlow?"}),p.jsx("p",{className:"text-gray-600",children:"We're dedicated to making your grade 9 learning experience engaging, effective, and enjoyable."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((e,t)=>p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex flex-col",children:[p.jsx("div",{className:"mb-4 text-education-primary",children:p.jsx(KI,{size:32})}),p.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),p.jsx("p",{className:"text-gray-600",children:e.description})]},t))})]})})},Ws=()=>{const[n,e]=b.useState(!1),{isLoggedIn:t,logout:s}=Rl(),r=Yu(),i=()=>{e(!n)},o=()=>{s(),r("/")};return p.jsxs("nav",{className:"  top-0 left-0 w-full z-50 bg-white shadow-sm py-4",children:[p.jsxs("div",{className:"container-custom flex justify-between items-center",children:[p.jsxs(ae,{to:"/",className:"flex items-center space-x-2",children:[p.jsx(Yg,{className:"h-8 w-8 text-education-primary"}),p.jsx("span",{className:"text-xl font-bold text-education-primary",children:"GradeGlow"})]}),p.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[p.jsxs("div",{className:"flex space-x-6",children:[p.jsx(ae,{to:"/",className:"text-gray-700 hover:text-education-primary transition-colors",children:"Home"}),p.jsx(ae,{to:"/courses",className:"text-gray-700 hover:text-education-primary transition-colors",children:"Courses"}),p.jsx(ae,{to:"/about",className:"text-gray-700 hover:text-education-primary transition-colors",children:"About"})]}),p.jsx("div",{className:"flex space-x-2",children:t?p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx(ae,{to:"/dashboard",children:p.jsx(ke,{variant:"outline",children:"Dashboard"})}),p.jsx(ke,{onClick:o,children:"Logout"})]}):p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(ae,{to:"/login",children:p.jsx(ke,{variant:"outline",children:"Login"})}),p.jsx(ae,{to:"/register",children:p.jsx(ke,{children:"Sign Up"})})]})})]}),p.jsx("button",{className:"md:hidden",onClick:i,children:n?p.jsx(__,{className:"h-6 w-6"}):p.jsx(YI,{className:"h-6 w-6"})})]}),n&&p.jsx("div",{className:"md:hidden bg-white shadow-lg absolute z-50 w-full",children:p.jsxs("div",{className:"flex flex-col px-4 pt-2 pb-6 space-y-4",children:[p.jsx(ae,{to:"/",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",onClick:i,children:"Home"}),p.jsx(ae,{to:"/courses",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",onClick:i,children:"Courses"}),p.jsx(ae,{to:"/about",className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",onClick:i,children:"About"}),p.jsx("div",{className:"border-t border-gray-200 pt-4 flex flex-col space-y-2",children:t?p.jsxs(p.Fragment,{children:[p.jsx(ae,{to:"/dashboard",onClick:i,children:p.jsx(ke,{className:"w-full",variant:"outline",children:"Dashboard"})}),p.jsx(ke,{className:"w-full",onClick:()=>{o(),i()},children:"Logout"})]}):p.jsxs(p.Fragment,{children:[p.jsx(ae,{to:"/login",onClick:i,children:p.jsx(ke,{className:"w-full",variant:"outline",children:"Login"})}),p.jsx(ae,{to:"/register",onClick:i,children:p.jsx(ke,{className:"w-full",children:"Sign Up"})})]})})]})})]})},Er=()=>p.jsx("footer",{className:"bg-gray-900 text-gray-200",children:p.jsxs("div",{className:"container-custom py-12",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[p.jsxs("div",{className:"col-span-1 md:col-span-1",children:[p.jsxs(ae,{to:"/",className:"flex items-center space-x-2",children:[p.jsx(Yg,{className:"h-8 w-8 text-white"}),p.jsx("span",{className:"text-xl font-bold text-white",children:"GradeGlow"})]}),p.jsx("p",{className:"mt-4 text-gray-400",children:"Your comprehensive learning platform designed specifically for grade 9 students."})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Subjects"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx(ae,{to:"/courses?subject=mathematics",className:"text-gray-400 hover:text-white transition-colors",children:"Mathematics"})}),p.jsx("li",{children:p.jsx(ae,{to:"/courses?subject=science",className:"text-gray-400 hover:text-white transition-colors",children:"Science"})}),p.jsx("li",{children:p.jsx(ae,{to:"/courses?subject=english",className:"text-gray-400 hover:text-white transition-colors",children:"English"})}),p.jsx("li",{children:p.jsx(ae,{to:"/courses?subject=history",className:"text-gray-400 hover:text-white transition-colors",children:"History"})})]})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx(ae,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"Home"})}),p.jsx("li",{children:p.jsx(ae,{to:"/courses",className:"text-gray-400 hover:text-white transition-colors",children:"All Courses"})}),p.jsx("li",{children:p.jsx(ae,{to:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),p.jsx("li",{children:p.jsx(ae,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact"})})]})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Account"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx(ae,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"Login"})}),p.jsx("li",{children:p.jsx(ae,{to:"/register",className:"text-gray-400 hover:text-white transition-colors",children:"Register"})}),p.jsx("li",{children:p.jsx(ae,{to:"/dashboard",className:"text-gray-400 hover:text-white transition-colors",children:"Dashboard"})}),p.jsx("li",{children:p.jsx(ae,{to:"/profile",className:"text-gray-400 hover:text-white transition-colors",children:"My Profile"})})]})]})]}),p.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[p.jsxs("p",{className:"text-gray-500 text-sm",children:[" ",new Date().getFullYear()," GradeGlow. All rights reserved."]}),p.jsx("p",{className:"text-gray-500 text-sm",children:"@ Smartech Solutions"}),p.jsxs("div",{className:"flex space-x-4 mt-4 md:mt-0",children:[p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Terms"}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy"}),p.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Cookies"})]})]})]})}),vO=()=>p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(Ws,{}),p.jsxs("main",{className:"flex-grow",children:[p.jsx(cO,{}),p.jsx(dO,{}),p.jsx(mO,{}),p.jsx(gO,{})]}),p.jsx(Er,{})]}),So=b.forwardRef(({className:n,type:e,...t},s)=>p.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:s,...t}));So.displayName="Input";var yO="Label",RT=b.forwardRef((n,e)=>p.jsx(Se.label,{...n,ref:e,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||((r=n.onMouseDown)==null||r.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));RT.displayName=yO;var NT=RT;const xO=Kg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),la=b.forwardRef(({className:n,...e},t)=>p.jsx(NT,{ref:t,className:je(xO(),n),...e}));la.displayName=NT.displayName;const wO=()=>{const n=Yu(),{login:e}=Rl(),[t,s]=b.useState({email:"",password:""}),[r,i]=b.useState(!1),o=l=>{const{name:u,value:d}=l.target;s(f=>({...f,[u]:d}))},a=async l=>{l.preventDefault(),i(!0);try{await e(t.email,t.password),di.success("Successfully logged in!"),n("/dashboard")}catch{di.error("Failed to login. Please check your credentials.")}finally{i(!1)}};return p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(Ws,{}),p.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50",children:p.jsxs(_r,{className:"w-full max-w-md",children:[p.jsxs(Nl,{className:"space-y-1",children:[p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx(Yg,{className:"h-12 w-12 text-education-primary"})}),p.jsx(Xu,{className:"text-2xl font-bold text-center",children:"Welcome back"}),p.jsx(qf,{className:"text-center",children:"Enter your credentials to access your account"})]}),p.jsxs("form",{onSubmit:a,children:[p.jsxs(Ci,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(la,{htmlFor:"email",children:"Email"}),p.jsx(So,{id:"email",name:"email",type:"email",placeholder:"name@example.com",required:!0,value:t.email,onChange:o})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(la,{htmlFor:"password",children:"Password"}),p.jsx(ae,{to:"/forgot-password",className:"text-sm text-education-primary hover:underline",children:"Forgot password?"})]}),p.jsx(So,{id:"password",name:"password",type:"password",required:!0,value:t.password,onChange:o})]})]}),p.jsxs(Ml,{className:"flex flex-col space-y-4",children:[p.jsx(ke,{className:"w-full",type:"submit",disabled:r,children:r?"Signing in...":"Sign In"}),p.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",p.jsx(ae,{to:"/register",className:"text-education-primary hover:underline font-medium",children:"Sign up"})]})]})]})]})}),p.jsx(Er,{})]})},bO=()=>{const n=Yu(),{login:e}=Rl(),[t,s]=b.useState({name:"",email:"",password:"",confirmPassword:""}),[r,i]=b.useState(!1),o=l=>{const{name:u,value:d}=l.target;s(f=>({...f,[u]:d}))},a=async l=>{if(l.preventDefault(),t.password!==t.confirmPassword){di.error("Passwords don't match");return}i(!0);try{localStorage.setItem("userName",t.name),localStorage.setItem("userEmail",t.email),await e(t.email,t.password),di.success("Account created successfully!"),n("/dashboard")}catch{di.error("Failed to create account")}finally{i(!1)}};return p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(Ws,{}),p.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50",children:p.jsxs(_r,{className:"w-full max-w-md",children:[p.jsxs(Nl,{className:"space-y-1",children:[p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx(Yg,{className:"h-12 w-12 text-education-primary"})}),p.jsx(Xu,{className:"text-2xl font-bold text-center",children:"Create an account"}),p.jsx(qf,{className:"text-center",children:"Enter your information to create an account"})]}),p.jsxs("form",{onSubmit:a,children:[p.jsxs(Ci,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(la,{htmlFor:"name",children:"Full Name"}),p.jsx(So,{id:"name",name:"name",placeholder:"John Doe",required:!0,value:t.name,onChange:o})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(la,{htmlFor:"email",children:"Email"}),p.jsx(So,{id:"email",name:"email",type:"email",placeholder:"name@example.com",required:!0,value:t.email,onChange:o})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(la,{htmlFor:"password",children:"Password"}),p.jsx(So,{id:"password",name:"password",type:"password",required:!0,value:t.password,onChange:o})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(la,{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx(So,{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:t.confirmPassword,onChange:o})]})]}),p.jsxs(Ml,{className:"flex flex-col space-y-4",children:[p.jsx(ke,{className:"w-full",type:"submit",disabled:r,children:r?"Creating account...":"Create Account"}),p.jsxs("div",{className:"text-center text-sm",children:["Already have an account?"," ",p.jsx(ae,{to:"/login",className:"text-education-primary hover:underline font-medium",children:"Sign in"})]})]})]})]})}),p.jsx(Er,{})]})};function FS(n,[e,t]){return Math.min(t,Math.max(e,n))}var SO=b.createContext(void 0);function bb(n){const e=b.useContext(SO);return n||e||"ltr"}var iy=0;function AO(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??OS()),document.body.insertAdjacentElement("beforeend",n[1]??OS()),iy++,()=>{iy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),iy--}},[])}function OS(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var oy="focusScope.autoFocusOnMount",ay="focusScope.autoFocusOnUnmount",BS={bubbles:!1,cancelable:!0},EO="FocusScope",MT=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...o}=n,[a,l]=b.useState(null),u=kn(r),d=kn(i),f=b.useRef(null),h=rt(e,g=>l(g)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(s){let g=function(w){if(m.paused||!a)return;const E=w.target;a.contains(E)?f.current=E:Mi(f.current,{select:!0})},S=function(w){if(m.paused||!a)return;const E=w.relatedTarget;E!==null&&(a.contains(E)||Mi(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const T of w)T.removedNodes.length>0&&Mi(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",S);const x=new MutationObserver(y);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",S),x.disconnect()}}},[s,a,m.paused]),b.useEffect(()=>{if(a){zS.add(m);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(oy,BS);a.addEventListener(oy,u),a.dispatchEvent(y),y.defaultPrevented||(CO(RO(LT(a)),{select:!0}),document.activeElement===g&&Mi(a))}return()=>{a.removeEventListener(oy,u),setTimeout(()=>{const y=new CustomEvent(ay,BS);a.addEventListener(ay,d),a.dispatchEvent(y),y.defaultPrevented||Mi(g??document.body,{select:!0}),a.removeEventListener(ay,d),zS.remove(m)},0)}}},[a,u,d,m]);const v=b.useCallback(g=>{if(!t&&!s||m.paused)return;const S=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(S&&y){const x=g.currentTarget,[w,E]=_O(x);w&&E?!g.shiftKey&&y===E?(g.preventDefault(),t&&Mi(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),t&&Mi(E,{select:!0})):y===x&&g.preventDefault()}},[t,s,m.paused]);return p.jsx(Se.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});MT.displayName=EO;function CO(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(Mi(s,{select:e}),document.activeElement!==t)return}function _O(n){const e=LT(n),t=HS(e,n),s=HS(e.reverse(),n);return[t,s]}function LT(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function HS(n,e){for(const t of n)if(!TO(t,{upTo:e}))return t}function TO(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function PO(n){return n instanceof HTMLInputElement&&"select"in n}function Mi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&PO(n)&&e&&n.select()}}var zS=kO();function kO(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=$S(n,e),n.unshift(e)},remove(e){var t;n=$S(n,e),(t=n[0])==null||t.resume()}}}function $S(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function RO(n){return n.filter(e=>e.tagName!=="A")}function NO(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var MO=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Hl=new WeakMap,Ap=new WeakMap,Ep={},ly=0,IT=function(n){return n&&(n.host||IT(n.parentNode))},LO=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=IT(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},IO=function(n,e,t,s){var r=LO(e,Array.isArray(n)?n:[n]);Ep[t]||(Ep[t]=new WeakMap);var i=Ep[t],o=[],a=new Set,l=new Set(r),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};r.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(s),v=m!==null&&m!=="false",g=(Hl.get(h)||0)+1,S=(i.get(h)||0)+1;Hl.set(h,g),i.set(h,S),o.push(h),g===1&&v&&Ap.set(h,!0),S===1&&h.setAttribute(t,"true"),v||h.setAttribute(s,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),a.clear(),ly++,function(){o.forEach(function(f){var h=Hl.get(f)-1,m=i.get(f)-1;Hl.set(f,h),i.set(f,m),h||(Ap.has(f)||f.removeAttribute(s),Ap.delete(f)),m||f.removeAttribute(t)}),ly--,ly||(Hl=new WeakMap,Hl=new WeakMap,Ap=new WeakMap,Ep={})}},DO=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),r=MO(n);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live]"))),IO(s,r,t,"aria-hidden")):function(){return null}},wr=function(){return wr=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},wr.apply(this,arguments)};function DT(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t}function jO(n,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return n.concat(i||Array.prototype.slice.call(e))}var Kp="right-scroll-bar-position",Yp="width-before-scroll-bar",FO="with-scroll-bars-hidden",OO="--removed-body-scroll-bar-size";function cy(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function BO(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var r=t.value;r!==s&&(t.value=s,t.callback(s,r))}}}})[0];return t.callback=e,t.facade}var HO=typeof window<"u"?b.useLayoutEffect:b.useEffect,US=new WeakMap;function zO(n,e){var t=BO(null,function(s){return n.forEach(function(r){return cy(r,s)})});return HO(function(){var s=US.get(t);if(s){var r=new Set(s),i=new Set(n),o=t.current;r.forEach(function(a){i.has(a)||cy(a,null)}),i.forEach(function(a){r.has(a)||cy(a,o)})}US.set(t,n)},[n]),t}function $O(n){return n}function UO(n,e){e===void 0&&(e=$O);var t=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(i){var o=e(i,s);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(s=!0;t.length;){var o=t;t=[],o.forEach(i)}t={push:function(a){return i(a)},filter:function(){return t}}},assignMedium:function(i){s=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(i),o=t}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),t={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),t}}}};return r}function VO(n){n===void 0&&(n={});var e=UO(null);return e.options=wr({async:!0,ssr:!1},n),e}var jT=function(n){var e=n.sideCar,t=DT(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return b.createElement(s,wr({},t))};jT.isSideCarExport=!0;function WO(n,e){return n.useMedium(e),jT}var FT=VO(),uy=function(){},iv=b.forwardRef(function(n,e){var t=b.useRef(null),s=b.useState({onScrollCapture:uy,onWheelCapture:uy,onTouchMoveCapture:uy}),r=s[0],i=s[1],o=n.forwardProps,a=n.children,l=n.className,u=n.removeScrollBar,d=n.enabled,f=n.shards,h=n.sideCar,m=n.noIsolation,v=n.inert,g=n.allowPinchZoom,S=n.as,y=S===void 0?"div":S,x=n.gapMode,w=DT(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,T=zO([t,e]),P=wr(wr({},w),r);return b.createElement(b.Fragment,null,d&&b.createElement(E,{sideCar:FT,removeScrollBar:u,shards:f,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:t,gapMode:x}),o?b.cloneElement(b.Children.only(a),wr(wr({},P),{ref:T})):b.createElement(y,wr({},P,{className:l,ref:T}),a))});iv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};iv.classNames={fullWidth:Yp,zeroRight:Kp};var GO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qO(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=GO();return e&&n.setAttribute("nonce",e),n}function KO(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function YO(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var XO=function(){var n=0,e=null;return{add:function(t){n==0&&(e=qO())&&(KO(e,t),YO(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},QO=function(){var n=XO();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},OT=function(){var n=QO(),e=function(t){var s=t.styles,r=t.dynamic;return n(s,r),null};return e},JO={left:0,top:0,right:0,gap:0},dy=function(n){return parseInt(n||"",10)||0},ZO=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[dy(t),dy(s),dy(r)]},e3=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return JO;var e=ZO(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},t3=OT(),yc="data-scroll-locked",n3=function(n,e,t,s){var r=n.left,i=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(FO,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(a,"px ").concat(s,`;
  }
  body[`).concat(yc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kp,` {
    right: `).concat(a,"px ").concat(s,`;
  }
  
  .`).concat(Yp,` {
    margin-right: `).concat(a,"px ").concat(s,`;
  }
  
  .`).concat(Kp," .").concat(Kp,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Yp," .").concat(Yp,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(yc,`] {
    `).concat(OO,": ").concat(a,`px;
  }
`)},VS=function(){var n=parseInt(document.body.getAttribute(yc)||"0",10);return isFinite(n)?n:0},s3=function(){b.useEffect(function(){return document.body.setAttribute(yc,(VS()+1).toString()),function(){var n=VS()-1;n<=0?document.body.removeAttribute(yc):document.body.setAttribute(yc,n.toString())}},[])},r3=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,r=s===void 0?"margin":s;s3();var i=b.useMemo(function(){return e3(r)},[r]);return b.createElement(t3,{styles:n3(i,!e,r,t?"":"!important")})},k0=!1;if(typeof window<"u")try{var Cp=Object.defineProperty({},"passive",{get:function(){return k0=!0,!0}});window.addEventListener("test",Cp,Cp),window.removeEventListener("test",Cp,Cp)}catch{k0=!1}var zl=k0?{passive:!1}:!1,i3=function(n){return n.tagName==="TEXTAREA"},BT=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!i3(n)&&t[e]==="visible")},o3=function(n){return BT(n,"overflowY")},a3=function(n){return BT(n,"overflowX")},WS=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=HT(n,s);if(r){var i=zT(n,s),o=i[1],a=i[2];if(o>a)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},l3=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},c3=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},HT=function(n,e){return n==="v"?o3(e):a3(e)},zT=function(n,e){return n==="v"?l3(e):c3(e)},u3=function(n,e){return n==="h"&&e==="rtl"?-1:1},d3=function(n,e,t,s,r){var i=u3(n,window.getComputedStyle(e).direction),o=i*s,a=t.target,l=e.contains(a),u=!1,d=o>0,f=0,h=0;do{var m=zT(n,a),v=m[0],g=m[1],S=m[2],y=g-S-i*v;(v||y)&&HT(n,a)&&(f+=y,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!r)||!d&&(Math.abs(h)<1||!r))&&(u=!0),u},_p=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},GS=function(n){return[n.deltaX,n.deltaY]},qS=function(n){return n&&"current"in n?n.current:n},h3=function(n,e){return n[0]===e[0]&&n[1]===e[1]},f3=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},p3=0,$l=[];function m3(n){var e=b.useRef([]),t=b.useRef([0,0]),s=b.useRef(),r=b.useState(p3++)[0],i=b.useState(OT)[0],o=b.useRef(n);b.useEffect(function(){o.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var g=jO([n.lockRef.current],(n.shards||[]).map(qS),!0).filter(Boolean);return g.forEach(function(S){return S.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),g.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var a=b.useCallback(function(g,S){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=_p(g),x=t.current,w="deltaX"in g?g.deltaX:x[0]-y[0],E="deltaY"in g?g.deltaY:x[1]-y[1],T,P=g.target,k=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in g&&k==="h"&&P.type==="range")return!1;var R=WS(k,P);if(!R)return!0;if(R?T=k:(T=k==="v"?"h":"v",R=WS(k,P)),!R)return!1;if(!s.current&&"changedTouches"in g&&(w||E)&&(s.current=T),!T)return!0;var M=s.current||T;return d3(M,S,g,M==="h"?w:E,!0)},[]),l=b.useCallback(function(g){var S=g;if(!(!$l.length||$l[$l.length-1]!==i)){var y="deltaY"in S?GS(S):_p(S),x=e.current.filter(function(T){return T.name===S.type&&(T.target===S.target||S.target===T.shadowParent)&&h3(T.delta,y)})[0];if(x&&x.should){S.cancelable&&S.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(qS).filter(Boolean).filter(function(T){return T.contains(S.target)}),E=w.length>0?a(S,w[0]):!o.current.noIsolation;E&&S.cancelable&&S.preventDefault()}}},[]),u=b.useCallback(function(g,S,y,x){var w={name:g,delta:S,target:y,should:x,shadowParent:g3(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),d=b.useCallback(function(g){t.current=_p(g),s.current=void 0},[]),f=b.useCallback(function(g){u(g.type,GS(g),g.target,a(g,n.lockRef.current))},[]),h=b.useCallback(function(g){u(g.type,_p(g),g.target,a(g,n.lockRef.current))},[]);b.useEffect(function(){return $l.push(i),n.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,zl),document.addEventListener("touchmove",l,zl),document.addEventListener("touchstart",d,zl),function(){$l=$l.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,zl),document.removeEventListener("touchmove",l,zl),document.removeEventListener("touchstart",d,zl)}},[]);var m=n.removeScrollBar,v=n.inert;return b.createElement(b.Fragment,null,v?b.createElement(i,{styles:f3(r)}):null,m?b.createElement(r3,{gapMode:n.gapMode}):null)}function g3(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const v3=WO(FT,m3);var $T=b.forwardRef(function(n,e){return b.createElement(iv,wr({},n,{ref:e,sideCar:v3}))});$T.classNames=iv.classNames;var y3=[" ","Enter","ArrowUp","ArrowDown"],x3=[" ","Enter"],Kf="Select",[ov,av,w3]=Zw(Kf),[Qu,_8]=Ug(Kf,[w3,Zg]),lv=Zg(),[b3,Go]=Qu(Kf),[S3,A3]=Qu(Kf),UT=n=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:r,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=n,g=lv(e),[S,y]=b.useState(null),[x,w]=b.useState(null),[E,T]=b.useState(!1),P=bb(u),[k=!1,R]=uh({prop:s,defaultProp:r,onChange:i}),[M,L]=uh({prop:o,defaultProp:a,onChange:l}),D=b.useRef(null),O=S?v||!!S.closest("form"):!0,[H,I]=b.useState(new Set),$=Array.from(H).map(j=>j.props.value).join(";");return p.jsx(vj,{...g,children:p.jsxs(b3,{required:m,scope:e,trigger:S,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:E,onValueNodeHasChildrenChange:T,contentId:Wf(),value:M,onValueChange:L,open:k,onOpenChange:R,dir:P,triggerPointerDownPosRef:D,disabled:h,children:[p.jsx(ov.Provider,{scope:e,children:p.jsx(S3,{scope:n.__scopeSelect,onNativeOptionAdd:b.useCallback(j=>{I(F=>new Set(F).add(j))},[]),onNativeOptionRemove:b.useCallback(j=>{I(F=>{const N=new Set(F);return N.delete(j),N})},[]),children:t})}),O?p.jsxs(pP,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:M,onChange:j=>L(j.target.value),disabled:h,form:v,children:[M===void 0?p.jsx("option",{value:""}):null,Array.from(H)]},$):null]})})};UT.displayName=Kf;var VT="SelectTrigger",WT=b.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:s=!1,...r}=n,i=lv(t),o=Go(VT,t),a=o.disabled||s,l=rt(e,o.onTriggerChange),u=av(t),d=b.useRef("touch"),[f,h,m]=mP(g=>{const S=u().filter(w=>!w.disabled),y=S.find(w=>w.value===o.value),x=gP(S,g,y);x!==void 0&&o.onValueChange(x.value)}),v=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return p.jsx(tT,{asChild:!0,...i,children:p.jsx(Se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":fP(o.value)?"":void 0,...r,ref:l,onClick:oe(r.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:oe(r.onPointerDown,g=>{d.current=g.pointerType;const S=g.target;S.hasPointerCapture(g.pointerId)&&S.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:oe(r.onKeyDown,g=>{const S=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(S&&g.key===" ")&&y3.includes(g.key)&&(v(),g.preventDefault())})})})});WT.displayName=VT;var GT="SelectValue",qT=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:r,children:i,placeholder:o="",...a}=n,l=Go(GT,t),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=rt(e,l.onValueNodeChange);return nn(()=>{u(d)},[u,d]),p.jsx(Se.span,{...a,ref:f,style:{pointerEvents:"none"},children:fP(l.value)?p.jsx(p.Fragment,{children:o}):i})});qT.displayName=GT;var E3="SelectIcon",KT=b.forwardRef((n,e)=>{const{__scopeSelect:t,children:s,...r}=n;return p.jsx(Se.span,{"aria-hidden":!0,...r,ref:e,children:s||""})});KT.displayName=E3;var C3="SelectPortal",YT=n=>p.jsx(eb,{asChild:!0,...n});YT.displayName=C3;var vl="SelectContent",XT=b.forwardRef((n,e)=>{const t=Go(vl,n.__scopeSelect),[s,r]=b.useState();if(nn(()=>{r(new DocumentFragment)},[]),!t.open){const i=s;return i?_l.createPortal(p.jsx(QT,{scope:n.__scopeSelect,children:p.jsx(ov.Slot,{scope:n.__scopeSelect,children:p.jsx("div",{children:n.children})})}),i):null}return p.jsx(JT,{...n,ref:e})});XT.displayName=vl;var ys=10,[QT,qo]=Qu(vl),_3="SelectContentImpl",JT=b.forwardRef((n,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:S,...y}=n,x=Go(vl,t),[w,E]=b.useState(null),[T,P]=b.useState(null),k=rt(e,V=>E(V)),[R,M]=b.useState(null),[L,D]=b.useState(null),O=av(t),[H,I]=b.useState(!1),$=b.useRef(!1);b.useEffect(()=>{if(w)return DO(w)},[w]),AO();const j=b.useCallback(V=>{const[ce,...Ee]=O().map(ve=>ve.ref.current),[te]=Ee.slice(-1),we=document.activeElement;for(const ve of V)if(ve===we||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===ce&&T&&(T.scrollTop=0),ve===te&&T&&(T.scrollTop=T.scrollHeight),ve==null||ve.focus(),document.activeElement!==we))return},[O,T]),F=b.useCallback(()=>j([R,w]),[j,R,w]);b.useEffect(()=>{H&&F()},[H,F]);const{onOpenChange:N,triggerPointerDownPosRef:B}=x;b.useEffect(()=>{if(w){let V={x:0,y:0};const ce=te=>{var we,ve;V={x:Math.abs(Math.round(te.pageX)-(((we=B.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(te.pageY)-(((ve=B.current)==null?void 0:ve.y)??0))}},Ee=te=>{V.x<=10&&V.y<=10?te.preventDefault():w.contains(te.target)||N(!1),document.removeEventListener("pointermove",ce),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[w,N,B]),b.useEffect(()=>{const V=()=>N(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[N]);const[q,U]=mP(V=>{const ce=O().filter(we=>!we.disabled),Ee=ce.find(we=>we.ref.current===document.activeElement),te=gP(ce,V,Ee);te&&setTimeout(()=>te.ref.current.focus())}),K=b.useCallback((V,ce,Ee)=>{const te=!$.current&&!Ee;(x.value!==void 0&&x.value===ce||te)&&(M(V),te&&($.current=!0))},[x.value]),J=b.useCallback(()=>w==null?void 0:w.focus(),[w]),se=b.useCallback((V,ce,Ee)=>{const te=!$.current&&!Ee;(x.value!==void 0&&x.value===ce||te)&&D(V)},[x.value]),Re=s==="popper"?R0:ZT,ee=Re===R0?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:S}:{};return p.jsx(QT,{scope:t,content:w,viewport:T,onViewportChange:P,itemRefCallback:K,selectedItem:R,onItemLeave:J,itemTextRefCallback:se,focusSelectedItem:F,selectedItemText:L,position:s,isPositioned:H,searchRef:q,children:p.jsx($T,{as:Fu,allowPinchZoom:!0,children:p.jsx(MT,{asChild:!0,trapped:x.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:oe(r,V=>{var ce;(ce=x.trigger)==null||ce.focus({preventScroll:!0}),V.preventDefault()}),children:p.jsx(Vg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:p.jsx(Re,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:V=>V.preventDefault(),...y,...ee,onPlaced:()=>I(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:oe(y.onKeyDown,V=>{const ce=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!ce&&V.key.length===1&&U(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let te=O().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(V.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const we=V.target,ve=te.indexOf(we);te=te.slice(ve+1)}setTimeout(()=>j(te)),V.preventDefault()}})})})})})})});JT.displayName=_3;var T3="SelectItemAlignedPosition",ZT=b.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:s,...r}=n,i=Go(vl,t),o=qo(vl,t),[a,l]=b.useState(null),[u,d]=b.useState(null),f=rt(e,k=>d(k)),h=av(t),m=b.useRef(!1),v=b.useRef(!0),{viewport:g,selectedItem:S,selectedItemText:y,focusSelectedItem:x}=o,w=b.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&g&&S&&y){const k=i.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),L=y.getBoundingClientRect();if(i.dir!=="rtl"){const we=L.left-R.left,ve=M.left-we,ue=k.left-ve,Ce=k.width+ue,Ue=Math.max(Ce,R.width),Te=window.innerWidth-ys,gn=FS(ve,[ys,Math.max(ys,Te-Ue)]);a.style.minWidth=Ce+"px",a.style.left=gn+"px"}else{const we=R.right-L.right,ve=window.innerWidth-M.right-we,ue=window.innerWidth-k.right-ve,Ce=k.width+ue,Ue=Math.max(Ce,R.width),Te=window.innerWidth-ys,gn=FS(ve,[ys,Math.max(ys,Te-Ue)]);a.style.minWidth=Ce+"px",a.style.right=gn+"px"}const D=h(),O=window.innerHeight-ys*2,H=g.scrollHeight,I=window.getComputedStyle(u),$=parseInt(I.borderTopWidth,10),j=parseInt(I.paddingTop,10),F=parseInt(I.borderBottomWidth,10),N=parseInt(I.paddingBottom,10),B=$+j+H+N+F,q=Math.min(S.offsetHeight*5,B),U=window.getComputedStyle(g),K=parseInt(U.paddingTop,10),J=parseInt(U.paddingBottom,10),se=k.top+k.height/2-ys,Re=O-se,ee=S.offsetHeight/2,V=S.offsetTop+ee,ce=$+j+V,Ee=B-ce;if(ce<=se){const we=D.length>0&&S===D[D.length-1].ref.current;a.style.bottom="0px";const ve=u.clientHeight-g.offsetTop-g.offsetHeight,ue=Math.max(Re,ee+(we?J:0)+ve+F),Ce=ce+ue;a.style.height=Ce+"px"}else{const we=D.length>0&&S===D[0].ref.current;a.style.top="0px";const ue=Math.max(se,$+g.offsetTop+(we?K:0)+ee)+Ee;a.style.height=ue+"px",g.scrollTop=ce-se+g.offsetTop}a.style.margin=`${ys}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=O+"px",s==null||s(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,a,u,g,S,y,i.dir,s]);nn(()=>w(),[w]);const[E,T]=b.useState();nn(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const P=b.useCallback(k=>{k&&v.current===!0&&(w(),x==null||x(),v.current=!1)},[w,x]);return p.jsx(k3,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:p.jsx(Se.div,{...r,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});ZT.displayName=T3;var P3="SelectPopperPosition",R0=b.forwardRef((n,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:r=ys,...i}=n,o=lv(t);return p.jsx(nT,{...o,...i,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});R0.displayName=P3;var[k3,Sb]=Qu(vl,{}),N0="SelectViewport",eP=b.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:s,...r}=n,i=qo(N0,t),o=Sb(N0,t),a=rt(e,i.onViewportChange),l=b.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),p.jsx(ov.Slot,{scope:t,children:p.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:oe(r.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-ys*2,g=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),y=Math.max(g,S);if(y<v){const x=y+m,w=Math.min(v,x),E=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});eP.displayName=N0;var tP="SelectGroup",[R3,N3]=Qu(tP),M3=b.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,r=Wf();return p.jsx(R3,{scope:t,id:r,children:p.jsx(Se.div,{role:"group","aria-labelledby":r,...s,ref:e})})});M3.displayName=tP;var nP="SelectLabel",sP=b.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,r=N3(nP,t);return p.jsx(Se.div,{id:r.id,...s,ref:e})});sP.displayName=nP;var sg="SelectItem",[L3,rP]=Qu(sg),iP=b.forwardRef((n,e)=>{const{__scopeSelect:t,value:s,disabled:r=!1,textValue:i,...o}=n,a=Go(sg,t),l=qo(sg,t),u=a.value===s,[d,f]=b.useState(i??""),[h,m]=b.useState(!1),v=rt(e,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,s,r)}),g=Wf(),S=b.useRef("touch"),y=()=>{r||(a.onValueChange(s),a.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(L3,{scope:t,value:s,disabled:r,textId:g,isSelected:u,onItemTextChange:b.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:p.jsx(ov.ItemSlot,{scope:t,value:s,disabled:r,textValue:d,children:p.jsx(Se.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:v,onFocus:oe(o.onFocus,()=>m(!0)),onBlur:oe(o.onBlur,()=>m(!1)),onClick:oe(o.onClick,()=>{S.current!=="mouse"&&y()}),onPointerUp:oe(o.onPointerUp,()=>{S.current==="mouse"&&y()}),onPointerDown:oe(o.onPointerDown,x=>{S.current=x.pointerType}),onPointerMove:oe(o.onPointerMove,x=>{var w;S.current=x.pointerType,r?(w=l.onItemLeave)==null||w.call(l):S.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:oe(o.onKeyDown,x=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&x.key===" "||(x3.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});iP.displayName=sg;var gd="SelectItemText",oP=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:r,...i}=n,o=Go(gd,t),a=qo(gd,t),l=rP(gd,t),u=A3(gd,t),[d,f]=b.useState(null),h=rt(e,y=>f(y),l.onItemTextChange,y=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,y,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=b.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:S}=u;return nn(()=>(g(v),()=>S(v)),[g,S,v]),p.jsxs(p.Fragment,{children:[p.jsx(Se.span,{id:l.textId,...i,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?_l.createPortal(i.children,o.valueNode):null]})});oP.displayName=gd;var aP="SelectItemIndicator",lP=b.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return rP(aP,t).isSelected?p.jsx(Se.span,{"aria-hidden":!0,...s,ref:e}):null});lP.displayName=aP;var M0="SelectScrollUpButton",cP=b.forwardRef((n,e)=>{const t=qo(M0,n.__scopeSelect),s=Sb(M0,n.__scopeSelect),[r,i]=b.useState(!1),o=rt(e,s.onScrollButtonChange);return nn(()=>{if(t.viewport&&t.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),r?p.jsx(dP,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});cP.displayName=M0;var L0="SelectScrollDownButton",uP=b.forwardRef((n,e)=>{const t=qo(L0,n.__scopeSelect),s=Sb(L0,n.__scopeSelect),[r,i]=b.useState(!1),o=rt(e,s.onScrollButtonChange);return nn(()=>{if(t.viewport&&t.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),r?p.jsx(dP,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});uP.displayName=L0;var dP=b.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:s,...r}=n,i=qo("SelectScrollButton",t),o=b.useRef(null),a=av(t),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),nn(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),p.jsx(Se.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:oe(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:oe(r.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:oe(r.onPointerLeave,()=>{l()})})}),I3="SelectSeparator",hP=b.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return p.jsx(Se.div,{"aria-hidden":!0,...s,ref:e})});hP.displayName=I3;var I0="SelectArrow",D3=b.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,r=lv(t),i=Go(I0,t),o=qo(I0,t);return i.open&&o.position==="popper"?p.jsx(sT,{...r,...s,ref:e}):null});D3.displayName=I0;function fP(n){return n===""||n===void 0}var pP=b.forwardRef((n,e)=>{const{value:t,...s}=n,r=b.useRef(null),i=rt(e,r),o=NO(t);return b.useEffect(()=>{const a=r.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[o,t]),p.jsx(Vf,{asChild:!0,children:p.jsx("select",{...s,ref:i,defaultValue:t})})});pP.displayName="BubbleSelect";function mP(n){const e=kn(n),t=b.useRef(""),s=b.useRef(0),r=b.useCallback(o=>{const a=t.current+o;e(a),function l(u){t.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=b.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,r,i]}function gP(n,e,t){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=t?n.indexOf(t):-1;let o=j3(n,Math.max(i,0));r.length===1&&(o=o.filter(u=>u!==t));const l=o.find(u=>u.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==t?l:void 0}function j3(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var F3=UT,vP=WT,O3=qT,B3=KT,H3=YT,yP=XT,z3=eP,xP=sP,wP=iP,$3=oP,U3=lP,bP=cP,SP=uP,AP=hP;const KS=F3,YS=O3,D0=b.forwardRef(({className:n,children:e,...t},s)=>p.jsxs(vP,{ref:s,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,p.jsx(B3,{asChild:!0,children:p.jsx(C_,{className:"h-4 w-4 opacity-50"})})]}));D0.displayName=vP.displayName;const EP=b.forwardRef(({className:n,...e},t)=>p.jsx(bP,{ref:t,className:je("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(qI,{className:"h-4 w-4"})}));EP.displayName=bP.displayName;const CP=b.forwardRef(({className:n,...e},t)=>p.jsx(SP,{ref:t,className:je("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(C_,{className:"h-4 w-4"})}));CP.displayName=SP.displayName;const j0=b.forwardRef(({className:n,children:e,position:t="popper",...s},r)=>p.jsx(H3,{children:p.jsxs(yP,{ref:r,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...s,children:[p.jsx(EP,{}),p.jsx(z3,{className:je("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(CP,{})]})}));j0.displayName=yP.displayName;const V3=b.forwardRef(({className:n,...e},t)=>p.jsx(xP,{ref:t,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));V3.displayName=xP.displayName;const vd=b.forwardRef(({className:n,children:e,...t},s)=>p.jsxs(wP,{ref:s,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(U3,{children:p.jsx(GI,{className:"h-4 w-4"})})}),p.jsx($3,{children:e})]}));vd.displayName=wP.displayName;const W3=b.forwardRef(({className:n,...e},t)=>p.jsx(AP,{ref:t,className:je("-mx-1 my-1 h-px bg-muted",n),...e}));W3.displayName=AP.displayName;const hy=[{id:1,title:"Mathematics Fundamentals",subject:"Mathematics",description:"Master the foundations of all Mathematics formulars from finding area to solving linear inequalities and all the other mathematical problems.",image:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:15},{id:2,title:"Biology,Physics and Chemistry Basics",subject:"Intergrated Science",description:"Explore the fascinating world of cells, organisms, and biological systems.",image:"https://images.unsplash.com/photo-1579154341088-3e03c82fced8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:15},{id:3,title:"Essay Writing Skills",subject:"English",description:"Develop strong writing skills and learn to craft compelling essays.",image:"https://images.unsplash.com/photo-1455390582262-044cdead277a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"All Levels",lessonCount:10},{id:4,title:"Distinction Social Studies",subject:"Social Studies",description:"Explore the fascinating world of the Ancient History, Community Service and the Natural Environments in Africa",image:"https://images.unsplash.com/photo-1603126857599-f6e157fa2fe6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:14},{id:5,title:"Agriculture and Nutrition Fundamentals",subject:"Agrinutrition",description:"Learn the Basics of Agriculture and Nutrition.Gain Knowledge on how to stay and eat healthy foods.Master Planting,weeding,pruning and harvesting of crops.",image:"https://images.unsplash.com/photo-1524661135-423995f22d0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Intermediate",lessonCount:18},{id:6,title:"Pre-technical Studies and Entreprenuership Skills",subject:"Pre-Technical Studies",description:"Master Entrepreneurial Skills,The foundation of Pre-Technical Studies ,Materials For Production and Many more.",image:"https://images.unsplash.com/photo-1608415295464-f26297ecdac4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Intermediate",lessonCount:16},{id:7,title:"Introduction to Coding",subject:"Computer Science",description:"Learn the basics of programming with easy-to-follow lessons and exercises.",image:"https://images.unsplash.com/photo-1504639725590-34d0984388bd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:12},{id:8,title:"Creative Arts and Sports",subject:"Creative Arts",description:"Master the art of Creativity and the various sports we offer. ",image:"https://images.unsplash.com/photo-1509228468518-180dd4864904?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Intermediate",lessonCount:15},{id:9,title:"Kiswahili Fundamentals",subject:"Kiswahili",description:"Strengthen your Kiswahili skills with comprehensive lessons and exercises.",image:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:10}],G3=()=>{const[n,e]=oO(),[t,s]=b.useState([]),[r,i]=b.useState([]),[o,a]=b.useState([]),[l,u]=b.useState(""),[d,f]=b.useState(""),[h,m]=b.useState("");b.useEffect(()=>{var P;const w=new Set(hy.map(k=>k.subject)),E=new Set(hy.map(k=>k.level));i(Array.from(w)),a(Array.from(E));const T=(P=n.get("subject"))==null?void 0:P.toLowerCase();T&&f(T),v()},[n]),b.useEffect(()=>{v()},[l,d,h]);const v=()=>{let w=[...hy];l&&(w=w.filter(E=>E.title.toLowerCase().includes(l.toLowerCase())||E.description.toLowerCase().includes(l.toLowerCase()))),d&&(w=w.filter(E=>E.subject.toLowerCase()===d.toLowerCase())),h&&(w=w.filter(E=>E.level===h)),s(w)},g=w=>{u(w.target.value)},S=w=>{f(w),w?n.set("subject",w):n.delete("subject"),e(n)},y=w=>{m(w)},x=()=>{u(""),f(""),m(""),e({})};return p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(Ws,{}),p.jsx("div",{className:"bg-education-primary/10 py-12",children:p.jsxs("div",{className:"container-custom",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-3",children:"Browse Courses"}),p.jsx("p",{className:"text-gray-600",children:"Explore our comprehensive library of grade 9 courses"})]})}),p.jsxs("main",{className:"flex-grow container-custom py-8",children:[p.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6 mb-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),p.jsx(So,{placeholder:"Search courses...",value:l,onChange:g})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),p.jsxs(KS,{value:d,onValueChange:S,children:[p.jsx(D0,{children:p.jsx(YS,{placeholder:"All Subjects"})}),p.jsxs(j0,{children:[p.jsx(vd,{value:"all-subjects",children:"All Subjects"}),r.map(w=>p.jsx(vd,{value:w.toLowerCase(),children:w},w))]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),p.jsxs(KS,{value:h,onValueChange:y,children:[p.jsx(D0,{children:p.jsx(YS,{placeholder:"All Levels"})}),p.jsxs(j0,{children:[p.jsx(vd,{value:"all-levels",children:"All Levels"}),o.map(w=>p.jsx(vd,{value:w,children:w},w))]})]})]})]}),p.jsx("div",{className:"mt-4 flex justify-end",children:p.jsx(ke,{variant:"outline",onClick:x,children:"Clear Filters"})})]}),t.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:t.map(w=>p.jsx(kT,{course:w},w.id))}):p.jsxs("div",{className:"text-center py-12",children:[p.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"No courses found"}),p.jsx("p",{className:"mt-2 text-gray-500",children:"Try adjusting your search or filter criteria"}),p.jsx(ke,{className:"mt-4",onClick:x,children:"Reset Filters"})]})]}),p.jsx(Er,{})]})};function q3(n,e=[]){let t=[];function s(i,o){const a=b.createContext(o),l=t.length;t=[...t,o];function u(f){const{scope:h,children:m,...v}=f,g=(h==null?void 0:h[n][l])||a,S=b.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:S,children:m})}function d(f,h){const m=(h==null?void 0:h[n][l])||a,v=b.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const r=()=>{const i=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||i;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[s,K3(r,...e)]}function K3(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var fy="rovingFocusGroup.onEntryFocus",Y3={bubbles:!1,cancelable:!0},cv="RovingFocusGroup",[F0,_P,X3]=Zw(cv),[Q3,TP]=q3(cv,[X3]),[J3,Z3]=Q3(cv),PP=b.forwardRef((n,e)=>p.jsx(F0.Provider,{scope:n.__scopeRovingFocusGroup,children:p.jsx(F0.Slot,{scope:n.__scopeRovingFocusGroup,children:p.jsx(e4,{...n,ref:e})})}));PP.displayName=cv;var e4=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:r=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=n,h=b.useRef(null),m=rt(e,h),v=bb(i),[g=null,S]=uh({prop:o,defaultProp:a,onChange:l}),[y,x]=b.useState(!1),w=kn(u),E=_P(t),T=b.useRef(!1),[P,k]=b.useState(0);return b.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(fy,w),()=>R.removeEventListener(fy,w)},[w]),p.jsx(J3,{scope:t,orientation:s,dir:v,loop:r,currentTabStopId:g,onItemFocus:b.useCallback(R=>S(R),[S]),onItemShiftTab:b.useCallback(()=>x(!0),[]),onFocusableItemAdd:b.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:b.useCallback(()=>k(R=>R-1),[]),children:p.jsx(Se.div,{tabIndex:y||P===0?-1:0,"data-orientation":s,...f,ref:m,style:{outline:"none",...n.style},onMouseDown:oe(n.onMouseDown,()=>{T.current=!0}),onFocus:oe(n.onFocus,R=>{const M=!T.current;if(R.target===R.currentTarget&&M&&!y){const L=new CustomEvent(fy,Y3);if(R.currentTarget.dispatchEvent(L),!L.defaultPrevented){const D=E().filter(j=>j.focusable),O=D.find(j=>j.active),H=D.find(j=>j.id===g),$=[O,H,...D].filter(Boolean).map(j=>j.ref.current);NP($,d)}}T.current=!1}),onBlur:oe(n.onBlur,()=>x(!1))})})}),kP="RovingFocusGroupItem",RP=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:r=!1,tabStopId:i,...o}=n,a=Wf(),l=i||a,u=Z3(kP,t),d=u.currentTabStopId===l,f=_P(t),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return b.useEffect(()=>{if(s)return h(),()=>m()},[s,h,m]),p.jsx(F0.ItemSlot,{scope:t,id:l,focusable:s,active:r,children:p.jsx(Se.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:oe(n.onMouseDown,v=>{s?u.onItemFocus(l):v.preventDefault()}),onFocus:oe(n.onFocus,()=>u.onItemFocus(l)),onKeyDown:oe(n.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=s4(v,u.orientation,u.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=f().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const x=y.indexOf(v.currentTarget);y=u.loop?r4(y,x+1):y.slice(x+1)}setTimeout(()=>NP(y))}})})})});RP.displayName=kP;var t4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function n4(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function s4(n,e,t){const s=n4(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return t4[s]}function NP(n,e=!1){const t=document.activeElement;for(const s of n)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function r4(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var i4=PP,o4=RP,Ab="Tabs",[a4,T8]=Ug(Ab,[TP]),MP=TP(),[l4,Eb]=a4(Ab),LP=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,onValueChange:r,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=n,d=bb(a),[f,h]=uh({prop:s,onChange:r,defaultProp:i});return p.jsx(l4,{scope:t,baseId:Wf(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:p.jsx(Se.div,{dir:d,"data-orientation":o,...u,ref:e})})});LP.displayName=Ab;var IP="TabsList",DP=b.forwardRef((n,e)=>{const{__scopeTabs:t,loop:s=!0,...r}=n,i=Eb(IP,t),o=MP(t);return p.jsx(i4,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:p.jsx(Se.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:e})})});DP.displayName=IP;var jP="TabsTrigger",FP=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,disabled:r=!1,...i}=n,o=Eb(jP,t),a=MP(t),l=HP(o.baseId,s),u=zP(o.baseId,s),d=s===o.value;return p.jsx(o4,{asChild:!0,...a,focusable:!r,active:d,children:p.jsx(Se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:l,...i,ref:e,onMouseDown:oe(n.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:oe(n.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:oe(n.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!r&&f&&o.onValueChange(s)})})})});FP.displayName=jP;var OP="TabsContent",BP=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,forceMount:r,children:i,...o}=n,a=Eb(OP,t),l=HP(a.baseId,s),u=zP(a.baseId,s),d=s===a.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),p.jsx(Wg,{present:r||d,children:({present:h})=>p.jsx(Se.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});BP.displayName=OP;function HP(n,e){return`${n}-trigger-${e}`}function zP(n,e){return`${n}-content-${e}`}var c4=LP,$P=DP,UP=FP,VP=BP;const WP=c4,Cb=b.forwardRef(({className:n,...e},t)=>p.jsx($P,{ref:t,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));Cb.displayName=$P.displayName;const vh=b.forwardRef(({className:n,...e},t)=>p.jsx(UP,{ref:t,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));vh.displayName=UP.displayName;const yh=b.forwardRef(({className:n,...e},t)=>p.jsx(VP,{ref:t,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));yh.displayName=VP.displayName;function u4(n,e=[]){let t=[];function s(i,o){const a=b.createContext(o),l=t.length;t=[...t,o];function u(f){const{scope:h,children:m,...v}=f,g=(h==null?void 0:h[n][l])||a,S=b.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:S,children:m})}function d(f,h){const m=(h==null?void 0:h[n][l])||a,v=b.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const r=()=>{const i=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||i;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[s,d4(r,...e)]}function d4(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var _b="Progress",Tb=100,[h4,P8]=u4(_b),[f4,p4]=h4(_b),GP=b.forwardRef((n,e)=>{const{__scopeProgress:t,value:s=null,max:r,getValueLabel:i=m4,...o}=n;(r||r===0)&&!XS(r)&&console.error(g4(`${r}`,"Progress"));const a=XS(r)?r:Tb;s!==null&&!QS(s,a)&&console.error(v4(`${s}`,"Progress"));const l=QS(s,a)?s:null,u=rg(l)?i(l,a):void 0;return p.jsx(f4,{scope:t,value:l,max:a,children:p.jsx(Se.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":rg(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":YP(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});GP.displayName=_b;var qP="ProgressIndicator",KP=b.forwardRef((n,e)=>{const{__scopeProgress:t,...s}=n,r=p4(qP,t);return p.jsx(Se.div,{"data-state":YP(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:e})});KP.displayName=qP;function m4(n,e){return`${Math.round(n/e*100)}%`}function YP(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function rg(n){return typeof n=="number"}function XS(n){return rg(n)&&!isNaN(n)&&n>0}function QS(n,e){return rg(n)&&!isNaN(n)&&n<=e&&n>=0}function g4(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Tb}\`.`}function v4(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Tb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var XP=GP,y4=KP;const xh=b.forwardRef(({className:n,value:e,...t},s)=>p.jsx(XP,{ref:s,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...t,children:p.jsx(y4,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));xh.displayName=XP.displayName;const x4=[{id:1,title:"Mathematics Fundamentals",subject:"Mathematics",description:"Master the foundations of all Mathematics formulars from finding area to solving linear inequalities and all the other mathematical problems",image:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:15},{id:2,title:"Biology,Physics and Chemistry Basics",subject:" Intergrated Science",description:"Explore the fascinating world of cells, organisms, and biological systems.",image:"https://images.unsplash.com/photo-1579154341088-3e03c82fced8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:15},{id:3,title:"Essay Writing Skills",subject:"English",description:"Develop strong writing skills and learn to craft compelling essays.",image:"https://images.unsplash.com/photo-1579154341088-3e03c82fced8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"All levels",lessonCount:10},{id:4,title:"Distinction Social Studies",subject:"Social Studies",description:"Explore the fascinating world of the Ancient History, Community Service and the Natural Environments in Africa",image:"https://images.unsplash.com/photo-1579154341088-3e03c82fced8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:14},{id:5,title:"Agriculture and Nutrition Fundamentals",subject:"Agrinutrition",description:"Learn the Basics of Agriculture and Nutrition.Gain Knowledge on how to stay and eat healthy foods.Master Planting,weeding,pruning and harvesting of crops",image:"https://images.unsplash.com/photo-1579154341088-3e03c82fced8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Intermediate",lessonCount:18},{id:6,title:"Pre-technical Studies and Entreprenuership Skills",subject:"Pre-Technical Studies",description:"Master Entrepreneurial Skills,The foundation of Pre-Technical Studies ,Materials For Production and Many more.",image:"https://images.unsplash.com/photo-1579154341088-3e03c82fced8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Intermediate",lessonCount:16},{id:7,title:"Introduction to Coding",subject:"Computer Science",description:"Learn the basics of programming with easy-to-follow lessons and exercises.",image:"https://images.unsplash.com/photo-1579154341088-3e03c82fced8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:12},{id:8,title:"Creative Arts and Sports",subject:"Creative Arts",description:"Master the art of Creativity and the various sports we offer. ",image:"https://images.unsplash.com/photo-1579154341088-3e03c82fced8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Intermediate",lessonCount:15},{id:9,title:"Kiswahili Fundamentals",subject:"Kiswahili",description:"Strengthen your Kiswahili skills with comprehensive lessons and exercises.",image:"https://images.unsplash.com/photo-1579154341088-3e03c82fced8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:10}],w4={"Mathematics Fundamentals":[{id:1,title:"finding Area",duration:"15 min",pdfUrl:"./pdfs/mathematics/area-9.pdf",pdfDescription:"Complete guide to area calculation formulas for different shapes"},{id:2,title:"Solving linear inequalities",duration:"20 min",pdfUrl:"/pdfs/mathematics/linear_inequalities pdf",pdfDescription:"Step-by-step approach to solving linear inequalities"},{id:3,title:"Finding Mass",duration:"25 min"},{id:4,title:"Finding Volume",duration:"30 min"},{id:5,title:"Indices Questions",duration:"35 min"},{id:6,title:"Equations on a straight line",duration:"25 min"},{id:7,title:"Working with time",duration:"40 min"},{id:8,title:"Money",duration:"45 min"},{id:9,title:"Matrix",duration:"30 min"},{id:10,title:"Cube and cube roots",duration:"35 min"},{id:11,title:"jss maths intro formulars",duration:"40 min"},{id:12,title:"Integer questions",duration:"45 min"},{id:13,title:"Approximation and error",duration:"40 min"},{id:14,title:"Compound proportions and rates of work",duration:"30 min"},{id:15,title:"working with logarithms",duration:"30 min"}],"Biology,Physics and Chemistry Basics":[{id:1,title:"Introduction to Biology",duration:"20 min"},{id:2,title:"Cell Structure",duration:"30 min"},{id:3,title:"Cell Functions",duration:"25 min"},{id:4,title:"Cell Division",duration:"35 min"},{id:5,title:"DNA and Genetics",duration:"40 min"},{id:6,title:"Inheritance Patterns",duration:"30 min"},{id:7,title:"Body Systems Overview",duration:"25 min"},{id:8,title:"Digestive System",duration:"30 min"},{id:9,title:"Circulatory System",duration:"30 min"},{id:10,title:"Respiratory System",duration:"25 min"},{id:11,title:"Nervous System",duration:"35 min"},{id:12,title:"Immune System",duration:"30 min"},{id:13,title:"Endocrine System",duration:"25 min"},{id:14,title:"Musculoskeletal System",duration:"30 min"},{id:15,title:"Ecosystems and Environments",duration:"35 min"}]},b4=()=>{const{courseId:n}=ET(),[e,t]=b.useState(null),[s,r]=b.useState([]),[i,o]=b.useState(0),[a,l]=b.useState("overview"),{isLoggedIn:u}=Rl();b.useEffect(()=>{if(n){const f=x4.find(h=>h.id===parseInt(n,10));if(t(f||null),f){const h=w4[f.title]||[];if(u){const m=h.map(g=>({...g,isCompleted:Math.random()>.5}));r(m);const v=m.filter(g=>g.isCompleted).length;o(Math.round(v/h.length*100))}else r(h.map(m=>({...m,isCompleted:!1})))}}},[n,u]);const d=f=>{if(!u){di.error("Please login to access lessons");return}window.location.href=`/course/${n}/lessons/${f}`,r(h=>{const m=h.map(g=>g.id===f?{...g,isCompleted:!0}:g),v=m.filter(g=>g.isCompleted).length;return o(Math.round(v/m.length*100)),m})};return e?p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(Ws,{}),p.jsxs("div",{className:"h-64 bg-cover bg-center relative",style:{backgroundImage:`url(${e.image})`},children:[p.jsx("div",{className:"absolute inset-0 bg-black/50"}),p.jsxs("div",{className:"container-custom h-full flex flex-col justify-end pb-8 relative z-10",children:[p.jsxs("div",{className:"flex items-center space-x-2 text-white mb-2",children:[p.jsx("span",{className:"bg-white/20 px-3 py-1 rounded text-sm",children:e.subject}),p.jsx("span",{className:"bg-white/20 px-3 py-1 rounded text-sm",children:e.level})]}),p.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:e.title})]})]}),u&&p.jsx("div",{className:"bg-education-primary/10 py-4",children:p.jsx("div",{className:"container-custom",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between",children:[p.jsx("div",{className:"flex-1 mb-4 sm:mb-0",children:p.jsxs("div",{className:"flex items-center",children:[p.jsxs("div",{className:"w-full max-w-md",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your progress"}),p.jsx(xh,{value:i,className:"h-2"})]}),p.jsxs("span",{className:"ml-4 font-medium",children:[i,"%"]})]})}),p.jsx(ke,{className:"self-start",children:"Continue Learning"})]})})}),p.jsx("main",{className:"flex-grow container-custom py-8",children:p.jsxs(WP,{defaultValue:"overview",value:a,onValueChange:l,children:[p.jsxs(Cb,{children:[p.jsx(vh,{value:"overview",children:"Overview"}),p.jsx(vh,{value:"lessons",children:"Lessons"})]}),p.jsx(yh,{value:"overview",className:"mt-6",children:p.jsxs("div",{className:"max-w-3xl",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"About this course"}),p.jsx("p",{className:"mb-6 text-gray-700",children:e.description}),p.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-lg p-6 mb-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"What you'll learn"}),p.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[1,2,3,4,5,6,7,8].map(f=>p.jsxs("li",{className:"flex items-start",children:[p.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),p.jsx("span",{className:"text-gray-700",children:e.subject==="Mathematics"?`Understanding ${["Area","Linear Inequalities","mass","volume","indices questions","Equations","Time and Money","Integers"][f-1]||""}`:`Learning about ${["cells","organisms","systems","processes","structures","relationships","morphins","algaes"][f-1]||""}`})]},f))})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Course details"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-500",children:"Subject"}),p.jsx("p",{className:"font-medium",children:e.subject})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-500",children:"Level"}),p.jsx("p",{className:"font-medium",children:e.level})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-500",children:"Lessons"}),p.jsxs("p",{className:"font-medium",children:[e.lessonCount," lessons"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-500",children:"Total Duration"}),p.jsxs("p",{className:"font-medium",children:["Approximately ",e.lessonCount*30," minutes"]})]})]})]}),p.jsxs("div",{children:[p.jsx(ae,{to:u?`/course/${n}/lessons/1`:"/login",children:p.jsx(ke,{size:"lg",children:u?"Start Learning":"Sign in to start learning"})}),!u&&p.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"You can preview some content as a guest, but sign in to track your progress."})]})]})}),p.jsx(yh,{value:"lessons",className:"mt-6",children:p.jsxs("div",{className:"max-w-3xl",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Course Content"}),p.jsxs("p",{className:"mb-6 text-gray-700",children:[e.lessonCount," lessons  Approximately ",e.lessonCount*30," minutes"]}),p.jsx("div",{className:"space-y-2",children:s.map((f,h)=>p.jsx("div",{className:"border border-gray-200 rounded-md p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>d(f.id),children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsxs("span",{className:"text-gray-500 text-sm",children:["Lesson ",h+1]}),p.jsx("h3",{className:"font-medium",children:f.title})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[u&&f.isCompleted?p.jsx("span",{className:"text-green-600 bg-green-50 px-2 py-1 rounded text-xs",children:"Completed"}):null,p.jsx("span",{className:"text-gray-500 text-sm",children:f.duration})]})]})},f.id))}),!u&&p.jsxs("div",{className:"mt-8 bg-gray-50 p-6 rounded-lg border border-gray-200 text-center",children:[p.jsx("h3",{className:"font-semibold mb-2",children:"Track Your Progress"}),p.jsx("p",{className:"mb-4 text-gray-600",children:"Sign in to track your progress and continue where you left off."}),p.jsx(ae,{to:"/login",children:p.jsx(ke,{children:"Sign In"})})]})]})})]})}),p.jsx(Er,{})]}):p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(Ws,{}),p.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Course not found"}),p.jsx(ae,{to:"/courses",children:p.jsx(ke,{children:"Back to Courses"})})]})}),p.jsx(Er,{})]})},S4="modulepreload",A4=function(n){return"/grade-glow-hub/"+n},JS={},Tp=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(t.map(l=>{if(l=A4(l),l in JS)return;JS[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":S4,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var Vd={};Vd.d=(n,e)=>{for(var t in e)Vd.o(e,t)&&!Vd.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Vd.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var le=globalThis.pdfjsLib={};Vd.d(le,{AbortException:()=>Il,AnnotationEditorLayer:()=>Yx,AnnotationEditorParamsType:()=>ie,AnnotationEditorType:()=>pe,AnnotationEditorUIManager:()=>xl,AnnotationLayer:()=>bB,AnnotationMode:()=>Bi,ColorPicker:()=>lg,DOMSVGFactory:()=>Bb,DrawLayer:()=>Zx,FeatureTest:()=>dn,GlobalWorkerOptions:()=>ai,ImageKind:()=>Xp,InvalidPDFException:()=>JP,MissingPDFException:()=>Ll,OPS:()=>Ss,OutputScale:()=>$0,PDFDataRangeTransport:()=>Kk,PDFDateString:()=>Mb,PDFWorker:()=>wc,PasswordResponses:()=>T4,PermissionFlag:()=>_4,PixelsPerInch:()=>Oo,RenderingCancelledException:()=>Rb,TextLayer:()=>gx,UnexpectedResponseException:()=>fv,Util:()=>Z,VerbosityLevel:()=>uv,XfaLayer:()=>Xk,build:()=>tB,createValidAbsoluteUrl:()=>N4,fetchData:()=>mv,getDocument:()=>G5,getFilenameFromUrl:()=>H4,getPdfFilenameFromUrl:()=>z4,getXfaPageViewport:()=>$4,isDataScheme:()=>gv,isPdfFile:()=>Nb,noContextMenu:()=>ms,normalizeUnicode:()=>F4,setLayerDimensions:()=>yl,shadow:()=>Ae,version:()=>eB});const en=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),QP=[1,0,0,1,0,0],O0=[.001,0,0,.001,0,0],E4=1e7,py=1.35,$n={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Bi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},C4="pdfjs_internal_editor_",pe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ie={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},_4={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Wt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Xp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},yt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},cd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},uv={ERRORS:0,WARNINGS:1,INFOS:5},Ss={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},T4={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let dv=uv.WARNINGS;function P4(n){Number.isInteger(n)&&(dv=n)}function k4(){return dv}function hv(n){dv>=uv.INFOS&&console.log(`Info: ${n}`)}function ge(n){dv>=uv.WARNINGS&&console.log(`Warning: ${n}`)}function qe(n){throw new Error(n)}function At(n,e){n||qe(e)}function R4(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function N4(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=j4(n)}catch{}}const s=e?new URL(n,e):new URL(n);if(R4(s))return s}catch{}return null}function Ae(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const Ko=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class B0 extends Ko{constructor(e,t){super(e,"PasswordException"),this.code=t}}class H0 extends Ko{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class JP extends Ko{constructor(e){super(e,"InvalidPDFException")}}class Ll extends Ko{constructor(e){super(e,"MissingPDFException")}}class fv extends Ko{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class M4 extends Ko{constructor(e){super(e,"FormatError")}}class Il extends Ko{constructor(e){super(e,"AbortException")}}function ZP(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&qe("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let r=0;r<e;r+=t){const i=Math.min(r+t,e),o=n.subarray(r,i);s.push(String.fromCharCode.apply(null,o))}return s.join("")}function pv(n){typeof n!="string"&&qe("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function L4(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Pb(n){const e=Object.create(null);for(const[t,s]of n)e[t]=s;return e}function I4(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function D4(){try{return new Function(""),!0}catch{return!1}}class dn{static get isLittleEndian(){return Ae(this,"isLittleEndian",I4())}static get isEvalSupported(){return Ae(this,"isEvalSupported",D4())}static get isOffscreenCanvasSupported(){return Ae(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ae(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ae(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Ae(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const my=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var fi,Qp,z0;class Z{static makeHexColor(e,t,s){return`#${my[e]}${my[t]}${my[s]}`}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const s=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[s,r]}static applyInverseTransform(e,t){const s=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/s,i=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/s;return[r,i]}static getAxialAlignedBoundingBox(e,t){const s=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(s[0],r[0],i[0],o[0]),Math.min(s[1],r[1],i[1],o[1]),Math.max(s[0],r[0],i[0],o[0]),Math.max(s[1],r[1],i[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],s=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(s+o)/2,l=Math.sqrt((s+o)**2-4*(s*o-i*r))/2,u=a+l||1,d=a-l||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>o?null:[s,i,r,o]}static bezierBoundingBox(e,t,s,r,i,o,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],C(this,fi,z0).call(this,e,s,i,a,t,r,o,l,3*(-e+3*(s-i)+a),6*(e-2*s+i),3*(s-e),u),C(this,fi,z0).call(this,e,s,i,a,t,r,o,l,3*(-t+3*(r-o)+l),6*(t-2*r+o),3*(r-t),u),u}}fi=new WeakSet,Qp=function(e,t,s,r,i,o,a,l,u,d){if(u<=0||u>=1)return;const f=1-u,h=u*u,m=h*u,v=f*(f*(f*e+3*u*t)+3*h*s)+m*r,g=f*(f*(f*i+3*u*o)+3*h*a)+m*l;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],g),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],g)},z0=function(e,t,s,r,i,o,a,l,u,d,f,h){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&C(this,fi,Qp).call(this,e,t,s,r,i,o,a,l,-f/d,h);return}const m=d**2-4*f*u;if(m<0)return;const v=Math.sqrt(m),g=2*u;C(this,fi,Qp).call(this,e,t,s,r,i,o,a,l,(-d+v)/g,h),C(this,fi,Qp).call(this,e,t,s,r,i,o,a,l,(-d-v)/g,h)},_(Z,fi);function j4(n){return decodeURIComponent(escape(n))}let gy=null,ZS=null;function F4(n){return gy||(gy=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ZS=new Map([["","t"]])),n.replaceAll(gy,(e,t,s)=>t?t.normalize("NFKC"):ZS.get(s))}function O4(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return ZP(n)}const kb="pdfjs_internal_id_",kr={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function B4(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(ZP(n))}const Mr="http://www.w3.org/2000/svg",sa=class sa{};re(sa,"CSS",96),re(sa,"PDF",72),re(sa,"PDF_TO_CSS_UNITS",sa.CSS/sa.PDF);let Oo=sa;async function mv(n,e="text"){if(yd(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class Yf{constructor({viewBox:e,scale:t,rotation:s,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=s,this.offsetX=r,this.offsetY=i;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,d,f,h;switch(s%=360,s<0&&(s+=360),s){case 180:u=-1,d=0,f=0,h=1;break;case 90:u=0,d=1,f=1,h=0;break;case 270:u=0,d=-1,f=-1,h=0;break;case 0:u=1,d=0,f=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,h=-h);let m,v,g,S;u===0?(m=Math.abs(l-e[1])*t+r,v=Math.abs(a-e[0])*t+i,g=(e[3]-e[1])*t,S=(e[2]-e[0])*t):(m=Math.abs(a-e[0])*t+r,v=Math.abs(l-e[1])*t+i,g=(e[2]-e[0])*t,S=(e[3]-e[1])*t),this.transform=[u*t,d*t,f*t,h*t,m-u*t*a-f*t*l,v-d*t*a-h*t*l],this.width=g,this.height=S}get rawDims(){const{viewBox:e}=this;return Ae(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}={}){return new Yf({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return Z.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Z.applyTransform([e[0],e[1]],this.transform),s=Z.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){return Z.applyInverseTransform([e,t],this.transform)}}class Rb extends Ko{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function gv(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Nb(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function H4(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function z4(n,e="document.pdf"){if(typeof n!="string")return e;if(gv(n))return ge('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(n);let i=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=s.exec(decodeURIComponent(i))[0]}catch{}return i||e}class eA{constructor(){re(this,"started",Object.create(null));re(this,"times",[])}time(e){e in this.started&&ge(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ge(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:r,end:i}of this.times)e.push(`${s.padEnd(t)} ${i-r}ms
`);return e.join("")}}function yd(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function ms(n){n.preventDefault()}function tA(n){console.log("Deprecated API usage: "+n)}var Ah;class Mb{static toDateObject(e){if(!e||typeof e!="string")return null;c(this,Ah)||A(this,Ah,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=c(this,Ah).exec(e);if(!t)return null;const s=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,u==="-"?(o+=d,a+=f):u==="+"&&(o-=d,a-=f),new Date(Date.UTC(s,r,i,o,a,l))}}Ah=new WeakMap,_(Mb,Ah);function $4(n,{scale:e=1,rotation:t=0}){const{width:s,height:r}=n.attributes.style,i=[0,0,parseInt(s),parseInt(r)];return new Yf({viewBox:i,scale:e,rotation:t})}function Lb(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ge(`Not a valid color format: "${n}"`),[0,0,0])}function U4(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,Lb(s))}e.remove()}function et(n){const{a:e,b:t,c:s,d:r,e:i,f:o}=n.getTransform();return[e,t,s,r,i,o]}function Rr(n){const{a:e,b:t,c:s,d:r,e:i,f:o}=n.getTransform().invertSelf();return[e,t,s,r,i,o]}function yl(n,e,t=!1,s=!0){if(e instanceof Yf){const{pageWidth:r,pageHeight:i}=e.rawDims,{style:o}=n,a=dn.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,u=`var(--scale-factor) * ${i}px`,d=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,f=a?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=f):(o.width=f,o.height=d)}s&&n.setAttribute("data-main-rotation",e.rotation)}class $0{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Wi,fa,Es,pa,Eh,Ch,ug,ek,hn,tk,nk,Jp,sk,V0;const Ir=class Ir{constructor(e){_(this,hn);_(this,Wi,null);_(this,fa,null);_(this,Es);_(this,pa,null);_(this,Eh,null);A(this,Es,e),c(Ir,Ch)||A(Ir,Ch,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=A(this,Wi,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=c(this,Es)._uiManager._signal;e.addEventListener("contextmenu",ms,{signal:t}),e.addEventListener("pointerdown",C(Ir,ug,ek),{signal:t});const s=A(this,pa,document.createElement("div"));s.className="buttons",e.append(s);const r=c(this,Es).toolbarPosition;if(r){const{style:i}=e,o=c(this,Es)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*o}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return C(this,hn,sk).call(this),e}get div(){return c(this,Wi)}hide(){var e;c(this,Wi).classList.add("hidden"),(e=c(this,fa))==null||e.hideDropdown()}show(){var e;c(this,Wi).classList.remove("hidden"),(e=c(this,Eh))==null||e.shown()}async addAltText(e){const t=await e.render();C(this,hn,Jp).call(this,t),c(this,pa).prepend(t,c(this,hn,V0)),A(this,Eh,e)}addColorPicker(e){A(this,fa,e);const t=e.renderButton();C(this,hn,Jp).call(this,t),c(this,pa).prepend(t,c(this,hn,V0))}remove(){var e;c(this,Wi).remove(),(e=c(this,fa))==null||e.destroy(),A(this,fa,null)}};Wi=new WeakMap,fa=new WeakMap,Es=new WeakMap,pa=new WeakMap,Eh=new WeakMap,Ch=new WeakMap,ug=new WeakSet,ek=function(e){e.stopPropagation()},hn=new WeakSet,tk=function(e){c(this,Es)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},nk=function(e){c(this,Es)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Jp=function(e){const t=c(this,Es)._uiManager._signal;e.addEventListener("focusin",C(this,hn,tk).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",C(this,hn,nk).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ms,{signal:t})},sk=function(){const{editorType:e,_uiManager:t}=c(this,Es),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",c(Ir,Ch)[e]),C(this,hn,Jp).call(this,s),s.addEventListener("click",r=>{t.delete()},{signal:t._signal}),c(this,pa).append(s)},V0=function(){const e=document.createElement("div");return e.className="divider",e},_(Ir,ug),_(Ir,Ch,null);let U0=Ir;var _h,ma,ga,Ho,rk,ik,ok;class V4{constructor(e){_(this,Ho);_(this,_h,null);_(this,ma,null);_(this,ga);A(this,ga,e)}show(e,t,s){const[r,i]=C(this,Ho,ik).call(this,t,s),{style:o}=c(this,ma)||A(this,ma,C(this,Ho,rk).call(this));e.append(c(this,ma)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,ma).remove()}}_h=new WeakMap,ma=new WeakMap,ga=new WeakMap,Ho=new WeakSet,rk=function(){const e=A(this,ma,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ms,{signal:c(this,ga)._signal});const t=A(this,_h,document.createElement("div"));return t.className="buttons",e.append(t),C(this,Ho,ok).call(this),e},ik=function(e,t){let s=0,r=0;for(const i of e){const o=i.y+i.height;if(o<s)continue;const a=i.x+(t?i.width:0);if(o>s){r=a,s=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,s]},ok=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=c(this,ga)._signal;e.addEventListener("contextmenu",ms,{signal:s}),e.addEventListener("click",()=>{c(this,ga).highlightSelection("floating_button")},{signal:s}),c(this,_h).append(e)};function ig(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}function W4(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var dg;class G4{constructor(){_(this,dg,0)}get id(){return`${C4}${_t(this,dg)._++}`}}dg=new WeakMap;var Mc,Th,Kt,Lc,Zp;const $b=class $b{constructor(){_(this,Lc);_(this,Mc,O4());_(this,Th,0);_(this,Kt,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const i=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Ae(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:s,size:r,type:i}=e;return C(this,Lc,Zp).call(this,`${t}_${s}_${r}_${i}`,e)}async getFromUrl(e){return C(this,Lc,Zp).call(this,e,e)}async getFromBlob(e,t){const s=await t;return C(this,Lc,Zp).call(this,e,s)}async getFromId(e){c(this,Kt)||A(this,Kt,new Map);const t=c(this,Kt).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){c(this,Kt)||A(this,Kt,new Map);let s=c(this,Kt).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${c(this,Mc)}_${_t(this,Th)._++}`,refCounter:1,isSvg:!1},c(this,Kt).set(e,s),c(this,Kt).set(s.id,s),s}getSvgUrl(e){const t=c(this,Kt).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;c(this,Kt)||A(this,Kt,new Map);const t=c(this,Kt).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(s.width,s.height);i.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=i.convertToBlob()}(r=s.close)==null||r.call(s),t.bitmap=null}isValidId(e){return e.startsWith(`image_${c(this,Mc)}_`)}};Mc=new WeakMap,Th=new WeakMap,Kt=new WeakMap,Lc=new WeakSet,Zp=async function(e,t){c(this,Kt)||A(this,Kt,new Map);let s=c(this,Kt).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${c(this,Mc)}_${_t(this,Th)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(s.url=t,r=await mv(t,"blob")):t instanceof File?r=s.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const i=$b._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,d)=>{a.onload=()=>{s.bitmap=a,s.isSvg=!0,u()},o.onload=async()=>{const f=s.svgUrl=o.result;a.src=await i?`${f}#svgView(preserveAspectRatio(none))`:f},a.onerror=o.onerror=d});o.readAsDataURL(r),await l}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return c(this,Kt).set(e,s),s&&c(this,Kt).set(s.id,s),s};let W0=$b;var Pt,Gi,Ph,kt;class q4{constructor(e=128){_(this,Pt,[]);_(this,Gi,!1);_(this,Ph);_(this,kt,-1);A(this,Ph,e)}add({cmd:e,undo:t,post:s,mustExec:r,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),c(this,Gi))return;const l={cmd:e,undo:t,post:s,type:i};if(c(this,kt)===-1){c(this,Pt).length>0&&(c(this,Pt).length=0),A(this,kt,0),c(this,Pt).push(l);return}if(o&&c(this,Pt)[c(this,kt)].type===i){a&&(l.undo=c(this,Pt)[c(this,kt)].undo),c(this,Pt)[c(this,kt)]=l;return}const u=c(this,kt)+1;u===c(this,Ph)?c(this,Pt).splice(0,1):(A(this,kt,u),u<c(this,Pt).length&&c(this,Pt).splice(u)),c(this,Pt).push(l)}undo(){if(c(this,kt)===-1)return;A(this,Gi,!0);const{undo:e,post:t}=c(this,Pt)[c(this,kt)];e(),t==null||t(),A(this,Gi,!1),A(this,kt,c(this,kt)-1)}redo(){if(c(this,kt)<c(this,Pt).length-1){A(this,kt,c(this,kt)+1),A(this,Gi,!0);const{cmd:e,post:t}=c(this,Pt)[c(this,kt)];e(),t==null||t(),A(this,Gi,!1)}}hasSomethingToUndo(){return c(this,kt)!==-1}hasSomethingToRedo(){return c(this,kt)<c(this,Pt).length-1}destroy(){A(this,Pt,null)}}Pt=new WeakMap,Gi=new WeakMap,Ph=new WeakMap,kt=new WeakMap;var hg,ak;class Xf{constructor(e){_(this,hg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=dn.platform;for(const[s,r,i={}]of e)for(const o of s){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:i}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:i}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(C(this,hg,ak).call(this,t));if(!s)return;const{callback:r,options:{bubbles:i=!1,args:o=[],checker:a=null}}=s;a&&!a(e,t)||(r.bind(e,...o,t)(),i||(t.stopPropagation(),t.preventDefault()))}}hg=new WeakSet,ak=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const fg=class fg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return U4(e),Ae(this,"_colors",e)}convert(e){const t=Lb(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,r]of this._colors)if(r.every((i,o)=>i===t[o]))return fg._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?Z.makeHexColor(...t):e}};re(fg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let G0=fg;var Ic,Ln,xt,jt,Dc,Fr,jc,Cs,qi,Fc,va,tr,_s,ya,kh,Rh,Oc,Nh,nr,Ki,Bc,Yi,sr,pg,Xi,Mh,Qi,xa,Lh,Ih,Rt,Me,Or,wa,Dh,jh,Ji,rr,Br,Fh,ts,Y,em,q0,lk,ck,tm,uk,dk,hk,K0,fk,Y0,X0,pk,sn,Li,mk,gk,Q0,vk,xd,J0;const cc=class cc{constructor(e,t,s,r,i,o,a,l,u,d,f){_(this,Y);_(this,Ic,new AbortController);_(this,Ln,null);_(this,xt,new Map);_(this,jt,new Map);_(this,Dc,null);_(this,Fr,null);_(this,jc,null);_(this,Cs,new q4);_(this,qi,null);_(this,Fc,0);_(this,va,new Set);_(this,tr,null);_(this,_s,null);_(this,ya,new Set);_(this,kh,!1);_(this,Rh,!1);_(this,Oc,!1);_(this,Nh,null);_(this,nr,null);_(this,Ki,null);_(this,Bc,null);_(this,Yi,!1);_(this,sr,null);_(this,pg,new G4);_(this,Xi,!1);_(this,Mh,!1);_(this,Qi,null);_(this,xa,null);_(this,Lh,null);_(this,Ih,null);_(this,Rt,pe.NONE);_(this,Me,new Set);_(this,Or,null);_(this,wa,null);_(this,Dh,null);_(this,jh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});_(this,Ji,[0,0]);_(this,rr,null);_(this,Br,null);_(this,Fh,null);_(this,ts,null);const h=this._signal=c(this,Ic).signal;A(this,Br,e),A(this,Fh,t),A(this,Dc,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:h}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:h}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:h}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:h}),r._on("setpreference",this.onSetPreference.bind(this),{signal:h}),r._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:h}),C(this,Y,uk).call(this),C(this,Y,pk).call(this),C(this,Y,K0).call(this),A(this,Fr,i.annotationStorage),A(this,Nh,i.filterFactory),A(this,wa,o),A(this,Bc,a||null),A(this,kh,l),A(this,Rh,u),A(this,Oc,d),A(this,Ih,f||null),this.viewParameters={realScale:Oo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=cc.prototype,t=o=>c(o,Br).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),s=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return Ae(this,"_keyboardManager",new Xf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,Br).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,Br).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,s,r;(e=c(this,ts))==null||e.resolve(),A(this,ts,null),(t=c(this,Ic))==null||t.abort(),A(this,Ic,null),this._signal=null;for(const i of c(this,jt).values())i.destroy();c(this,jt).clear(),c(this,xt).clear(),c(this,ya).clear(),A(this,Ln,null),c(this,Me).clear(),c(this,Cs).destroy(),(s=c(this,Dc))==null||s.destroy(),(r=c(this,sr))==null||r.hide(),A(this,sr,null),c(this,nr)&&(clearTimeout(c(this,nr)),A(this,nr,null)),c(this,rr)&&(clearTimeout(c(this,rr)),A(this,rr,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return c(this,Ih)}get useNewAltTextFlow(){return c(this,Rh)}get useNewAltTextWhenAddingImage(){return c(this,Oc)}get hcmFilter(){return Ae(this,"hcmFilter",c(this,wa)?c(this,Nh).addHCMFilter(c(this,wa).foreground,c(this,wa).background):"none")}get direction(){return Ae(this,"direction",getComputedStyle(c(this,Br)).direction)}get highlightColors(){return Ae(this,"highlightColors",c(this,Bc)?new Map(c(this,Bc).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ae(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){A(this,Lh,e)}editAltText(e,t=!1){var s;(s=c(this,Dc))==null||s.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":A(this,Oc,t);break}}onPageChanging({pageNumber:e}){A(this,Fc,e-1)}focusMainContainer(){c(this,Br).focus()}findParent(e,t){for(const s of c(this,jt).values()){const{x:r,y:i,width:o,height:a}=s.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=i&&t<=i+a)return s}return null}disableUserSelect(e=!1){c(this,Fh).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,ya).add(e)}removeShouldRescale(e){c(this,ya).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Oo.PDF_TO_CSS_UNITS;for(const t of c(this,ya))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:i,focusOffset:o}=t,a=t.toString(),u=C(this,Y,em).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;t.empty();const f=C(this,Y,q0).call(this,u),h=c(this,Rt)===pe.NONE,m=()=>{f==null||f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:s,anchorOffset:r,focusNode:i,focusOffset:o,text:a}),h&&this.showAllEditors("highlight",!0,!0)};if(h){this.switchToMode(pe.HIGHLIGHT,m);return}m()}addToAnnotationStorage(e){!e.isEmpty()&&c(this,Fr)&&!c(this,Fr).has(e.id)&&c(this,Fr).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,Yi)&&(A(this,Yi,!1),C(this,Y,tm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Me))if(t.div.contains(e)){A(this,xa,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,xa))return;const[e,t]=c(this,xa);A(this,xa,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){C(this,Y,K0).call(this),C(this,Y,Y0).call(this)}removeEditListeners(){C(this,Y,fk).call(this),C(this,Y,X0).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of c(this,_s))if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of c(this,_s))if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=c(this,Ln))==null||s.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of c(this,Me)){const i=r.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const o of c(this,_s))if(o.isHandlingMimeForPasting(i.type)){o.paste(i,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(i){ge(`paste: "${i.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const i=[];for(const l of s){const u=await r.deserialize(l);if(!u)return;i.push(u)}const o=()=>{for(const l of i)C(this,Y,Q0).call(this,l);C(this,Y,J0).call(this,i)},a=()=>{for(const l of i)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(i){ge(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Rt)!==pe.NONE&&!this.isEditorHandlingKeyboard&&cc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Yi)&&(A(this,Yi,!1),C(this,Y,tm).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(C(this,Y,dk).call(this),C(this,Y,Y0).call(this),C(this,Y,sn).call(this,{isEditing:c(this,Rt)!==pe.NONE,isEmpty:C(this,Y,xd).call(this),hasSomethingToUndo:c(this,Cs).hasSomethingToUndo(),hasSomethingToRedo:c(this,Cs).hasSomethingToRedo(),hasSelectedEditor:!1})):(C(this,Y,hk).call(this),C(this,Y,X0).call(this),C(this,Y,sn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,_s)){A(this,_s,e);for(const t of c(this,_s))C(this,Y,Li).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,pg).id}get currentLayer(){return c(this,jt).get(c(this,Fc))}getLayer(e){return c(this,jt).get(e)}get currentPageIndex(){return c(this,Fc)}addLayer(e){c(this,jt).set(e.pageIndex,e),c(this,Xi)?e.enable():e.disable()}removeLayer(e){c(this,jt).delete(e.pageIndex)}async updateMode(e,t=null,s=!1){if(c(this,Rt)!==e&&!(c(this,ts)&&(await c(this,ts).promise,!c(this,ts)))){if(A(this,ts,Promise.withResolvers()),A(this,Rt,e),e===pe.NONE){this.setEditingState(!1),C(this,Y,gk).call(this),c(this,ts).resolve();return}this.setEditingState(!0),await C(this,Y,mk).call(this),this.unselectAll();for(const r of c(this,jt).values())r.updateMode(e);if(!t){s&&this.addNewEditorFromKeyboard(),c(this,ts).resolve();return}for(const r of c(this,xt).values())r.annotationElementId===t?(this.setSelected(r),r.enterInEditMode()):r.unselect();c(this,ts).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Rt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var s;if(c(this,_s)){switch(e){case ie.CREATE:this.currentLayer.addNewEditor();return;case ie.HIGHLIGHT_DEFAULT_COLOR:(s=c(this,Lh))==null||s.updateColor(t);break;case ie.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Dh)||A(this,Dh,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of c(this,Me))r.updateParams(e,t);for(const r of c(this,_s))r.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){var i;for(const o of c(this,xt).values())o.editorType===e&&o.show(t);(((i=c(this,Dh))==null?void 0:i.get(ie.HIGHLIGHT_SHOW_ALL))??!0)!==t&&C(this,Y,Li).call(this,[[ie.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,Mh)!==e){A(this,Mh,e);for(const t of c(this,jt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const s of c(this,xt).values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return c(this,xt).get(e)}addEditor(e){c(this,xt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,nr)&&clearTimeout(c(this,nr)),A(this,nr,setTimeout(()=>{this.focusMainContainer(),A(this,nr,null)},0))),c(this,xt).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,va).has(e.annotationElementId))&&((t=c(this,Fr))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,va).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,va).has(e)}removeDeletedAnnotationElement(e){c(this,va).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,Ln)!==e&&(A(this,Ln,e),e&&C(this,Y,Li).call(this,e.propertiesToUpdate))}updateUI(e){c(this,Y,vk)===e&&C(this,Y,Li).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Me).has(e)){c(this,Me).delete(e),e.unselect(),C(this,Y,sn).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Me).add(e),e.select(),C(this,Y,Li).call(this,e.propertiesToUpdate),C(this,Y,sn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,Me))t!==e&&t.unselect();c(this,Me).clear(),c(this,Me).add(e),e.select(),C(this,Y,Li).call(this,e.propertiesToUpdate),C(this,Y,sn).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Me).has(e)}get firstSelectedEditor(){return c(this,Me).values().next().value}unselect(e){e.unselect(),c(this,Me).delete(e),C(this,Y,sn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Me).size!==0}get isEnterHandled(){return c(this,Me).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,Cs).undo(),C(this,Y,sn).call(this,{hasSomethingToUndo:c(this,Cs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:C(this,Y,xd).call(this)})}redo(){c(this,Cs).redo(),C(this,Y,sn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Cs).hasSomethingToRedo(),isEmpty:C(this,Y,xd).call(this)})}addCommands(e){c(this,Cs).add(e),C(this,Y,sn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:C(this,Y,xd).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Me)],t=()=>{for(const r of e)r.remove()},s=()=>{for(const r of e)C(this,Y,Q0).call(this,r)};this.addCommands({cmd:t,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=c(this,Ln))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,Ln)||this.hasSelection}selectAll(){for(const e of c(this,Me))e.commit();C(this,Y,J0).call(this,c(this,xt).values())}unselectAll(){if(!(c(this,Ln)&&(c(this,Ln).commitOrRemove(),c(this,Rt)!==pe.NONE))&&this.hasSelection){for(const e of c(this,Me))e.unselect();c(this,Me).clear(),C(this,Y,sn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;c(this,Ji)[0]+=e,c(this,Ji)[1]+=t;const[r,i]=c(this,Ji),o=[...c(this,Me)],a=1e3;c(this,rr)&&clearTimeout(c(this,rr)),A(this,rr,setTimeout(()=>{A(this,rr,null),c(this,Ji)[0]=c(this,Ji)[1]=0,this.addCommands({cmd:()=>{for(const l of o)c(this,xt).has(l.id)&&l.translateInPage(r,i)},undo:()=>{for(const l of o)c(this,xt).has(l.id)&&l.translateInPage(-r,-i)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),A(this,tr,new Map);for(const e of c(this,Me))c(this,tr).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,tr))return!1;this.disableUserSelect(!1);const e=c(this,tr);A(this,tr,null);let t=!1;for(const[{x:r,y:i,pageIndex:o},a]of e)a.newX=r,a.newY=i,a.newPageIndex=o,t||(t=r!==a.savedX||i!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const s=(r,i,o,a)=>{if(c(this,xt).has(r.id)){const l=c(this,jt).get(a);l?r._setParentAndPosition(l,i,o):(r.pageIndex=a,r.x=i,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:i,newY:o,newPageIndex:a}]of e)s(r,i,o,a)},undo:()=>{for(const[r,{savedX:i,savedY:o,savedPageIndex:a}]of e)s(r,i,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,tr))for(const s of c(this,tr).keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Me).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,Ln)===e}getActive(){return c(this,Ln)}getMode(){return c(this,Rt)}get imageManager(){return Ae(this,"imageManager",new W0)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:s,y:r,width:i,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,d,f,h)=>({x:(d-r)/o,y:1-(u+f-s)/i,width:h/o,height:f/i});break;case"180":a=(u,d,f,h)=>({x:1-(u+f-s)/i,y:1-(d+h-r)/o,width:f/i,height:h/o});break;case"270":a=(u,d,f,h)=>({x:1-(d+h-r)/o,y:(u-s)/i,width:h/o,height:f/i});break;default:a=(u,d,f,h)=>({x:(u-s)/i,y:(d-r)/o,width:f/i,height:h/o});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const f=t.getRangeAt(u);if(!f.collapsed)for(const{x:h,y:m,width:v,height:g}of f.getClientRects())v===0||g===0||l.push(a(h,m,v,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,jc)||A(this,jc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,jc))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=c(this,jc))==null?void 0:r.get(e.data.id);if(!t)return;const s=c(this,Fr).getRawValue(t);s&&(c(this,Rt)===pe.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}};Ic=new WeakMap,Ln=new WeakMap,xt=new WeakMap,jt=new WeakMap,Dc=new WeakMap,Fr=new WeakMap,jc=new WeakMap,Cs=new WeakMap,qi=new WeakMap,Fc=new WeakMap,va=new WeakMap,tr=new WeakMap,_s=new WeakMap,ya=new WeakMap,kh=new WeakMap,Rh=new WeakMap,Oc=new WeakMap,Nh=new WeakMap,nr=new WeakMap,Ki=new WeakMap,Bc=new WeakMap,Yi=new WeakMap,sr=new WeakMap,pg=new WeakMap,Xi=new WeakMap,Mh=new WeakMap,Qi=new WeakMap,xa=new WeakMap,Lh=new WeakMap,Ih=new WeakMap,Rt=new WeakMap,Me=new WeakMap,Or=new WeakMap,wa=new WeakMap,Dh=new WeakMap,jh=new WeakMap,Ji=new WeakMap,rr=new WeakMap,Br=new WeakMap,Fh=new WeakMap,ts=new WeakMap,Y=new WeakSet,em=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},q0=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of c(this,jt).values())if(s.hasTextLayer(e))return s;return null},lk=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=C(this,Y,em).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(c(this,sr)||A(this,sr,new V4(this)),c(this,sr).show(s,r,this.direction==="ltr"))},ck=function(){var i,o,a;const e=document.getSelection();if(!e||e.isCollapsed){c(this,Or)&&((i=c(this,sr))==null||i.hide(),A(this,Or,null),C(this,Y,sn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,Or))return;const r=C(this,Y,em).call(this,e).closest(".textLayer");if(!r){c(this,Or)&&((o=c(this,sr))==null||o.hide(),A(this,Or,null),C(this,Y,sn).call(this,{hasSelectedText:!1}));return}if((a=c(this,sr))==null||a.hide(),A(this,Or,t),C(this,Y,sn).call(this,{hasSelectedText:!0}),!(c(this,Rt)!==pe.HIGHLIGHT&&c(this,Rt)!==pe.NONE)&&(c(this,Rt)===pe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),A(this,Yi,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=c(this,Rt)===pe.HIGHLIGHT?C(this,Y,q0).call(this,r):null;l==null||l.toggleDrawing();const u=new AbortController,d=this.combinedSignal(u),f=h=>{h.type==="pointerup"&&h.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),h.type==="pointerup"&&C(this,Y,tm).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:d}),window.addEventListener("blur",f,{signal:d})}},tm=function(e=""){c(this,Rt)===pe.HIGHLIGHT?this.highlightSelection(e):c(this,kh)&&C(this,Y,lk).call(this)},uk=function(){document.addEventListener("selectionchange",C(this,Y,ck).bind(this),{signal:this._signal})},dk=function(){if(c(this,Ki))return;A(this,Ki,new AbortController);const e=this.combinedSignal(c(this,Ki));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},hk=function(){var e;(e=c(this,Ki))==null||e.abort(),A(this,Ki,null)},K0=function(){if(c(this,Qi))return;A(this,Qi,new AbortController);const e=this.combinedSignal(c(this,Qi));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},fk=function(){var e;(e=c(this,Qi))==null||e.abort(),A(this,Qi,null)},Y0=function(){if(c(this,qi))return;A(this,qi,new AbortController);const e=this.combinedSignal(c(this,qi));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},X0=function(){var e;(e=c(this,qi))==null||e.abort(),A(this,qi,null)},pk=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},sn=function(e){Object.entries(e).some(([s,r])=>c(this,jh)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,jh),e)}),c(this,Rt)===pe.HIGHLIGHT&&e.hasSelectedEditor===!1&&C(this,Y,Li).call(this,[[ie.HIGHLIGHT_FREE,!0]]))},Li=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},mk=async function(){if(!c(this,Xi)){A(this,Xi,!0);const e=[];for(const t of c(this,jt).values())e.push(t.enable());await Promise.all(e);for(const t of c(this,xt).values())t.enable()}},gk=function(){if(this.unselectAll(),c(this,Xi)){A(this,Xi,!1);for(const e of c(this,jt).values())e.disable();for(const e of c(this,xt).values())e.disable()}},Q0=function(e){const t=c(this,jt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},vk=function(){let e=null;for(e of c(this,Me));return e},xd=function(){if(c(this,xt).size===0)return!0;if(c(this,xt).size===1)for(const e of c(this,xt).values())return e.isEmpty();return!1},J0=function(e){for(const t of c(this,Me))t.unselect();c(this,Me).clear();for(const t of e)t.isEmpty()||(c(this,Me).add(t),t.select());C(this,Y,sn).call(this,{hasSelectedEditor:this.hasSelection})},re(cc,"TRANSLATE_SMALL",1),re(cc,"TRANSLATE_BIG",10);let xl=cc;var Nt,ir,Ts,Hc,or,In,zc,ar,xn,Hr,ba,lr,Zi,Bs,wd,nm;const rn=class rn{constructor(e){_(this,Bs);_(this,Nt,null);_(this,ir,!1);_(this,Ts,null);_(this,Hc,null);_(this,or,null);_(this,In,null);_(this,zc,!1);_(this,ar,null);_(this,xn,null);_(this,Hr,null);_(this,ba,null);_(this,lr,!1);A(this,xn,e),A(this,lr,e._uiManager.useNewAltTextFlow),c(rn,Zi)||A(rn,Zi,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){rn._l10n??(rn._l10n=e)}async render(){const e=A(this,Ts,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=A(this,Hc,document.createElement("span"));e.append(t),c(this,lr)?(e.classList.add("new"),e.setAttribute("data-l10n-id",c(rn,Zi).missing),t.setAttribute("data-l10n-id",c(rn,Zi)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=c(this,xn)._uiManager._signal;e.addEventListener("contextmenu",ms,{signal:s}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:s});const r=i=>{i.preventDefault(),c(this,xn)._uiManager.editAltText(c(this,xn)),c(this,lr)&&c(this,xn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:c(this,Bs,wd)}})};return e.addEventListener("click",r,{capture:!0,signal:s}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(A(this,zc,!0),r(i))},{signal:s}),await C(this,Bs,nm).call(this),e}finish(){c(this,Ts)&&(c(this,Ts).focus({focusVisible:c(this,zc)}),A(this,zc,!1))}isEmpty(){return c(this,lr)?c(this,Nt)===null:!c(this,Nt)&&!c(this,ir)}hasData(){return c(this,lr)?c(this,Nt)!==null||!!c(this,Hr):this.isEmpty()}get guessedText(){return c(this,Hr)}async setGuessedText(e){c(this,Nt)===null&&(A(this,Hr,e),A(this,ba,await rn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),C(this,Bs,nm).call(this))}toggleAltTextBadge(e=!1){var t;if(!c(this,lr)||c(this,Nt)){(t=c(this,ar))==null||t.remove(),A(this,ar,null);return}if(!c(this,ar)){const s=A(this,ar,document.createElement("div"));s.className="noAltTextBadge",c(this,xn).div.append(s)}c(this,ar).classList.toggle("hidden",!e)}serialize(e){let t=c(this,Nt);return!e&&c(this,Hr)===t&&(t=c(this,ba)),{altText:t,decorative:c(this,ir),guessedText:c(this,Hr),textWithDisclaimer:c(this,ba)}}get data(){return{altText:c(this,Nt),decorative:c(this,ir)}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:r,cancel:i=!1}){s&&(A(this,Hr,s),A(this,ba,r)),!(c(this,Nt)===e&&c(this,ir)===t)&&(i||(A(this,Nt,e),A(this,ir,t)),C(this,Bs,nm).call(this))}toggle(e=!1){c(this,Ts)&&(!e&&c(this,In)&&(clearTimeout(c(this,In)),A(this,In,null)),c(this,Ts).disabled=!e)}shown(){c(this,xn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:c(this,Bs,wd)}})}destroy(){var e,t;(e=c(this,Ts))==null||e.remove(),A(this,Ts,null),A(this,Hc,null),A(this,or,null),(t=c(this,ar))==null||t.remove(),A(this,ar,null)}};Nt=new WeakMap,ir=new WeakMap,Ts=new WeakMap,Hc=new WeakMap,or=new WeakMap,In=new WeakMap,zc=new WeakMap,ar=new WeakMap,xn=new WeakMap,Hr=new WeakMap,ba=new WeakMap,lr=new WeakMap,Zi=new WeakMap,Bs=new WeakSet,wd=function(){return c(this,Nt)&&"added"||c(this,Nt)===null&&this.guessedText&&"review"||"missing"},nm=async function(){var r,i,o;const e=c(this,Ts);if(!e)return;if(c(this,lr)){if(e.classList.toggle("done",!!c(this,Nt)),e.setAttribute("data-l10n-id",c(rn,Zi)[c(this,Bs,wd)]),(r=c(this,Hc))==null||r.setAttribute("data-l10n-id",c(rn,Zi)[`${c(this,Bs,wd)}-label`]),!c(this,Nt)){(i=c(this,or))==null||i.remove();return}}else{if(!c(this,Nt)&&!c(this,ir)){e.classList.remove("done"),(o=c(this,or))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=c(this,or);if(!t){A(this,or,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${c(this,xn).id}`;const a=100,l=c(this,xn)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(c(this,In)),A(this,In,null)},{once:!0}),e.addEventListener("mouseenter",()=>{A(this,In,setTimeout(()=>{A(this,In,null),c(this,or).classList.add("show"),c(this,xn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;c(this,In)&&(clearTimeout(c(this,In)),A(this,In,null)),(u=c(this,or))==null||u.classList.remove("show")},{signal:l})}c(this,ir)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=c(this,Nt)),t.parentNode||e.append(t);const s=c(this,xn).getImageForAltText();s==null||s.setAttribute("aria-describedby",t.id)},_(rn,Zi,null),re(rn,"_l10n",null);let og=rn;var Sa,Ps,Je,$c,Aa,Ft,Ea,eo,Oh,Ca,to,Bh,_a,zr,cr,Uc,Vc,ns,Hh,mg,me,Z0,zh,ex,tx,yk,xk,nx,sx,rx,wk,ix,bk,Sk,Ak,ox,bd;const Ne=class Ne{constructor(e){_(this,me);_(this,Sa,null);_(this,Ps,null);_(this,Je,null);_(this,$c,!1);_(this,Aa,!1);_(this,Ft,null);_(this,Ea,null);_(this,eo,null);_(this,Oh,"");_(this,Ca,!1);_(this,to,null);_(this,Bh,!1);_(this,_a,!1);_(this,zr,!1);_(this,cr,null);_(this,Uc,0);_(this,Vc,0);_(this,ns,null);re(this,"_editToolbar",null);re(this,"_initialOptions",Object.create(null));re(this,"_initialData",null);re(this,"_isVisible",!0);re(this,"_uiManager",null);re(this,"_focusEventsAllowed",!0);_(this,Hh,!1);_(this,mg,Ne._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:r,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[i,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Ne.prototype._resizeWithKeyboard,t=xl.TRANSLATE_SMALL,s=xl.TRANSLATE_BIG;return Ae(this,"_resizerKeyboardManager",new Xf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],Ne.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ae(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new K4({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ne._l10n??(Ne._l10n=e),Ne._l10nResizer||(Ne._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ne._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Ne._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){qe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Hh)}set _isDraggable(e){var t;A(this,Hh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,mg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):C(this,me,bd).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,Ca)?A(this,Ca,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,r){const[i,o]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(e+s)/i,this.y=(t+r)/o,this.fixAndSetPosition()}translate(e,t){C(this,me,Z0).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,to)||A(this,to,[this.x,this.y]),C(this,me,Z0).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,to)||A(this,to,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=e/s,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:o}=this;const[a,l]=this.getBaseTranslation();i+=a,o+=l,this.div.style.left=`${(100*i).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,to)&&(c(this,to)[0]!==this.x||c(this,to)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=Ne,r=s/e,i=s/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,s]=this.pageDimensions;let{x:r,y:i,width:o,height:a}=this;if(o*=t,a*=s,r*=t,i*=s,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-o,r)),i=Math.max(0,Math.min(s-a,i));break;case 90:r=Math.max(0,Math.min(t-a,r)),i=Math.min(s,Math.max(o,i));break;case 180:r=Math.min(t,Math.max(o,r)),i=Math.min(s,Math.max(a,i));break;case 270:r=Math.min(t,Math.max(a,r)),i=Math.max(0,Math.min(s-o,i));break}this.x=r/=t,this.y=i/=s;const[l,u]=this.getBaseTranslation();r+=l,i+=u;const{style:d}=this.div;d.left=`${(100*r).toFixed(2)}%`,d.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var s;return C(s=Ne,zh,ex).call(s,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var s;return C(s=Ne,zh,ex).call(s,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(e,t){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*e/s).toFixed(2)}%`,c(this,Aa)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,r=s.endsWith("%"),i=!c(this,Aa)&&t.endsWith("%");if(r&&i)return;const[o,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(s)/o).toFixed(2)}%`),!c(this,Aa)&&!i&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,Je))==null||e.finish()}async addEditToolbar(){return this._editToolbar||c(this,_a)?this._editToolbar:(this._editToolbar=new U0(this),this.div.append(this._editToolbar.render()),c(this,Je)&&await this._editToolbar.addAltText(c(this,Je)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=c(this,Je))==null||e.destroy())}addContainer(e){var s;const t=(s=this._editToolbar)==null?void 0:s.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,Je)||(og.initialize(Ne._l10n),A(this,Je,new og(this)),c(this,Sa)&&(c(this,Je).data=c(this,Sa),A(this,Sa,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,Je))==null?void 0:e.data}set altTextData(e){c(this,Je)&&(c(this,Je).data=e)}get guessedAltText(){var e;return(e=c(this,Je))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=c(this,Je))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=c(this,Je))==null?void 0:t.serialize(e)}hasAltText(){return!!c(this,Je)&&!c(this,Je).isEmpty()}hasAltTextData(){var e;return((e=c(this,Je))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,$c)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),C(this,me,ix).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),ig(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=dn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(A(this,Ca,!0),this._isDraggable){C(this,me,wk).call(this,e);return}C(this,me,rx).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){c(this,cr)&&clearTimeout(c(this,cr)),A(this,cr,setTimeout(()=>{var e;A(this,cr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition()}getRect(e,t,s=this.rotation){const r=this.parentScale,[i,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/r,d=t/r,f=this.x*i,h=this.y*o,m=this.width*i,v=this.height*o;switch(s){case 0:return[f+u+a,o-h-d-v+l,f+u+m+a,o-h-d+l];case 90:return[f+d+a,o-h+u+l,f+d+v+a,o-h+u+m+l];case 180:return[f-u-m+a,o-h+d+l,f-u+a,o-h+d+v+l];case 270:return[f-d-v+a,o-h-u-m+l,f-d+a,o-h-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,r,i,o]=e,a=i-s,l=o-r;switch(this.rotation){case 0:return[s,t-o,a,l];case 90:return[s,t-r,l,a];case 180:return[i,t-r,a,l];case 270:return[i,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){A(this,_a,!0)}disableEditMode(){A(this,_a,!1)}isInEditMode(){return c(this,_a)}shouldGetKeyboardEvents(){return c(this,zr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){C(this,me,ix).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){qe("An editor must be serializable")}static async deserialize(e,t,s){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s});r.rotation=e.rotation,A(r,Sa,e.accessibilityData);const[i,o]=r.pageDimensions,[a,l,u,d]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/i,r.y=l/o,r.width=u/i,r.height=d/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=c(this,eo))==null||e.abort(),A(this,eo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,cr)&&(clearTimeout(c(this,cr)),A(this,cr,null)),C(this,me,bd).call(this),this.removeEditToolbar(),c(this,ns)){for(const t of c(this,ns).values())clearTimeout(t);A(this,ns,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(C(this,me,yk).call(this),c(this,Ft).classList.remove("hidden"),ig(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),A(this,Ea,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,Ft).children;if(!c(this,Ps)){A(this,Ps,Array.from(t));const o=C(this,me,bk).bind(this),a=C(this,me,Sk).bind(this),l=this._uiManager._signal;for(const u of c(this,Ps)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",C(this,me,Ak).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",Ne._l10nResizer[d])}}const s=c(this,Ps)[0];let r=0;for(const o of t){if(o===s)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(c(this,Ps).length/4);if(i!==r){if(i<r)for(let a=0;a<r-i;a++)c(this,Ft).append(c(this,Ft).firstChild);else if(i>r)for(let a=0;a<i-r;a++)c(this,Ft).firstChild.before(c(this,Ft).lastChild);let o=0;for(const a of t){const u=c(this,Ps)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",Ne._l10nResizer[u])}}C(this,me,ox).call(this,0),A(this,zr,!0),c(this,Ft).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,zr)&&C(this,me,sx).call(this,c(this,Oh),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){C(this,me,bd).call(this),this.div.focus()}select(){var e,t,s;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(s=c(this,Je))==null||s.toggleAltTextBadge(!1)}unselect(){var e,t,s,r,i;(e=c(this,Ft))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(i=c(this,Je))==null||i.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,Bh)}set isEditing(e){A(this,Bh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){A(this,Aa,!0);const s=e/t,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,ns)||A(this,ns,new Map);const{action:s}=e;let r=c(this,ns).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),c(this,ns).delete(s),c(this,ns).size===0&&A(this,ns,null)},Ne._telemetryTimeout),c(this,ns).set(s,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),A(this,$c,!1)}disable(){this.div&&(this.div.tabIndex=-1),A(this,$c,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Sa=new WeakMap,Ps=new WeakMap,Je=new WeakMap,$c=new WeakMap,Aa=new WeakMap,Ft=new WeakMap,Ea=new WeakMap,eo=new WeakMap,Oh=new WeakMap,Ca=new WeakMap,to=new WeakMap,Bh=new WeakMap,_a=new WeakMap,zr=new WeakMap,cr=new WeakMap,Uc=new WeakMap,Vc=new WeakMap,ns=new WeakMap,Hh=new WeakMap,mg=new WeakMap,me=new WeakSet,Z0=function([e,t],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/e,this.y+=r/t,this.fixAndSetPosition()},zh=new WeakSet,ex=function(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},tx=function(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}},yk=function(){if(c(this,Ft))return;A(this,Ft,document.createElement("div")),c(this,Ft).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const r=document.createElement("div");c(this,Ft).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",C(this,me,xk).bind(this,s),{signal:t}),r.addEventListener("contextmenu",ms,{signal:t}),r.tabIndex=-1}this.div.prepend(c(this,Ft))},xk=function(e,t){var v;t.preventDefault();const{isMac:s}=dn.platform;if(t.button!==0||t.ctrlKey&&s)return;(v=c(this,Je))==null||v.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const i=new AbortController,o=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",C(this,me,sx).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",ms,{signal:o});const a=this.x,l=this.y,u=this.width,d=this.height,f=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const m=()=>{var g;i.abort(),this.parent.togglePointerEvents(!0),(g=c(this,Je))==null||g.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=f,this.div.style.cursor=h,C(this,me,nx).call(this,a,l,u,d)};window.addEventListener("pointerup",m,{signal:o}),window.addEventListener("blur",m,{signal:o})},nx=function(e,t,s,r){const i=this.x,o=this.y,a=this.width,l=this.height;i===e&&o===t&&a===s&&l===r||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=i,this.y=o;const[u,d]=this.parentDimensions;this.setDims(u*a,d*l),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=e,this.y=t;const[u,d]=this.parentDimensions;this.setDims(u*s,d*r),this.fixAndSetPosition()},mustExec:!0})},sx=function(e,t){const[s,r]=this.parentDimensions,i=this.x,o=this.y,a=this.width,l=this.height,u=Ne.MIN_SIZE/s,d=Ne.MIN_SIZE/r,f=F=>Math.round(F*1e4)/1e4,h=C(this,me,tx).call(this,this.rotation),m=(F,N)=>[h[0]*F+h[2]*N,h[1]*F+h[3]*N],v=C(this,me,tx).call(this,360-this.rotation),g=(F,N)=>[v[0]*F+v[2]*N,v[1]*F+v[3]*N];let S,y,x=!1,w=!1;switch(e){case"topLeft":x=!0,S=(F,N)=>[0,0],y=(F,N)=>[F,N];break;case"topMiddle":S=(F,N)=>[F/2,0],y=(F,N)=>[F/2,N];break;case"topRight":x=!0,S=(F,N)=>[F,0],y=(F,N)=>[0,N];break;case"middleRight":w=!0,S=(F,N)=>[F,N/2],y=(F,N)=>[0,N/2];break;case"bottomRight":x=!0,S=(F,N)=>[F,N],y=(F,N)=>[0,0];break;case"bottomMiddle":S=(F,N)=>[F/2,N],y=(F,N)=>[F/2,0];break;case"bottomLeft":x=!0,S=(F,N)=>[0,N],y=(F,N)=>[F,0];break;case"middleLeft":w=!0,S=(F,N)=>[0,N/2],y=(F,N)=>[F,N/2];break}const E=S(a,l),T=y(a,l);let P=m(...T);const k=f(i+P[0]),R=f(o+P[1]);let M=1,L=1,[D,O]=this.screenToPageTranslation(t.movementX,t.movementY);if([D,O]=g(D/s,O/r),x){const F=Math.hypot(a,l);M=L=Math.max(Math.min(Math.hypot(T[0]-E[0]-D,T[1]-E[1]-O)/F,1/a,1/l),u/a,d/l)}else w?M=Math.max(u,Math.min(1,Math.abs(T[0]-E[0]-D)))/a:L=Math.max(d,Math.min(1,Math.abs(T[1]-E[1]-O)))/l;const H=f(a*M),I=f(l*L);P=m(...y(H,I));const $=k-P[0],j=R-P[1];this.width=H,this.height=I,this.x=$,this.y=j,this.setDims(s*H,r*I),this.fixAndSetPosition()},rx=function(e){const{isMac:t}=dn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},wk=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(t){this.div.classList.add("moving"),A(this,Uc,e.clientX),A(this,Vc,e.clientY);const o=a=>{const{clientX:l,clientY:u}=a,[d,f]=this.screenToPageTranslation(l-c(this,Uc),u-c(this,Vc));A(this,Uc,l),A(this,Vc,u),this._uiManager.dragSelectedEditors(d,f)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:r})}const i=()=>{s.abort(),t&&this.div.classList.remove("moving"),A(this,Ca,!1),this._uiManager.endDragSession()||C(this,me,rx).call(this,e)};window.addEventListener("pointerup",i,{signal:r}),window.addEventListener("blur",i,{signal:r})},ix=function(){if(c(this,eo)||!this.div)return;A(this,eo,new AbortController);const e=this._uiManager.combinedSignal(c(this,eo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},bk=function(e){Ne._resizerKeyboardManager.exec(this,e)},Sk=function(e){var t;c(this,zr)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,Ft)&&C(this,me,bd).call(this)},Ak=function(e){A(this,Oh,c(this,zr)?e:"")},ox=function(e){if(c(this,Ps))for(const t of c(this,Ps))t.tabIndex=e},bd=function(){if(A(this,zr,!1),C(this,me,ox).call(this,-1),c(this,Ea)){const{savedX:e,savedY:t,savedWidth:s,savedHeight:r}=c(this,Ea);C(this,me,nx).call(this,e,t,s,r),A(this,Ea,null)}},_(Ne,zh),re(Ne,"_l10n",null),re(Ne,"_l10nResizer",null),re(Ne,"_borderLineWidth",-1),re(Ne,"_colorManager",new G0),re(Ne,"_zIndex",1),re(Ne,"_telemetryTimeout",1e3);let Ie=Ne;class K4 extends Ie{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const nA=3285377520,Zn=4294901760,Ys=65535;class Ek{constructor(e){this.h1=e?e&4294967295:nA,this.h2=e?e&4294967295:nA}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let g=0,S=e.length;g<S;g++){const y=e.charCodeAt(g);y<=255?t[s++]=y:(t[s++]=y>>>8,t[s++]=y&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,i=s-r*4,o=new Uint32Array(t.buffer,0,r);let a=0,l=0,u=this.h1,d=this.h2;const f=3432918353,h=461845907,m=f&Ys,v=h&Ys;for(let g=0;g<r;g++)g&1?(a=o[g],a=a*f&Zn|a*m&Ys,a=a<<15|a>>>17,a=a*h&Zn|a*v&Ys,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[g],l=l*f&Zn|l*m&Ys,l=l<<15|l>>>17,l=l*h&Zn|l*v&Ys,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,i){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*f&Zn|a*m&Ys,a=a<<15|a>>>17,a=a*h&Zn|a*v&Ys,r&1?u^=a:d^=a}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Zn|e*36045&Ys,t=t*4283543511&Zn|((t<<16|e>>>16)*2950163797&Zn)>>>16,e^=t>>>1,e=e*444984403&Zn|e*60499&Ys,t=t*3301882366&Zn|((t<<16|e>>>16)*3120437893&Zn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const ax=Object.freeze({map:null,hash:"",transfer:void 0});var Ta,Pa,Mt,gg,Ck;class Ib{constructor(){_(this,gg);_(this,Ta,!1);_(this,Pa,null);_(this,Mt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=c(this,Mt).get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return c(this,Mt).get(e)}remove(e){if(c(this,Mt).delete(e),c(this,Mt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,Mt).values())if(t instanceof Ie)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=c(this,Mt).get(e);let r=!1;if(s!==void 0)for(const[i,o]of Object.entries(t))s[i]!==o&&(r=!0,s[i]=o);else r=!0,c(this,Mt).set(e,t);r&&C(this,gg,Ck).call(this),t instanceof Ie&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,Mt).has(e)}getAll(){return c(this,Mt).size>0?Pb(c(this,Mt)):null}setAll(e){for(const[t,s]of Object.entries(e))this.setValue(t,s)}get size(){return c(this,Mt).size}resetModified(){c(this,Ta)&&(A(this,Ta,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _k(this)}get serializable(){if(c(this,Mt).size===0)return ax;const e=new Map,t=new Ek,s=[],r=Object.create(null);let i=!1;for(const[o,a]of c(this,Mt)){const l=a instanceof Ie?a.serialize(!1,r):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),i||(i=!!l.bitmap))}if(i)for(const o of e.values())o.bitmap&&s.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:ax}get editorStats(){let e=null;const t=new Map;for(const s of c(this,Mt).values()){if(!(s instanceof Ie))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:i}=r;t.has(i)||t.set(i,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const o=e[i]||(e[i]=new Map);for(const[a,l]of Object.entries(r)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const d=u.get(l)??0;u.set(l,d+1)}}for(const[s,r]of t)e[s]=r.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){A(this,Pa,null)}get modifiedIds(){if(c(this,Pa))return c(this,Pa);const e=[];for(const t of c(this,Mt).values())!(t instanceof Ie)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return A(this,Pa,{ids:new Set(e),hash:e.join(",")})}}Ta=new WeakMap,Pa=new WeakMap,Mt=new WeakMap,gg=new WeakSet,Ck=function(){c(this,Ta)||(A(this,Ta,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var $h;class _k extends Ib{constructor(t){super();_(this,$h);const{map:s,hash:r,transfer:i}=t.serializable,o=structuredClone(s,i?{transfer:i}:null);A(this,$h,{map:o,hash:r,transfer:i})}get print(){qe("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,$h)}get modifiedIds(){return Ae(this,"modifiedIds",{ids:new Set,hash:""})}}$h=new WeakMap;var Wc;class Y4{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){_(this,Wc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Wc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,Wc).has(e.loadedName))){if(At(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:i}=e,o=new FontFace(s,r,i);this.addNativeFontFace(o);try{await o.load(),c(this,Wc).add(s),t==null||t(e)}catch{ge(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}qe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw ge(`Failed to load font '${s.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ae(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(en||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ae(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(At(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const i=s.shift();setTimeout(i.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:t,callback:e};return s.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ae(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(E,T){return E.charCodeAt(T)<<24|E.charCodeAt(T+1)<<16|E.charCodeAt(T+2)<<8|E.charCodeAt(T+3)&255}function r(E,T,P,k){const R=E.substring(0,T),M=E.substring(T+P);return R+k+M}let i,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function d(E,T){if(++u>30){ge("Load test font never loaded."),T();return}if(l.font="30px "+E,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(d.bind(null,E,T))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=r(h,976,f.length,f);const v=16,g=1482184792;let S=s(h,v);for(i=0,o=f.length-3;i<o;i+=4)S=S-g+s(f,i)|0;i<f.length&&(S=S-g+s(f+"XXX",i)|0),h=r(h,v,4,L4(S));const y=`url(data:font/opentype;base64,${btoa(h)});`,x=`@font-face {font-family:"${f}";src:${y}}`;this.insertRule(x);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const E of[e.loadedName,f]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=E,w.append(T)}this._document.body.append(w),d(f,()=>{w.remove(),t.complete()})}}Wc=new WeakMap;class X4{constructor(e,{disableFontFace:t=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=s}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${B4(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let s;try{s=e.get(this.loadedName+"_path_"+t)}catch(i){ge(`getPathGenerator - ignoring character: "${i}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[t]=function(i,o){};const r=[];for(let i=0,o=s.length;i<o;)switch(s[i++]){case kr.BEZIER_CURVE_TO:{const[a,l,u,d,f,h]=s.slice(i,i+6);r.push(m=>m.bezierCurveTo(a,l,u,d,f,h)),i+=6}break;case kr.MOVE_TO:{const[a,l]=s.slice(i,i+2);r.push(u=>u.moveTo(a,l)),i+=2}break;case kr.LINE_TO:{const[a,l]=s.slice(i,i+2);r.push(u=>u.lineTo(a,l)),i+=2}break;case kr.QUADRATIC_CURVE_TO:{const[a,l,u,d]=s.slice(i,i+4);r.push(f=>f.quadraticCurveTo(a,l,u,d)),i+=4}break;case kr.RESTORE:r.push(a=>a.restore());break;case kr.SAVE:r.push(a=>a.save());break;case kr.SCALE:At(r.length===2,"Scale command is only valid at the third position.");break;case kr.TRANSFORM:{const[a,l,u,d,f,h]=s.slice(i,i+6);r.push(m=>m.transform(a,l,u,d,f,h)),i+=6}break;case kr.TRANSLATE:{const[a,l]=s.slice(i,i+2);r.push(u=>u.translate(a,l)),i+=2}break}return this.compiledGlyphs[t]=function(o,a){r[0](o),r[1](o),o.scale(a,-a);for(let l=2,u=r.length;l<u;l++)r[l](o)}}}var Uh;class Tk{constructor({enableHWA:e=!1}){_(this,Uh,!1);A(this,Uh,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!c(this,Uh)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){qe("Abstract method `_createCanvas` called.")}}Uh=new WeakMap;class Q4 extends Tk{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class Pk{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){qe("Abstract method `_fetch` called.")}}class kk extends Pk{async _fetch(e){const t=await mv(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):pv(t)}}class Rk{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,r,i){return"none"}destroy(e=!1){}}var ka,Ra,ur,$r,Yt,vg,Na,X,Gt,Ul,Vl,sm,Wl,Nk,lx,Gl,Sd,Ad,cx,Ed;class J4 extends Rk{constructor({docId:t,ownerDocument:s=globalThis.document}){super();_(this,X);_(this,ka);_(this,Ra);_(this,ur);_(this,$r);_(this,Yt);_(this,vg);_(this,Na,0);A(this,$r,t),A(this,Yt,s)}addFilter(t){if(!t)return"none";let s=c(this,X,Gt).get(t);if(s)return s;const[r,i,o]=C(this,X,sm).call(this,t),a=t.length===1?r:`${r}${i}${o}`;if(s=c(this,X,Gt).get(a),s)return c(this,X,Gt).set(t,s),s;const l=`g_${c(this,$r)}_transfer_map_${_t(this,Na)._++}`,u=C(this,X,Wl).call(this,l);c(this,X,Gt).set(t,u),c(this,X,Gt).set(a,u);const d=C(this,X,Gl).call(this,l);return C(this,X,Ad).call(this,r,i,o,d),u}addHCMFilter(t,s){var v;const r=`${t}-${s}`,i="base";let o=c(this,X,Ul).get(i);if((o==null?void 0:o.key)===r||(o?((v=o.filter)==null||v.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},c(this,X,Ul).set(i,o)),!t||!s))return o.url;const a=C(this,X,Ed).call(this,t);t=Z.makeHexColor(...a);const l=C(this,X,Ed).call(this,s);if(s=Z.makeHexColor(...l),c(this,X,Vl).style.color="",t==="#000000"&&s==="#ffffff"||t===s)return o.url;const u=new Array(256);for(let g=0;g<=255;g++){const S=g/255;u[g]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const d=u.join(","),f=`g_${c(this,$r)}_hcm_filter`,h=o.filter=C(this,X,Gl).call(this,f);C(this,X,Ad).call(this,d,d,d,h),C(this,X,lx).call(this,h);const m=(g,S)=>{const y=a[g]/255,x=l[g]/255,w=new Array(S+1);for(let E=0;E<=S;E++)w[E]=y+E/S*(x-y);return w.join(",")};return C(this,X,Ad).call(this,m(0,5),m(1,5),m(2,5),h),o.url=C(this,X,Wl).call(this,f),o.url}addAlphaFilter(t){let s=c(this,X,Gt).get(t);if(s)return s;const[r]=C(this,X,sm).call(this,[t]),i=`alpha_${r}`;if(s=c(this,X,Gt).get(i),s)return c(this,X,Gt).set(t,s),s;const o=`g_${c(this,$r)}_alpha_map_${_t(this,Na)._++}`,a=C(this,X,Wl).call(this,o);c(this,X,Gt).set(t,a),c(this,X,Gt).set(i,a);const l=C(this,X,Gl).call(this,o);return C(this,X,cx).call(this,r,l),a}addLuminosityFilter(t){let s=c(this,X,Gt).get(t||"luminosity");if(s)return s;let r,i;if(t?([r]=C(this,X,sm).call(this,[t]),i=`luminosity_${r}`):i="luminosity",s=c(this,X,Gt).get(i),s)return c(this,X,Gt).set(t,s),s;const o=`g_${c(this,$r)}_luminosity_map_${_t(this,Na)._++}`,a=C(this,X,Wl).call(this,o);c(this,X,Gt).set(t,a),c(this,X,Gt).set(i,a);const l=C(this,X,Gl).call(this,o);return C(this,X,Nk).call(this,l),t&&C(this,X,cx).call(this,r,l),a}addHighlightHCMFilter(t,s,r,i,o){var x;const a=`${s}-${r}-${i}-${o}`;let l=c(this,X,Ul).get(t);if((l==null?void 0:l.key)===a||(l?((x=l.filter)==null||x.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},c(this,X,Ul).set(t,l)),!s||!r))return l.url;const[u,d]=[s,r].map(C(this,X,Ed).bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),h=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,v]=[i,o].map(C(this,X,Ed).bind(this));h<f&&([f,h,m,v]=[h,f,v,m]),c(this,X,Vl).style.color="";const g=(w,E,T)=>{const P=new Array(256),k=(h-f)/T,R=w/255,M=(E-w)/(255*T);let L=0;for(let D=0;D<=T;D++){const O=Math.round(f+D*k),H=R+D*M;for(let I=L;I<=O;I++)P[I]=H;L=O+1}for(let D=L;D<256;D++)P[D]=P[L-1];return P.join(",")},S=`g_${c(this,$r)}_hcm_${t}_filter`,y=l.filter=C(this,X,Gl).call(this,S);return C(this,X,lx).call(this,y),C(this,X,Ad).call(this,g(m[0],v[0],5),g(m[1],v[1],5),g(m[2],v[2],5),y),l.url=C(this,X,Wl).call(this,S),l.url}destroy(t=!1){t&&c(this,X,Ul).size!==0||(c(this,ur)&&(c(this,ur).parentNode.parentNode.remove(),A(this,ur,null)),c(this,Ra)&&(c(this,Ra).clear(),A(this,Ra,null)),A(this,Na,0))}}ka=new WeakMap,Ra=new WeakMap,ur=new WeakMap,$r=new WeakMap,Yt=new WeakMap,vg=new WeakMap,Na=new WeakMap,X=new WeakSet,Gt=function(){return c(this,Ra)||A(this,Ra,new Map)},Ul=function(){return c(this,vg)||A(this,vg,new Map)},Vl=function(){if(!c(this,ur)){const t=c(this,Yt).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=c(this,Yt).createElementNS(Mr,"svg");r.setAttribute("width",0),r.setAttribute("height",0),A(this,ur,c(this,Yt).createElementNS(Mr,"defs")),t.append(r),r.append(c(this,ur)),c(this,Yt).body.append(t)}return c(this,ur)},sm=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let h=0;h<256;h++)d[h]=u[h]/255;const f=d.join(",");return[f,f,f]}const[s,r,i]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=s[u]/255,a[u]=r[u]/255,l[u]=i[u]/255;return[o.join(","),a.join(","),l.join(",")]},Wl=function(t){if(c(this,ka)===void 0){A(this,ka,"");const s=c(this,Yt).URL;s!==c(this,Yt).baseURI&&(gv(s)?ge('#createUrl: ignore "data:"-URL for performance reasons.'):A(this,ka,s.split("#",1)[0]))}return`url(${c(this,ka)}#${t})`},Nk=function(t){const s=c(this,Yt).createElementNS(Mr,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)},lx=function(t){const s=c(this,Yt).createElementNS(Mr,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)},Gl=function(t){const s=c(this,Yt).createElementNS(Mr,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),c(this,X,Vl).append(s),s},Sd=function(t,s,r){const i=c(this,Yt).createElementNS(Mr,s);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),t.append(i)},Ad=function(t,s,r,i){const o=c(this,Yt).createElementNS(Mr,"feComponentTransfer");i.append(o),C(this,X,Sd).call(this,o,"feFuncR",t),C(this,X,Sd).call(this,o,"feFuncG",s),C(this,X,Sd).call(this,o,"feFuncB",r)},cx=function(t,s){const r=c(this,Yt).createElementNS(Mr,"feComponentTransfer");s.append(r),C(this,X,Sd).call(this,r,"feFuncA",t)},Ed=function(t){return c(this,X,Vl).style.color=t,Lb(getComputedStyle(c(this,X,Vl)).getPropertyValue("color"))};class Mk{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){qe("Abstract method `_fetch` called.")}}class Lk extends Mk{async _fetch(e){const t=await mv(e,"arraybuffer");return new Uint8Array(t)}}if(en){var ux=Promise.withResolvers(),Wd=null;(async()=>{const e=await Tp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Tp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Tp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Tp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let i,o;return new Map(Object.entries({fs:e,http:t,https:s,url:r,canvas:i,path2d:o}))})().then(e=>{Wd=e,ux.resolve()},e=>{ge(`loadPackages: ${e}`),Wd=new Map,ux.resolve()})}class Bo{static get promise(){return ux.promise}static get(e){return Wd==null?void 0:Wd.get(e)}}async function Ik(n){const t=await Bo.get("fs").promises.readFile(n);return new Uint8Array(t)}class Z4 extends Rk{}class e5 extends Tk{_createCanvas(e,t){return Bo.get("canvas").createCanvas(e,t)}}class t5 extends Pk{async _fetch(e){return Ik(e)}}class n5 extends Mk{async _fetch(e){return Ik(e)}}const cn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function dx(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,s),n.clip(r)}class Db{getPattern(){qe("Abstract method `getPattern` called.")}}class s5 extends Db{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,r){let i;if(r===cn.STROKE||r===cn.FILL){const o=t.current.getClippedPathBoundingBox(r,et(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),s=Z.transform(s,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),dx(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),i=e.createPattern(u.canvas,"no-repeat");const f=new DOMMatrix(s);i.setTransform(f)}else dx(e,this._bbox),i=this._createGradient(e);return i}}function vy(n,e,t,s,r,i,o,a){const l=e.coords,u=e.colors,d=n.data,f=n.width*4;let h;l[t+1]>l[s+1]&&(h=t,t=s,s=h,h=i,i=o,o=h),l[s+1]>l[r+1]&&(h=s,s=r,r=h,h=o,o=a,a=h),l[t+1]>l[s+1]&&(h=t,t=s,s=h,h=i,i=o,o=h);const m=(l[t]+e.offsetX)*e.scaleX,v=(l[t+1]+e.offsetY)*e.scaleY,g=(l[s]+e.offsetX)*e.scaleX,S=(l[s+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,x=(l[r+1]+e.offsetY)*e.scaleY;if(v>=x)return;const w=u[i],E=u[i+1],T=u[i+2],P=u[o],k=u[o+1],R=u[o+2],M=u[a],L=u[a+1],D=u[a+2],O=Math.round(v),H=Math.round(x);let I,$,j,F,N,B,q,U;for(let K=O;K<=H;K++){if(K<S){const V=K<v?0:(v-K)/(v-S);I=m-(m-g)*V,$=w-(w-P)*V,j=E-(E-k)*V,F=T-(T-R)*V}else{let V;K>x?V=1:S===x?V=0:V=(S-K)/(S-x),I=g-(g-y)*V,$=P-(P-M)*V,j=k-(k-L)*V,F=R-(R-D)*V}let J;K<v?J=0:K>x?J=1:J=(v-K)/(v-x),N=m-(m-y)*J,B=w-(w-M)*J,q=E-(E-L)*J,U=T-(T-D)*J;const se=Math.round(Math.min(I,N)),Re=Math.round(Math.max(I,N));let ee=f*K+se*4;for(let V=se;V<=Re;V++)J=(I-V)/(I-N),J<0?J=0:J>1&&(J=1),d[ee++]=$-($-B)*J|0,d[ee++]=j-(j-q)*J|0,d[ee++]=F-(F-U)*J|0,d[ee++]=255}}function r5(n,e,t){const s=e.coords,r=e.colors;let i,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(s.length/a)-1,u=a-1;for(i=0;i<l;i++){let d=i*a;for(let f=0;f<u;f++,d++)vy(n,t,s[d],s[d+1],s[d+a],r[d],r[d+1],r[d+a]),vy(n,t,s[d+a+1],s[d+1],s[d+a],r[d+a+1],r[d+1],r[d+a])}break;case"triangles":for(i=0,o=s.length;i<o;i+=3)vy(n,t,s[i],s[i+1],s[i+2],r[i],r[i+1],r[i+2]);break;default:throw new Error("illegal figure")}}class i5 extends Db{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,s){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),m=u/f,v=d/h,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/m,scaleY:1/v},S=f+2*2,y=h+2*2,x=s.getCanvas("mesh",S,y),w=x.context,E=w.createImageData(f,h);if(t){const P=E.data;for(let k=0,R=P.length;k<R;k+=4)P[k]=t[0],P[k+1]=t[1],P[k+2]=t[2],P[k+3]=255}for(const P of this._figures)r5(E,P,g);return w.putImageData(E,2,2),{canvas:x.canvas,offsetX:a-2*m,offsetY:l-2*v,scaleX:m,scaleY:v}}getPattern(e,t,s,r){dx(e,this._bbox);let i;if(r===cn.SHADING)i=Z.singularValueDecompose2dScale(et(e));else if(i=Z.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=Z.singularValueDecompose2dScale(this.matrix);i=[i[0]*a[0],i[1]*a[1]]}const o=this._createMeshCanvas(i,r===cn.SHADING?null:this._background,t.cachedCanvases);return r!==cn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class o5 extends Db{getPattern(){return"hotpink"}}function a5(n){switch(n[0]){case"RadialAxial":return new s5(n);case"Mesh":return new i5(n);case"Dummy":return new o5}throw new Error(`Unknown IR type: ${n[0]}`)}const sA={COLORED:1,UNCOLORED:2},yg=class yg{constructor(e,t,s,r,i){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:s,paintType:r,tilingType:i,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),hv("TilingType: "+i);const d=t[0],f=t[1],h=t[2],m=t[3],v=h-d,g=m-f,S=Z.singularValueDecompose2dScale(this.matrix),y=Z.singularValueDecompose2dScale(this.baseTransform),x=S[0]*y[0],w=S[1]*y[1];let E=v,T=g,P=!1,k=!1;const R=Math.ceil(l*x),M=Math.ceil(u*w),L=Math.ceil(v*x),D=Math.ceil(g*w);R>=L?E=l:P=!0,M>=D?T=u:k=!0;const O=this.getSizeAndScale(E,this.ctx.canvas.width,x),H=this.getSizeAndScale(T,this.ctx.canvas.height,w),I=e.cachedCanvases.getCanvas("pattern",O.size,H.size),$=I.context,j=a.createCanvasGraphics($);if(j.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(j,r,o),$.translate(-O.scale*d,-H.scale*f),j.transform(O.scale,0,0,H.scale,0,0),$.save(),this.clipBbox(j,d,f,h,m),j.baseTransform=et(j.ctx),j.executeOperatorList(s),j.endDrawing(),$.restore(),P||k){const F=I.canvas;P&&(E=l),k&&(T=u);const N=this.getSizeAndScale(E,this.ctx.canvas.width,x),B=this.getSizeAndScale(T,this.ctx.canvas.height,w),q=N.size,U=B.size,K=e.cachedCanvases.getCanvas("pattern-workaround",q,U),J=K.context,se=P?Math.floor(v/l):0,Re=k?Math.floor(g/u):0;for(let ee=0;ee<=se;ee++)for(let V=0;V<=Re;V++)J.drawImage(F,q*ee,U*V,q,U,0,0,q,U);return{canvas:K.canvas,scaleX:N.scale,scaleY:B.scale,offsetX:d,offsetY:f}}return{canvas:I.canvas,scaleX:O.scale,scaleY:H.scale,offsetX:d,offsetY:f}}getSizeAndScale(e,t,s){const r=Math.max(yg.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*s);return i>=r?i=r:s=i/e,{scale:s,size:i}}clipBbox(e,t,s,r,i){const o=r-t,a=i-s;e.ctx.rect(t,s,o,a),e.current.updateRectMinMax(et(e.ctx),[t,s,r,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const r=e.ctx,i=e.current;switch(t){case sA.COLORED:const o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,i.fillColor=o.fillStyle,i.strokeColor=o.strokeStyle;break;case sA.UNCOLORED:const a=Z.makeHexColor(s[0],s[1],s[2]);r.fillStyle=a,r.strokeStyle=a,i.fillColor=a,i.strokeColor=a;break;default:throw new M4(`Unsupported paint type: ${t}`)}}getPattern(e,t,s,r){let i=s;r!==cn.SHADING&&(i=Z.transform(i,t.baseTransform),this.matrix&&(i=Z.transform(i,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(i);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};re(yg,"MAX_PATTERN_SIZE",3e3);let hx=yg;function l5({src:n,srcPos:e=0,dest:t,width:s,height:r,nonBlackColor:i=4294967295,inverseDecode:o=!1}){const a=dn.isLittleEndian?4278190080:255,[l,u]=o?[i,a]:[a,i],d=s>>3,f=s&7,h=n.length;t=new Uint32Array(t.buffer);let m=0;for(let v=0;v<r;v++){for(const S=e+d;e<S;e++){const y=e<h?n[e]:255;t[m++]=y&128?u:l,t[m++]=y&64?u:l,t[m++]=y&32?u:l,t[m++]=y&16?u:l,t[m++]=y&8?u:l,t[m++]=y&4?u:l,t[m++]=y&2?u:l,t[m++]=y&1?u:l}if(f===0)continue;const g=e<h?n[e++]:255;for(let S=0;S<f;S++)t[m++]=g&1<<7-S?u:l}return{srcPos:e,destPos:m}}const rA=16,iA=100,c5=15,oA=10,aA=1e3,Sn=16;function u5(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(s,r){e.translate(s,r),this.__originalTranslate(s,r)},n.scale=function(s,r){e.scale(s,r),this.__originalScale(s,r)},n.transform=function(s,r,i,o,a,l){e.transform(s,r,i,o,a,l),this.__originalTransform(s,r,i,o,a,l)},n.setTransform=function(s,r,i,o,a,l){e.setTransform(s,r,i,o,a,l),this.__originalSetTransform(s,r,i,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(s){e.rotate(s),this.__originalRotate(s)},n.clip=function(s){e.clip(s),this.__originalClip(s)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,r,i,o,a){e.bezierCurveTo(t,s,r,i,o,a),this.__originalBezierCurveTo(t,s,r,i,o,a)},n.rect=function(t,s,r,i){e.rect(t,s,r,i),this.__originalRect(t,s,r,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class d5{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,s)):(r=this.canvasFactory.create(t,s),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Pp(n,e,t,s,r,i,o,a,l,u){const[d,f,h,m,v,g]=et(n);if(f===0&&h===0){const x=o*d+v,w=Math.round(x),E=a*m+g,T=Math.round(E),P=(o+l)*d+v,k=Math.abs(Math.round(P)-w)||1,R=(a+u)*m+g,M=Math.abs(Math.round(R)-T)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(m),w,T),n.drawImage(e,t,s,r,i,0,0,k,M),n.setTransform(d,f,h,m,v,g),[k,M]}if(d===0&&m===0){const x=a*h+v,w=Math.round(x),E=o*f+g,T=Math.round(E),P=(a+u)*h+v,k=Math.abs(Math.round(P)-w)||1,R=(o+l)*f+g,M=Math.abs(Math.round(R)-T)||1;return n.setTransform(0,Math.sign(f),Math.sign(h),0,w,T),n.drawImage(e,t,s,r,i,0,0,M,k),n.setTransform(d,f,h,m,v,g),[M,k]}n.drawImage(e,t,s,r,i,o,a,l,u);const S=Math.hypot(d,f),y=Math.hypot(h,m);return[S*l,y*u]}function h5(n){const{width:e,height:t}=n;if(e>aA||t>aA)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=e+1;let o=new Uint8Array(i*(t+1)),a,l,u;const d=e+7&-8;let f=new Uint8Array(d*t),h=0;for(const y of n.data){let x=128;for(;x>0;)f[h++]=y&x?0:255,x>>=1}let m=0;for(h=0,f[h]!==0&&(o[0]=1,++m),l=1;l<e;l++)f[h]!==f[h+1]&&(o[l]=f[h]?2:1,++m),h++;for(f[h]!==0&&(o[l]=2,++m),a=1;a<t;a++){h=a*d,u=a*i,f[h-d]!==f[h]&&(o[u]=f[h]?1:8,++m);let y=(f[h]?4:0)+(f[h-d]?8:0);for(l=1;l<e;l++)y=(y>>2)+(f[h+1]?4:0)+(f[h-d+1]?8:0),r[y]&&(o[u+l]=r[y],++m),h++;if(f[h-d]!==f[h]&&(o[u+l]=f[h]?2:4,++m),m>s)return null}for(h=d*(t-1),u=a*i,f[h]!==0&&(o[u]=8,++m),l=1;l<e;l++)f[h]!==f[h+1]&&(o[u+l]=f[h]?4:8,++m),h++;if(f[h]!==0&&(o[u+l]=4,++m),m>s)return null;const v=new Int32Array([0,i,-1,0,-i,0,0,0,1]),g=new Path2D;for(a=0;m&&a<=t;a++){let y=a*i;const x=y+e;for(;y<x&&!o[y];)y++;if(y===x)continue;g.moveTo(y%i,a);const w=y;let E=o[y];do{const T=v[E];do y+=T;while(!o[y]);const P=o[y];P!==5&&P!==10?(E=P,o[y]=0):(E=P&51*E>>4,o[y]&=E>>2|E<<2),g.lineTo(y%i,y/i|0),o[y]||--m}while(w!==y);--a}return f=null,o=null,function(y){y.save(),y.scale(1/e,-1/t),y.translate(0,-t),y.fill(g),y.beginPath(),y.restore()}}class lA{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=QP,this.textMatrixScale=1,this.fontMatrix=O0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Wt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,s){[t,s]=Z.applyTransform([t,s],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(e,t){const s=Z.applyTransform(t,e),r=Z.applyTransform(t.slice(2),e),i=Z.applyTransform([t[0],t[3]],e),o=Z.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,s[0],r[0],i[0],o[0]),this.minY=Math.min(this.minY,s[1],r[1],i[1],o[1]),this.maxX=Math.max(this.maxX,s[0],r[0],i[0],o[0]),this.maxY=Math.max(this.maxY,s[1],r[1],i[1],o[1])}updateScalingPathMinMax(e,t){Z.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,s,r,i,o,a,l,u,d){const f=Z.bezierBoundingBox(t,s,r,i,o,a,l,u,d);d||this.updateRectMinMax(e,f)}getPathBoundingBox(e=cn.FILL,t=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(e===cn.STROKE){t||qe("Stroke bounding box must include transform.");const r=Z.singularValueDecompose2dScale(t),i=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;s[0]-=i,s[1]-=o,s[2]+=i,s[3]+=o}return s}updateClipFromPath(){const e=Z.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=cn.FILL,t=null){return Z.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function cA(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,r=t%Sn,i=(t-r)/Sn,o=r===0?i:i+1,a=n.createImageData(s,Sn);let l=0,u;const d=e.data,f=a.data;let h,m,v,g;if(e.kind===Xp.GRAYSCALE_1BPP){const S=d.byteLength,y=new Uint32Array(f.buffer,0,f.byteLength>>2),x=y.length,w=s+7>>3,E=4294967295,T=dn.isLittleEndian?4278190080:255;for(h=0;h<o;h++){for(v=h<i?Sn:r,u=0,m=0;m<v;m++){const P=S-l;let k=0;const R=P>w?s:P*8-7,M=R&-8;let L=0,D=0;for(;k<M;k+=8)D=d[l++],y[u++]=D&128?E:T,y[u++]=D&64?E:T,y[u++]=D&32?E:T,y[u++]=D&16?E:T,y[u++]=D&8?E:T,y[u++]=D&4?E:T,y[u++]=D&2?E:T,y[u++]=D&1?E:T;for(;k<R;k++)L===0&&(D=d[l++],L=128),y[u++]=D&L?E:T,L>>=1}for(;u<x;)y[u++]=0;n.putImageData(a,0,h*Sn)}}else if(e.kind===Xp.RGBA_32BPP){for(m=0,g=s*Sn*4,h=0;h<i;h++)f.set(d.subarray(l,l+g)),l+=g,n.putImageData(a,0,m),m+=Sn;h<o&&(g=s*r*4,f.set(d.subarray(l,l+g)),n.putImageData(a,0,m))}else if(e.kind===Xp.RGB_24BPP)for(v=Sn,g=s*v,h=0;h<o;h++){for(h>=i&&(v=r,g=s*v),u=0,m=g;m--;)f[u++]=d[l++],f[u++]=d[l++],f[u++]=d[l++],f[u++]=255;n.putImageData(a,0,h*Sn)}else throw new Error(`bad image kind: ${e.kind}`)}function uA(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,r=t%Sn,i=(t-r)/Sn,o=r===0?i:i+1,a=n.createImageData(s,Sn);let l=0;const u=e.data,d=a.data;for(let f=0;f<o;f++){const h=f<i?Sn:r;({srcPos:l}=l5({src:u,srcPos:l,dest:d,width:s,height:h,nonBlackColor:0})),n.putImageData(a,0,f*Sn)}}function ud(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function kp(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!en){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function dA(n,e){if(e)return!0;const t=Z.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Oo.PDF_TO_CSS_UNITS);return t[0]<=s&&t[1]<=s}const f5=["butt","round","square"],p5=["miter","round","bevel"],m5={},hA={};var zo,fx,px;const Ub=class Ub{constructor(e,t,s,r,i,{optionalContentConfig:o,markedContentStack:a=null},l,u){_(this,zo);this.ctx=e,this.current=new lA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new d5(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:r=null}){const i=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,i,o),this.ctx.fillStyle=a,s){const l=this.cachedCanvases.getCanvas("transparent",i,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...et(this.compositeCtx))}this.ctx.save(),kp(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=et(this.ctx)}executeOperatorList(e,t,s,r){const i=e.argsArray,o=e.fnArray;let a=t||0;const l=i.length;if(l===a)return a;const u=l-a>oA&&typeof s=="function",d=u?Date.now()+c5:0;let f=0;const h=this.commonObjs,m=this.objs;let v;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,s),a;if(v=o[a],v!==Ss.dependency)this[v].apply(this,i[a]);else for(const g of i[a]){const S=g.startsWith("g_")?h:m;if(!S.has(g))return S.get(g,s),a}if(a++,a===l)return a;if(u&&++f>oA){if(Date.now()>d)return s(),a;f=0}}}endDrawing(){C(this,zo,fx).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),C(this,zo,px).call(this)}_scaleImage(e,t){const s=e.width??e.displayWidth,r=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=s,l=r,u="prescale1",d,f;for(;i>2&&a>1||o>2&&l>1;){let h=a,m=l;i>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),i/=a/h),o>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/m),d=this.cachedCanvases.getCanvas(u,h,m),f=d.context,f.clearRect(0,0,h,m),f.drawImage(e,0,0,a,l,0,0,h,m),e=d.canvas,a=h,l=m,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:s,height:r}=e,i=this.current.fillColor,o=this.current.patternFill,a=et(t);let l,u,d,f;if((e.bitmap||e.data)&&e.count>1){const R=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),i]),l=this._cachedBitmapsMap.get(R),l||(l=new Map,this._cachedBitmapsMap.set(R,l));const M=l.get(u);if(M&&!o){const L=Math.round(Math.min(a[0],a[2])+a[4]),D=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:M,offsetX:L,offsetY:D}}d=M}d||(f=this.cachedCanvases.getCanvas("maskCanvas",s,r),uA(f.context,e));let h=Z.transform(a,[1/s,0,0,-1/r,0,0]);h=Z.transform(h,[1,0,0,1,0,-r]);const[m,v,g,S]=Z.getAxialAlignedBoundingBox([0,0,s,r],h),y=Math.round(g-m)||1,x=Math.round(S-v)||1,w=this.cachedCanvases.getCanvas("fillCanvas",y,x),E=w.context,T=m,P=v;E.translate(-T,-P),E.transform(...h),d||(d=this._scaleImage(f.canvas,Rr(E)),d=d.img,l&&o&&l.set(u,d)),E.imageSmoothingEnabled=dA(et(E),e.interpolate),Pp(E,d,0,0,d.width,d.height,0,0,s,r),E.globalCompositeOperation="source-in";const k=Z.transform(Rr(E),[1,0,0,1,-T,-P]);return E.fillStyle=o?i.getPattern(t,this,k,cn.FILL):i,E.fillRect(0,0,s,r),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,w.canvas)),{canvas:w.canvas,offsetX:Math.round(T),offsetY:Math.round(P)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=f5[e]}setLineJoin(e){this.ctx.lineJoin=p5[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const i=this.ctx;i.setTransform(...et(this.suspendedCtx)),ud(this.suspendedCtx,i),u5(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ud(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,r){const i=r[0],o=r[1],a=r[2]-i,l=r[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,s,a,l,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,r,i,o,a,l,u,d,f){let h=e.canvas,m=l-d,v=u-f;if(o){const S=Z.makeHexColor(...o);if(m<0||v<0||m+s>h.width||v+r>h.height){const y=this.cachedCanvases.getCanvas("maskExtension",s,r),x=y.context;x.drawImage(h,-m,-v),x.globalCompositeOperation="destination-atop",x.fillStyle=S,x.fillRect(0,0,s,r),x.globalCompositeOperation="source-over",h=y.canvas,m=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(m,v,s,r),e.clip(y),e.globalCompositeOperation="destination-atop",e.fillStyle=S,e.fillRect(m,v,s,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(l,u,s,r),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(h,m,v,s,r,l,u,s,r),t.restore()}save(){this.inSMaskMode?(ud(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ud(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,s,r,i,o){this.ctx.transform(e,t,s,r,i,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s){const r=this.ctx,i=this.current;let o=i.x,a=i.y,l,u;const d=et(r),f=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,h=f?s.slice(0):null;for(let m=0,v=0,g=e.length;m<g;m++)switch(e[m]|0){case Ss.rectangle:o=t[v++],a=t[v++];const S=t[v++],y=t[v++],x=o+S,w=a+y;r.moveTo(o,a),S===0||y===0?r.lineTo(x,w):(r.lineTo(x,a),r.lineTo(x,w),r.lineTo(o,w)),f||i.updateRectMinMax(d,[o,a,x,w]),r.closePath();break;case Ss.moveTo:o=t[v++],a=t[v++],r.moveTo(o,a),f||i.updatePathMinMax(d,o,a);break;case Ss.lineTo:o=t[v++],a=t[v++],r.lineTo(o,a),f||i.updatePathMinMax(d,o,a);break;case Ss.curveTo:l=o,u=a,o=t[v+4],a=t[v+5],r.bezierCurveTo(t[v],t[v+1],t[v+2],t[v+3],o,a),i.updateCurvePathMinMax(d,l,u,t[v],t[v+1],t[v+2],t[v+3],o,a,h),v+=6;break;case Ss.curveTo2:l=o,u=a,r.bezierCurveTo(o,a,t[v],t[v+1],t[v+2],t[v+3]),i.updateCurvePathMinMax(d,l,u,o,a,t[v],t[v+1],t[v+2],t[v+3],h),o=t[v+2],a=t[v+3],v+=4;break;case Ss.curveTo3:l=o,u=a,o=t[v+2],a=t[v+3],r.bezierCurveTo(t[v],t[v+1],o,a,o,a),i.updateCurvePathMinMax(d,l,u,t[v],t[v+1],o,a,o,a,h),v+=4;break;case Ss.closePath:r.closePath();break}f&&i.updateScalingPathMinMax(d,h),i.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,s=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(t.save(),t.strokeStyle=s.getPattern(t,this,Rr(t),cn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let i=!1;r&&(t.save(),t.fillStyle=s.getPattern(t,this,Rr(t),cn.FILL),i=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=m5}eoClip(){this.pendingClip=hA}beginText(){this.current.textMatrix=QP,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const s of e)t.setTransform(...s.transform),t.translate(s.x,s.y),s.addToPath(t,s.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||O0,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&ge("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=t,s.isType3Font)return;const i=s.loadedName||"sans-serif",o=((d=s.systemFontInfo)==null?void 0:d.css)||`"${i}", ${s.fallbackName}`;let a="normal";s.black?a="900":s.bold&&(a="bold");const l=s.italic?"italic":"normal";let u=t;t<rA?u=rA:t>iA&&(u=iA),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,s,r,i,o){this.current.textMatrix=[e,t,s,r,i,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,s,r){const i=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,d=l&Wt.FILL_STROKE_MASK,f=!!(l&Wt.ADD_TO_PATH_FLAG),h=o.patternFill&&!a.missingFile;let m;(a.disableFontFace||f||h)&&(m=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||h?(i.save(),i.translate(t,s),i.beginPath(),m(i,u),r&&i.setTransform(...r),(d===Wt.FILL||d===Wt.FILL_STROKE)&&i.fill(),(d===Wt.STROKE||d===Wt.FILL_STROKE)&&i.stroke(),i.restore()):((d===Wt.FILL||d===Wt.FILL_STROKE)&&i.fillText(e,t,s),(d===Wt.STROKE||d===Wt.FILL_STROKE)&&i.strokeText(e,t,s)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:et(i),x:t,y:s,fontSize:u,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){s=!0;break}return Ae(this,"isFontSubpixelAAEnabled",s)}showText(e){const t=this.current,s=t.font;if(s.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const i=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,f=e.length,h=s.vertical,m=h?1:-1,v=s.defaultVMetrics,g=r*t.fontMatrix[0],S=t.textRenderingMode===Wt.FILL&&!s.disableFontFace&&!t.patternFill;i.save(),i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),u>0?i.scale(d,-1):i.scale(d,1);let y;if(t.patternFill){i.save();const P=t.fillColor.getPattern(i,this,Rr(i),cn.FILL);y=et(i),i.restore(),i.fillStyle=P}let x=t.lineWidth;const w=t.textMatrixScale;if(w===0||x===0){const P=t.textRenderingMode&Wt.FILL_STROKE_MASK;(P===Wt.STROKE||P===Wt.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=w;if(o!==1&&(i.scale(o,o),x/=o),i.lineWidth=x,s.isInvalidPDFjsFont){const P=[];let k=0;for(const R of e)P.push(R.unicode),k+=R.width;i.fillText(P.join(""),0,0),t.x+=k*g*d,i.restore(),this.compose();return}let E=0,T;for(T=0;T<f;++T){const P=e[T];if(typeof P=="number"){E+=m*P*r/1e3;continue}let k=!1;const R=(P.isSpace?l:0)+a,M=P.fontChar,L=P.accent;let D,O,H=P.width;if(h){const $=P.vmetric||v,j=-(P.vmetric?$[1]:H*.5)*g,F=$[2]*g;H=$?-$[0]:H,D=j/o,O=(E+F)/o}else D=E/o,O=0;if(s.remeasure&&H>0){const $=i.measureText(M).width*1e3/r*o;if(H<$&&this.isFontSubpixelAAEnabled){const j=H/$;k=!0,i.save(),i.scale(j,1),D/=j}else H!==$&&(D+=(H-$)/2e3*r/o)}if(this.contentVisible&&(P.isInFont||s.missingFile)){if(S&&!L)i.fillText(M,D,O);else if(this.paintChar(M,D,O,y),L){const $=D+r*L.offset.x/o,j=O-r*L.offset.y/o;this.paintChar(L.fontChar,$,j,y)}}const I=h?H*g-R*u:H*g+R*u;E+=I,k&&i.restore()}h?t.y-=E:t.x+=E*d,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,s=this.current,r=s.font,i=s.fontSize,o=s.fontDirection,a=r.vertical?1:-1,l=s.charSpacing,u=s.wordSpacing,d=s.textHScale*o,f=s.fontMatrix||O0,h=e.length,m=s.textRenderingMode===Wt.INVISIBLE;let v,g,S,y;if(!(m||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...s.textMatrix),t.translate(s.x,s.y),t.scale(d,o),v=0;v<h;++v){if(g=e[v],typeof g=="number"){y=a*g*i/1e3,this.ctx.translate(y,0),s.x+=y*d;continue}const x=(g.isSpace?u:0)+l,w=r.charProcOperatorList[g.operatorListId];if(!w){ge(`Type3 character "${g.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=g,this.save(),t.scale(i,i),t.transform(...f),this.executeOperatorList(w),this.restore()),S=Z.applyTransform([g.width,0],f)[0]*i+x,t.translate(S,0),s.x+=S*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,s,r,i,o){this.ctx.rect(s,r,i-s,o-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const s=e[1],r=this.baseTransform||et(this.ctx),i={createCanvasGraphics:o=>new Ub(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new hx(e,s,this.ctx,i,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,s){this.ctx.strokeStyle=this.current.strokeColor=Z.makeHexColor(e,t,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,s){this.ctx.fillStyle=this.current.fillColor=Z.makeHexColor(e,t,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=a5(this.getObject(e)),this.cachedPatterns.set(e,s)),t&&(s.matrix=t),s}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const s=this._getPattern(e);t.fillStyle=s.getPattern(t,this,Rr(t),cn.SHADING);const r=Rr(t);if(r){const{width:i,height:o}=t.canvas,[a,l,u,d]=Z.getAxialAlignedBoundingBox([0,0,i,o],r);this.ctx.fillRect(a,l,u-a,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){qe("Should not call beginInlineImage")}beginImageData(){qe("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=et(this.ctx),t)){const s=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],s,r),this.current.updateRectMinMax(et(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||hv("TODO: Support non-isolated groups."),e.knockout&&ge("Knockout groups not supported.");const s=et(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Z.getAxialAlignedBoundingBox(e.bbox,et(t));const i=[0,0,t.canvas.width,t.canvas.height];r=Z.intersect(r,i)||[0,0,0,0];const o=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),u=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(d,l,u),h=f.context;h.translate(-o,-a),h.transform(...s),e.smask?this.smaskStack.push({canvas:f.canvas,context:h,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),ud(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=et(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const i=Z.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,s,r,i){if(C(this,zo,fx).call(this),kp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(i&&this.annotationCanvasMap){s=s.slice(),s[4]-=t[0],s[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,u]=Z.singularValueDecompose2dScale(et(this.ctx)),{viewportScale:d}=this,f=Math.ceil(o*this.outputScaleX*d),h=Math.ceil(a*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,h);const{canvas:m,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),kp(this.ctx)}else kp(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new lA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),C(this,zo,px).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=h5(e)),r.compiled)){r.compiled(s);return}const i=this._createMaskCanvas(e),o=i.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(o,i.offsetX,i.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s=0,r=0,i,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=et(a);a.transform(t,s,r,i,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let d=0,f=o.length;d<f;d+=2){const h=Z.transform(l,[t,s,r,i,o[d],o[d+1]]),[m,v]=Z.applyTransform([0,0],h);a.drawImage(u.canvas,m,v)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const i of e){const{data:o,width:a,height:l,transform:u}=i,d=this.cachedCanvases.getCanvas("maskCanvas",a,l),f=d.context;f.save();const h=this.getObject(o,i);uA(f,h),f.globalCompositeOperation="source-in",f.fillStyle=r?s.getPattern(f,this,Rr(t),cn.FILL):s,f.fillRect(0,0,a,l),f.restore(),t.save(),t.transform(...u),t.scale(1,-1),Pp(t,d.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ge("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,s,r){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){ge("Dependent image isn't ready yet");return}const o=i.width,a=i.height,l=[];for(let u=0,d=r.length;u<d;u+=2)l.push({transform:[t,0,0,s,r[u],r[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(i,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",s,r),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,s=e.height,r=this.ctx;if(this.save(),!en){const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/t,-1/s);let i;if(e.bitmap)i=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)i=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,s).context;cA(l,e),i=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(i,Rr(r));r.imageSmoothingEnabled=dA(et(r),e.interpolate),Pp(r,o.img,0,0,o.paintWidth,o.paintHeight,0,-s,t,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const i=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",i,o).context;cA(l,e),r=this.applyTransferMapsToCanvas(l)}for(const i of t)s.save(),s.transform(...i.transform),s.scale(1,-1),Pp(s,r,i.x,i.y,i.w,i.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(t||(this.pendingClip===hA?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=et(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:r,d:i}=this.ctx.getTransform();let o,a;if(s===0&&r===0){const l=Math.abs(t),u=Math.abs(i);if(l===u)if(e===0)o=a=1/l;else{const d=l*e;o=a=d<1?1/d:1}else if(e===0)o=1/l,a=1/u;else{const d=l*e,f=u*e;o=d<1?1/d:1,a=f<1?1/f:1}}else{const l=Math.abs(t*i-s*r),u=Math.hypot(t,s),d=Math.hypot(r,i);if(e===0)o=d/l,a=u/l;else{const f=e*l;o=d>f?d/f:1,a=u>f?u/f:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:s}=this.current,[r,i]=this.getScaleForStroking();if(t.lineWidth=s||1,r===1&&i===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(r,i),o.length>0){const a=Math.max(r,i);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};zo=new WeakSet,fx=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},px=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let xc=Ub;for(const n in Ss)xc.prototype[n]!==void 0&&(xc.prototype[Ss[n]]=xc.prototype[n]);var Vh,Wh;class ai{static get workerPort(){return c(this,Vh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");A(this,Vh,e)}static get workerSrc(){return c(this,Wh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");A(this,Wh,e)}}Vh=new WeakMap,Wh=new WeakMap,_(ai,Vh,null),_(ai,Wh,"");const Rp={UNKNOWN:0,DATA:1,ERROR:2},ft={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Nn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||qe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Il(n.message);case"MissingPDFException":return new Ll(n.message);case"PasswordException":return new B0(n.message,n.code);case"UnexpectedResponseException":return new fv(n.message,n.status);case"UnknownErrorException":return new H0(n.message,n.details);default:return new H0(n.message,n.toString())}}var Gc,hs,Dk,jk,Fk,rm;class Cd{constructor(e,t,s){_(this,hs);_(this,Gc,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",C(this,hs,Dk).bind(this),{signal:c(this,Gc).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},s)}catch(o){i.reject(o)}return i.promise}sendWithStream(e,t,s,r){const i=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:i,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[i].pullCall=d,l.postMessage({sourceName:o,targetName:a,stream:ft.PULL,streamId:i,desiredSize:u.desiredSize}),d.promise},cancel:u=>{At(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[i].cancelCall=d,this.streamControllers[i].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:ft.CANCEL,streamId:i,reason:Nn(u)}),d.promise}},s)}destroy(){var e;(e=c(this,Gc))==null||e.abort(),A(this,Gc,null)}}Gc=new WeakMap,hs=new WeakSet,Dk=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){C(this,hs,Fk).call(this,e);return}if(e.callback){const s=e.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===Rp.DATA)r.resolve(e.data);else if(e.callback===Rp.ERROR)r.reject(Nn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,r=e.sourceName,i=this.comObj;new Promise(function(o){o(t(e.data))}).then(function(o){i.postMessage({sourceName:s,targetName:r,callback:Rp.DATA,callbackId:e.callbackId,data:o})},function(o){i.postMessage({sourceName:s,targetName:r,callback:Rp.ERROR,callbackId:e.callbackId,reason:Nn(o)})});return}if(e.streamId){C(this,hs,jk).call(this,e);return}t(e.data)},jk=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,i=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,d=1,f){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=d,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:s,targetName:r,stream:ft.ENQUEUE,streamId:t,chunk:u},f)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:r,stream:ft.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){At(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:r,stream:ft.ERROR,streamId:t,reason:Nn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){i.postMessage({sourceName:s,targetName:r,stream:ft.START_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:s,targetName:r,stream:ft.START_COMPLETE,streamId:t,reason:Nn(u)})})},Fk=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,i=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case ft.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Nn(e.reason));break;case ft.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Nn(e.reason));break;case ft.PULL:if(!a){i.postMessage({sourceName:s,targetName:r,stream:ft.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){i.postMessage({sourceName:s,targetName:r,stream:ft.PULL_COMPLETE,streamId:t,success:!0})},function(l){i.postMessage({sourceName:s,targetName:r,stream:ft.PULL_COMPLETE,streamId:t,reason:Nn(l)})});break;case ft.ENQUEUE:if(At(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case ft.CLOSE:if(At(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),C(this,hs,rm).call(this,o,t);break;case ft.ERROR:At(o,"error should have stream controller"),o.controller.error(Nn(e.reason)),C(this,hs,rm).call(this,o,t);break;case ft.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Nn(e.reason)),C(this,hs,rm).call(this,o,t);break;case ft.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,Nn(e.reason)))}).then(function(){i.postMessage({sourceName:s,targetName:r,stream:ft.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){i.postMessage({sourceName:s,targetName:r,stream:ft.CANCEL_COMPLETE,streamId:t,reason:Nn(l)})}),a.sinkCapability.reject(Nn(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},rm=async function(e,t){var s,r,i;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(r=e.pullCall)==null?void 0:r.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var Ma,Gh;class g5{constructor({parsedData:e,rawData:t}){_(this,Ma);_(this,Gh);A(this,Ma,e),A(this,Gh,t)}getRaw(){return c(this,Gh)}get(e){return c(this,Ma).get(e)??null}getAll(){return Pb(c(this,Ma))}has(e){return c(this,Ma).has(e)}}Ma=new WeakMap,Gh=new WeakMap;const ql=Symbol("INTERNAL");var qh,Kh,Yh,qc;class v5{constructor(e,{name:t,intent:s,usage:r,rbGroups:i}){_(this,qh,!1);_(this,Kh,!1);_(this,Yh,!1);_(this,qc,!0);A(this,qh,!!(e&$n.DISPLAY)),A(this,Kh,!!(e&$n.PRINT)),this.name=t,this.intent=s,this.usage=r,this.rbGroups=i}get visible(){if(c(this,Yh))return c(this,qc);if(!c(this,qc))return!1;const{print:e,view:t}=this.usage;return c(this,qh)?(t==null?void 0:t.viewState)!=="OFF":c(this,Kh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,s=!1){e!==ql&&qe("Internal method `_setVisible` called."),A(this,Yh,s),A(this,qc,t)}}qh=new WeakMap,Kh=new WeakMap,Yh=new WeakMap,qc=new WeakMap;var no,Le,Kc,Yc,Xh,mx;class y5{constructor(e,t=$n.DISPLAY){_(this,Xh);_(this,no,null);_(this,Le,new Map);_(this,Kc,null);_(this,Yc,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,A(this,Yc,e.order);for(const s of e.groups)c(this,Le).set(s.id,new v5(t,s));if(e.baseState==="OFF")for(const s of c(this,Le).values())s._setVisible(ql,!1);for(const s of e.on)c(this,Le).get(s)._setVisible(ql,!0);for(const s of e.off)c(this,Le).get(s)._setVisible(ql,!1);A(this,Kc,this.getHash())}}isVisible(e){if(c(this,Le).size===0)return!0;if(!e)return hv("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Le).has(e.id)?c(this,Le).get(e.id).visible:(ge(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return C(this,Xh,mx).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Le).has(t))return ge(`Optional content group not found: ${t}`),!0;if(c(this,Le).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Le).has(t))return ge(`Optional content group not found: ${t}`),!0;if(!c(this,Le).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Le).has(t))return ge(`Optional content group not found: ${t}`),!0;if(!c(this,Le).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Le).has(t))return ge(`Optional content group not found: ${t}`),!0;if(c(this,Le).get(t).visible)return!1}return!0}return ge(`Unknown optional content policy ${e.policy}.`),!0}return ge(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){var i;const r=c(this,Le).get(e);if(!r){ge(`Optional content group not found: ${e}`);return}if(s&&t&&r.rbGroups.length)for(const o of r.rbGroups)for(const a of o)a!==e&&((i=c(this,Le).get(a))==null||i._setVisible(ql,!1,!0));r._setVisible(ql,!!t,!0),A(this,no,null)}setOCGState({state:e,preserveRB:t}){let s;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const i=c(this,Le).get(r);if(i)switch(s){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!i.visible,t);break}}A(this,no,null)}get hasInitialVisibility(){return c(this,Kc)===null||this.getHash()===c(this,Kc)}getOrder(){return c(this,Le).size?c(this,Yc)?c(this,Yc).slice():[...c(this,Le).keys()]:null}getGroups(){return c(this,Le).size>0?Pb(c(this,Le)):null}getGroup(e){return c(this,Le).get(e)||null}getHash(){if(c(this,no)!==null)return c(this,no);const e=new Ek;for(const[t,s]of c(this,Le))e.update(`${t}:${s.visible}`);return A(this,no,e.hexdigest())}}no=new WeakMap,Le=new WeakMap,Kc=new WeakMap,Yc=new WeakMap,Xh=new WeakSet,mx=function(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let r=1;r<t;r++){const i=e[r];let o;if(Array.isArray(i))o=C(this,Xh,mx).call(this,i);else if(c(this,Le).has(i))o=c(this,Le).get(i).visible;else return ge(`Optional content group not found: ${i}`),!0;switch(s){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return s==="And"};class x5{constructor(e,{disableRange:t=!1,disableStream:s=!1}){At(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:i,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(i==null?void 0:i.length)>0){const l=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(s),!0)});At(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,s,r,i;e.total===void 0?(s=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||s.call(t,{loaded:e.loaded}):(i=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){At(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new w5(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new b5(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class w5{constructor(e,t,s=!1,r=null){this._stream=e,this._done=s||!1,this._filename=Nb(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class b5{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function S5(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=l(d),d=u(d),i(d)}if(t=o(n),t){const d=u(t);return i(d)}if(t=s("filename","i").exec(n),t){t=t[1];let d=a(t);return d=u(d),i(d)}function s(d,f){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function r(d,f){if(d){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const h=new TextDecoder(d,{fatal:!0}),m=pv(f);f=h.decode(m),e=!1}catch{}}return f}function i(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function o(d){const f=[];let h;const m=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=m.exec(d))!==null;){let[,g,S,y]=h;if(g=parseInt(g,10),g in f){if(g===0)break;continue}f[g]=[S,y]}const v=[];for(let g=0;g<f.length&&g in f;++g){let[S,y]=f[g];y=a(y),S&&(y=unescape(y),g===0&&(y=l(y))),v.push(y)}return v.join("")}function a(d){if(d.startsWith('"')){const f=d.slice(1).split('\\"');for(let h=0;h<f.length;++h){const m=f[h].indexOf('"');m!==-1&&(f[h]=f[h].slice(0,m),f.length=h+1),f[h]=f[h].replaceAll(/\\(.)/g,"$1")}d=f.join('"')}return d}function l(d){const f=d.indexOf("'");if(f===-1)return d;const h=d.slice(0,f),v=d.slice(f+1).replace(/^[^']*'/,"");return r(h,v)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,h,m,v){if(m==="q"||m==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,S){return String.fromCharCode(parseInt(S,16))}),r(h,v);try{v=atob(v)}catch{}return r(h,v)})}return""}function jb(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const r=e[s];r!==void 0&&t.append(s,r)}return t}function Fb({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(r.suggestedLength=i,i<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Ob(n){const e=n.get("Content-Disposition");if(e){let t=S5(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Nb(t))return t}return null}function vv(n,e){return n===404||n===0&&e.startsWith("file:")?new Ll('Missing PDF "'+e+'".'):new fv(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function Ok(n){return n===200||n===206}function Bk(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Hk(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ge(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class fA{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=jb(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return At(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new A5(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new E5(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class A5{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),r=t.url;fetch(r,Bk(s,this._withCredentials,this._abortController)).then(i=>{if(!Ok(i.status))throw vv(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=i.headers,{allowRangeRequests:a,suggestedLength:l}=Fb({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=Ob(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Il("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Hk(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class E5{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${s-1}`);const o=r.url;fetch(o,Bk(i,this._withCredentials,this._abortController)).then(a=>{if(!Ok(a.status))throw vv(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:Hk(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const yy=200,xy=206;function C5(n){const e=n.response;return typeof e!="string"?e:pv(e).buffer}class _5{constructor({url:e,httpHeaders:t,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=jb(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,s){const r={begin:e,end:t};for(const i in s)r[i]=s[i];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,o]of this.headers)t.setRequestHeader(i,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=xy):r.expectedStatus=yy,t.responseType="arraybuffer",e.onError&&(t.onerror=function(i){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var r;const s=this.pendingRequests[e];s&&((r=s.onProgress)==null||r.call(s,t))}onStateChange(e,t){var l,u,d;const s=this.pendingRequests[e];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(l=s.onError)==null||l.call(s,r.status);return}const i=r.status||yy;if(!(i===yy&&s.expectedStatus===xy)&&i!==s.expectedStatus){(u=s.onError)==null||u.call(s,r.status);return}const a=C5(r);if(i===xy){const f=r.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);s.onDone({begin:parseInt(h[1],10),chunk:a})}else a?s.onDone({begin:0,chunk:a}):(d=s.onError)==null||d.call(s,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class T5{constructor(e){this._source=e,this._manager=new _5(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return At(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new P5(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new k5(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class P5{constructor(e,t){this._manager=e;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),s=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[a,...l]=o.split(": ");return[a,l.join(": ")]})),{allowRangeRequests:r,suggestedLength:i}=Fb({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=Ob(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=vv(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class k5{constructor(e,t,s){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=vv(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const R5=/^[a-z][a-z0-9\-+.]+:/i;function N5(n){if(R5.test(n))return new URL(n);const e=Bo.get("url");return new URL(e.pathToFileURL(n))}function zk(n,e,t){return n.protocol==="http:"?Bo.get("http").request(n,{headers:e},t):Bo.get("https").request(n,{headers:e},t)}class M5{constructor(e){this.source=e,this.url=N5(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=jb(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return At(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new D5(this):new L5(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=this.isFsUrl?new j5(this,e,t):new I5(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class $k{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Il("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Uk{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class L5 extends $k{constructor(e){super(e);const t=Object.fromEntries(e.headers),s=r=>{if(r.statusCode===404){const l=new Ll(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:a}=Fb({responseHeaders:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=Ob(i)};this._request=zk(this._url,t,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class I5 extends Uk{constructor(e,t,s){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${t}-${s-1}`;const i=o=>{if(o.statusCode===404){const a=new Ll(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(o)};this._request=zk(this._url,r,i),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class D5 extends $k{constructor(e){super(e);const t=Bo.get("fs");t.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Ll(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class j5 extends Uk{constructor(e,t,s){super(e);const r=Bo.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:s-1}))}}const F5=1e5,vn=30,O5=.8;var DA,so,wn,Qh,Jh,La,Ur,Zh,ef,Ia,Xc,Qc,ro,Jc,tf,Zc,Da,nf,sf,at,ja,Fa,rf,io,eu,bi,Vk,Wk,vx,Yn,im,yx,Gk,qk;let gx=(at=class{constructor({textContentSource:e,container:t,viewport:s}){_(this,bi);_(this,so,Promise.withResolvers());_(this,wn,null);_(this,Qh,!1);_(this,Jh,!!((DA=globalThis.FontInspector)!=null&&DA.enabled));_(this,La,null);_(this,Ur,null);_(this,Zh,0);_(this,ef,0);_(this,Ia,null);_(this,Xc,null);_(this,Qc,0);_(this,ro,0);_(this,Jc,Object.create(null));_(this,tf,[]);_(this,Zc,null);_(this,Da,[]);_(this,nf,new WeakMap);_(this,sf,null);var l;if(e instanceof ReadableStream)A(this,Zc,e);else if(typeof e=="object")A(this,Zc,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');A(this,wn,A(this,Xc,t)),A(this,ro,s.scale*(globalThis.devicePixelRatio||1)),A(this,Qc,s.rotation),A(this,Ur,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:i,pageX:o,pageY:a}=s.rawDims;A(this,sf,[1,0,0,-1,-o,a+i]),A(this,ef,r),A(this,Zh,i),C(l=at,Yn,Gk).call(l),yl(t,s),c(this,so).promise.finally(()=>{c(at,eu).delete(this),A(this,Ur,null),A(this,Jc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=dn.platform;return Ae(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{c(this,Ia).read().then(({value:t,done:s})=>{if(s){c(this,so).resolve();return}c(this,La)??A(this,La,t.lang),Object.assign(c(this,Jc),t.styles),C(this,bi,Vk).call(this,t.items),e()},c(this,so).reject)};return A(this,Ia,c(this,Zc).getReader()),c(at,eu).add(this),e(),c(this,so).promise}update({viewport:e,onBefore:t=null}){var i;const s=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==c(this,Qc)&&(t==null||t(),A(this,Qc,r),yl(c(this,Xc),{rotation:r})),s!==c(this,ro)){t==null||t(),A(this,ro,s);const o={div:null,properties:null,ctx:C(i=at,Yn,im).call(i,c(this,La))};for(const a of c(this,Da))o.properties=c(this,nf).get(a),o.div=a,C(this,bi,vx).call(this,o)}}cancel(){var t;const e=new Il("TextLayer task cancelled.");(t=c(this,Ia))==null||t.cancel(e).catch(()=>{}),A(this,Ia,null),c(this,so).reject(e)}get textDivs(){return c(this,Da)}get textContentItemsStr(){return c(this,tf)}static cleanup(){if(!(c(this,eu).size>0)){c(this,ja).clear();for(const{canvas:e}of c(this,Fa).values())e.remove();c(this,Fa).clear()}}},so=new WeakMap,wn=new WeakMap,Qh=new WeakMap,Jh=new WeakMap,La=new WeakMap,Ur=new WeakMap,Zh=new WeakMap,ef=new WeakMap,Ia=new WeakMap,Xc=new WeakMap,Qc=new WeakMap,ro=new WeakMap,Jc=new WeakMap,tf=new WeakMap,Zc=new WeakMap,Da=new WeakMap,nf=new WeakMap,sf=new WeakMap,ja=new WeakMap,Fa=new WeakMap,rf=new WeakMap,io=new WeakMap,eu=new WeakMap,bi=new WeakSet,Vk=function(e){var r,i;if(c(this,Qh))return;(i=c(this,Ur)).ctx??(i.ctx=C(r=at,Yn,im).call(r,c(this,La)));const t=c(this,Da),s=c(this,tf);for(const o of e){if(t.length>F5){ge("Ignoring additional textDivs for performance reasons."),A(this,Qh,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=c(this,wn);A(this,wn,document.createElement("span")),c(this,wn).classList.add("markedContent"),o.id!==null&&c(this,wn).setAttribute("id",`${o.id}`),a.append(c(this,wn))}else o.type==="endMarkedContent"&&A(this,wn,c(this,wn).parentNode);continue}s.push(o.str),C(this,bi,Wk).call(this,o)}},Wk=function(e){var g;const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,Da).push(t);const r=Z.transform(c(this,sf),e.transform);let i=Math.atan2(r[1],r[0]);const o=c(this,Jc)[e.fontName];o.vertical&&(i+=Math.PI/2);let a=c(this,Jh)&&o.fontSubstitution||o.fontFamily;a=at.fontFamilyMap.get(a)||a;const l=Math.hypot(r[2],r[3]),u=l*C(g=at,Yn,qk).call(g,a,c(this,La));let d,f;i===0?(d=r[4],f=r[5]-u):(d=r[4]+u*Math.sin(i),f=r[5]-u*Math.cos(i));const h="calc(var(--scale-factor)*",m=t.style;c(this,wn)===c(this,Xc)?(m.left=`${(100*d/c(this,ef)).toFixed(2)}%`,m.top=`${(100*f/c(this,Zh)).toFixed(2)}%`):(m.left=`${h}${d.toFixed(2)}px)`,m.top=`${h}${f.toFixed(2)}px)`),m.fontSize=`${h}${(c(at,io)*l).toFixed(2)}px)`,m.fontFamily=a,s.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,Jh)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),i!==0&&(s.angle=i*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);S!==y&&Math.max(S,y)/Math.min(S,y)>1.5&&(v=!0)}if(v&&(s.canvasWidth=o.vertical?e.height:e.width),c(this,nf).set(t,s),c(this,Ur).div=t,c(this,Ur).properties=s,C(this,bi,vx).call(this,c(this,Ur)),s.hasText&&c(this,wn).append(t),s.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),c(this,wn).append(S)}},vx=function(e){var a;const{div:t,properties:s,ctx:r}=e,{style:i}=t;let o="";if(c(at,io)>1&&(o=`scale(${1/c(at,io)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:l}=i,{canvasWidth:u,fontSize:d}=s;C(a=at,Yn,yx).call(a,r,d*c(this,ro),l);const{width:f}=r.measureText(t.textContent);f>0&&(o=`scaleX(${u*c(this,ro)/f}) ${o}`)}s.angle!==0&&(o=`rotate(${s.angle}deg) ${o}`),o.length>0&&(i.transform=o)},Yn=new WeakSet,im=function(e=null){let t=c(this,Fa).get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,Fa).set(e,t),c(this,rf).set(t,{size:0,family:""})}return t},yx=function(e,t,s){const r=c(this,rf).get(e);t===r.size&&s===r.family||(e.font=`${t}px ${s}`,r.size=t,r.family=s)},Gk=function(){if(c(this,io)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),A(this,io,e.getBoundingClientRect().height),e.remove()},qk=function(e,t){const s=c(this,ja).get(e);if(s)return s;const r=C(this,Yn,im).call(this,t);r.canvas.width=r.canvas.height=vn,C(this,Yn,yx).call(this,r,vn,e);const i=r.measureText("");let o=i.fontBoundingBoxAscent,a=Math.abs(i.fontBoundingBoxDescent);if(o){const d=o/(o+a);return c(this,ja).set(e,d),r.canvas.width=r.canvas.height=0,d}r.strokeStyle="red",r.clearRect(0,0,vn,vn),r.strokeText("g",0,0);let l=r.getImageData(0,0,vn,vn).data;a=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){a=Math.ceil(d/4/vn);break}r.clearRect(0,0,vn,vn),r.strokeText("A",0,vn),l=r.getImageData(0,0,vn,vn).data,o=0;for(let d=0,f=l.length;d<f;d+=4)if(l[d]>0){o=vn-Math.floor(d/4/vn);break}r.canvas.width=r.canvas.height=0;const u=o?o/(o+a):O5;return c(this,ja).set(e,u),u},_(at,Yn),_(at,ja,new Map),_(at,Fa,new Map),_(at,rf,new WeakMap),_(at,io,null),_(at,eu,new Set),at);class wh{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function r(i){var l;if(!i)return;let o=null;const a=i.name;if(a==="#text")o=i.value;else if(wh.shouldBuildText(a))(l=i==null?void 0:i.attributes)!=null&&l.textContent?o=i.attributes.textContent:i.value&&(o=i.value);else return;if(o!==null&&t.push({str:o}),!!i.children)for(const u of i.children)r(u)}return r(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const B5=65536,H5=100,z5=5e3,$5=en?e5:Q4,U5=en?t5:kk,V5=en?Z4:J4,W5=en?n5:Lk;function G5(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new xx,{docId:t}=e,s=n.url?q5(n.url):null,r=n.data?K5(n.data):null,i=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof Kk?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:B5;let d=n.worker instanceof wc?n.worker:null;const f=n.verbosity,h=typeof n.docBaseUrl=="string"&&!gv(n.docBaseUrl)?n.docBaseUrl:null,m=typeof n.cMapUrl=="string"?n.cMapUrl:null,v=n.cMapPacked!==!1,g=n.CMapReaderFactory||U5,S=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,y=n.StandardFontDataFactory||W5,x=n.stopAtErrors!==!0,w=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,E=n.isEvalSupported!==!1,T=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!en,P=typeof n.isChrome=="boolean"?n.isChrome:!dn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),k=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,R=typeof n.disableFontFace=="boolean"?n.disableFontFace:en,M=n.fontExtraProperties===!0,L=n.enableXfa===!0,D=n.ownerDocument||globalThis.document,O=n.disableRange===!0,H=n.disableStream===!0,I=n.disableAutoFetch===!0,$=n.pdfBug===!0,j=n.CanvasFactory||$5,F=n.FilterFactory||V5,N=n.enableHWA===!0,B=l?l.length:n.length??NaN,q=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!en&&!R,U=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:g===kk&&y===Lk&&m&&S&&yd(m,document.baseURI)&&yd(S,document.baseURI);n.canvasFactory&&tA("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&tA("`filterFactory`-instance option, please use `FilterFactory` instead.");const K=null;P4(f);const J={canvasFactory:new j({ownerDocument:D,enableHWA:N}),filterFactory:new F({docId:t,ownerDocument:D}),cMapReaderFactory:U?null:new g({baseUrl:m,isCompressed:v}),standardFontDataFactory:U?null:new y({baseUrl:S})};if(!d){const ee={verbosity:f,port:ai.workerPort};d=ee.port?wc.fromPort(ee):new wc(ee),e._worker=d}const se={docId:t,apiVersion:"4.8.69",data:r,password:a,disableAutoFetch:I,rangeChunkSize:u,length:B,docBaseUrl:h,enableXfa:L,evaluatorOptions:{maxImageSize:w,disableFontFace:R,ignoreErrors:x,isEvalSupported:E,isOffscreenCanvasSupported:T,isChrome:P,canvasMaxAreaInBytes:k,fontExtraProperties:M,useSystemFonts:q,cMapUrl:U?m:null,standardFontDataUrl:U?S:null}},Re={disableFontFace:R,fontExtraProperties:M,ownerDocument:D,pdfBug:$,styleElement:K,loadingParams:{disableAutoFetch:I,enableXfa:L}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ee=d.messageHandler.sendWithPromise("GetDocRequest",se,r?[r.buffer]:null);let V;if(l)V=new x5(l,{disableRange:O,disableStream:H});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let ce;en?ce=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&yd(s)?fA:M5:ce=yd(s)?fA:T5,V=new ce({url:s,length:B,httpHeaders:i,withCredentials:o,rangeChunkSize:u,disableRange:O,disableStream:H})}return ee.then(ce=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Ee=new Cd(t,ce,d.port),te=new J5(Ee,e,V,Re,J);e._transport=te,Ee.send("Ready",null)})}).catch(e._capability.reject),e}function q5(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(en&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function K5(n){if(en&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return pv(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function pA(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var xg;const wg=class wg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${_t(wg,xg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};xg=new WeakMap,_(wg,xg,0);let xx=wg,Kk=class{constructor(e,t,s=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const s of this._rangeListeners)s(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){qe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Y5{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ae(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var oo,Vr,ls,Kl,om;class X5{constructor(e,t,s,r=!1){_(this,ls);_(this,oo,null);_(this,Vr,!1);this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=r?new eA:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new Yk,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:i=!1}={}){return new Yf({viewBox:this.view,scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ae(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:s="display",annotationMode:r=Bi.ENABLE,transform:i=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:f=!1}){var E,T;(E=this._stats)==null||E.time("Overall");const h=this._transport.getRenderingIntent(s,r,d,f),{renderingIntent:m,cacheKey:v}=h;A(this,Vr,!1),C(this,ls,om).call(this),a||(a=this._transport.getOptionalContentConfig(m));let g=this._intentStates.get(v);g||(g=Object.create(null),this._intentStates.set(v,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const S=!!(m&$n.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(T=this._stats)==null||T.time("Page Request"),this._pumpOperatorList(h));const y=P=>{var k;g.renderTasks.delete(x),(this._maybeCleanupAfterRender||S)&&A(this,Vr,!0),C(this,ls,Kl).call(this,!S),P?(x.capability.reject(P),this._abortOperatorList({intentState:g,reason:P instanceof Error?P:new Error(P)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new bx({callback:y,params:{canvasContext:e,viewport:t,transform:i,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:u});(g.renderTasks||(g.renderTasks=new Set)).add(x);const w=x.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([P,k])=>{var R;if(this.destroyed){y();return}if((R=this._stats)==null||R.time("Rendering"),!(k.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:P,optionalContentConfig:k}),x.operatorListChanged()}).catch(y),w}getOperatorList({intent:e="display",annotationMode:t=Bi.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var u;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,s,r,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>wh.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,r){function i(){o.read().then(function({value:l,done:u}){if(u){s(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),i()},r)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),A(this,Vr,!1),C(this,ls,om).call(this),Promise.all(e)}cleanup(e=!1){A(this,Vr,!0);const t=C(this,ls,Kl).call(this,!1);return e&&t&&this._stats&&(this._stats=new eA),t}_startRenderPage(e,t){var r,i;const s=this._intentStates.get(t);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(i=s.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let s=0,r=e.length;s<r;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&C(this,ls,Kl).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:r}){const{map:i,transfer:o}=s,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:r},o).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:f,done:h})=>{if(h){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,u),d())},f=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const h of u.renderTasks)h.operatorListChanged();C(this,ls,Kl).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(f);else if(u.opListReadCapability)u.opListReadCapability.reject(f);else throw f}})};d()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof Rb){let r=H5;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Il(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,i]of this._intentStates)if(i===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}oo=new WeakMap,Vr=new WeakMap,ls=new WeakSet,Kl=function(e=!1){if(C(this,ls,om).call(this),!c(this,Vr)||this.destroyed)return!1;if(e)return A(this,oo,setTimeout(()=>{A(this,oo,null),C(this,ls,Kl).call(this,!1)},z5)),!1;for(const{renderTasks:t,operatorList:s}of this._intentStates.values())if(t.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),A(this,Vr,!1),!0},om=function(){c(this,oo)&&(clearTimeout(c(this,oo)),A(this,oo,null))};var Wr,bg;class Q5{constructor(){_(this,Wr,new Map);_(this,bg,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};c(this,bg).then(()=>{for(const[r]of c(this,Wr))r.call(this,s)})}addEventListener(e,t,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:i}=s;if(i.aborted){ge("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>i.removeEventListener("abort",o),i.addEventListener("abort",o)}c(this,Wr).set(t,r)}removeEventListener(e,t){const s=c(this,Wr).get(t);s==null||s(),c(this,Wr).delete(t)}terminate(){for(const[,e]of c(this,Wr))e==null||e();c(this,Wr).clear()}}Wr=new WeakMap,bg=new WeakMap;var Sg,Oa,Ba,tu,am,nu,lm;const Ye=class Ye{constructor({name:e=null,port:t=null,verbosity:s=k4()}={}){_(this,tu);var r;if(this.name=e,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=c(Ye,Ba))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(Ye,Ba)||A(Ye,Ba,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return en?Promise.all([Bo.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Cd("main","worker",e),this._messageHandler.on("ready",function(){}),C(this,tu,am).call(this)}_initialize(){if(c(Ye,Oa)||c(Ye,nu,lm)){this._setupFakeWorker();return}let{workerSrc:e}=Ye;try{Ye._isSameOrigin(window.location.href,e)||(e=Ye._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new Cd("main","worker",t),r=()=>{i.abort(),s.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:i.signal}),s.on("test",a=>{if(i.abort(),this.destroyed||!a){r();return}this._messageHandler=s,this._port=t,this._webWorker=t,C(this,tu,am).call(this)}),s.on("ready",a=>{if(i.abort(),this.destroyed){r();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;s.send("test",a,[a.buffer])};o();return}catch{hv("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){c(Ye,Oa)||(ge("Setting up fake worker."),A(Ye,Oa,!0)),Ye._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new Q5;this._port=t;const s=`fake${_t(Ye,Sg)._++}`,r=new Cd(s+"_worker",s,t);e.setup(r,t),this._messageHandler=new Cd(s,s+"_worker",t),C(this,tu,am).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(Ye,Ba))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var s;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(s=c(this,Ba))==null?void 0:s.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Ye(e)}static get workerSrc(){if(ai.workerSrc)return ai.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ae(this,"_setupFakeWorkerGlobal",(async()=>c(this,nu,lm)?c(this,nu,lm):(await import(this.workerSrc)).WorkerMessageHandler)())}};Sg=new WeakMap,Oa=new WeakMap,Ba=new WeakMap,tu=new WeakSet,am=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},nu=new WeakSet,lm=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},_(Ye,nu),_(Ye,Sg,0),_(Ye,Oa,!1),_(Ye,Ba),en&&(A(Ye,Oa,!0),ai.workerSrc||(ai.workerSrc="./pdf.worker.mjs")),Ye._isSameOrigin=(e,t)=>{let s;try{if(s=new URL(e),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(t,s);return s.origin===r.origin},Ye._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let wc=Ye;var Gr,dr,su,ru,hr,Ha,_d;class J5{constructor(e,t,s,r,i){_(this,Ha);_(this,Gr,new Map);_(this,dr,new Map);_(this,su,new Map);_(this,ru,new Map);_(this,hr,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Yk,this.fontLoader=new Y4({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ae(this,"annotationStorage",new Ib)}getRenderingIntent(e,t=Bi.ENABLE,s=null,r=!1,i=!1){let o=$n.DISPLAY,a=ax;switch(e){case"any":o=$n.ANY;break;case"display":break;case"print":o=$n.PRINT;break;default:ge(`getRenderingIntent - invalid intent: ${e}`)}const l=o&$n.PRINT&&s instanceof _k?s:this.annotationStorage;switch(t){case Bi.DISABLE:o+=$n.ANNOTATIONS_DISABLE;break;case Bi.ENABLE:break;case Bi.ENABLE_FORMS:o+=$n.ANNOTATIONS_FORMS;break;case Bi.ENABLE_STORAGE:o+=$n.ANNOTATIONS_STORAGE,a=l.serializable;break;default:ge(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=$n.IS_EDITING),i&&(o+=$n.OPLIST);const{ids:u,hash:d}=l.modifiedIds,f=[o,a.hash,d];return{renderingIntent:o,cacheKey:f.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=c(this,hr))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of c(this,dr).values())e.push(r._destroy());c(this,dr).clear(),c(this,su).clear(),c(this,ru).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),c(this,Gr).clear(),this.filterFactory.destroy(),gx.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Il("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,r)=>{At(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},r.onPull=()=>{this._fullReader.read().then(function({value:i,done:o}){if(o){r.close();return}At(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{r.error(i)})},r.onCancel=i=>{this._fullReader.cancel(i),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async s=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:i,contentLength:o}=this._fullReader;return(!r||!i)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:i,contentLength:o}}),e.on("GetRangeReader",(s,r)=>{At(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(s.begin,s.end);if(!i){r.close();return}r.onPull=()=>{i.read().then(function({value:o,done:a}){if(a){r.close();return}At(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{i.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new Y5(s,this))}),e.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new B0(s.message,s.code);break;case"InvalidPDFException":r=new JP(s.message);break;case"MissingPDFException":r=new Ll(s.message);break;case"UnexpectedResponseException":r=new fv(s.message,s.status);break;case"UnknownErrorException":r=new H0(s.message,s.details);break;default:qe("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",s=>{if(A(this,hr,Promise.withResolvers()),t.onPassword){const r=i=>{i instanceof Error?c(this,hr).reject(i):c(this,hr).resolve({password:i})};try{t.onPassword(r,s.code)}catch(i){c(this,hr).reject(i)}}else c(this,hr).reject(new B0(s.message,s.code));return c(this,hr).promise}),e.on("DataLoaded",s=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;c(this,dr).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,r,i])=>{var o;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in i){const m=i.error;ge(`Error during font loading: ${m}`),this.commonObjs.resolve(s,m);break}const d=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,v)=>globalThis.FontInspector.fontAdded(m,v):null,f=new X4(i,{disableFontFace:a,inspectFont:d});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!l&&f.data&&(f.data=null),this.commonObjs.resolve(s,f)});break;case"CopyLocalImage":const{imageRef:h}=i;At(h,"The imageRef must be defined.");for(const m of c(this,dr).values())for(const[,v]of m.objs)if((v==null?void 0:v.ref)===h)return v.dataLen?(this.commonObjs.resolve(s,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,i);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([s,r,i,o])=>{var l;if(this.destroyed)return;const a=c(this,dr).get(r);if(!a.objs.has(s)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(i){case"Image":a.objs.resolve(s,o),(o==null?void 0:o.dataLen)>E4&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(s,o);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",s=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:s.loaded,total:s.total})}),e.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),e.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&ge("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=c(this,su).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&c(this,ru).set(i.refStr,e);const o=new X5(t,i,this,this._params.pdfBug);return c(this,dr).set(t,o),o});return c(this,su).set(t,r),r}getPageIndex(e){return pA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return C(this,Ha,_d).call(this,"GetFieldObjects")}hasJSActions(){return C(this,Ha,_d).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return C(this,Ha,_d).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return C(this,Ha,_d).call(this,"GetOptionalContentConfig").then(t=>new y5(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,Gr).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(r=>{var i,o;return{info:r[0],metadata:r[1]?new g5(r[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return c(this,Gr).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,dr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,Gr).clear(),this.filterFactory.destroy(!0),gx.cleanup()}}cachedPageNumber(e){if(!pA(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,ru).get(t)??null}}Gr=new WeakMap,dr=new WeakMap,su=new WeakMap,ru=new WeakMap,hr=new WeakMap,Ha=new WeakSet,_d=function(e,t=null){const s=c(this,Gr).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise(e,t);return c(this,Gr).set(e,r),r};const Np=Symbol("INITIAL_DATA");var ks,of,wx;class Yk{constructor(){_(this,of);_(this,ks,Object.create(null))}get(e,t=null){if(t){const r=C(this,of,wx).call(this,e);return r.promise.then(()=>t(r.data)),null}const s=c(this,ks)[e];if(!s||s.data===Np)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=c(this,ks)[e];return!!t&&t.data!==Np}resolve(e,t=null){const s=C(this,of,wx).call(this,e);s.data=t,s.resolve()}clear(){var e;for(const t in c(this,ks)){const{data:s}=c(this,ks)[t];(e=s==null?void 0:s.bitmap)==null||e.close()}A(this,ks,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,ks)){const{data:t}=c(this,ks)[e];t!==Np&&(yield[e,t])}}}ks=new WeakMap,of=new WeakSet,wx=function(e){var t;return(t=c(this,ks))[e]||(t[e]={...Promise.withResolvers(),data:Np})};var ao;class Z5{constructor(e){_(this,ao,null);A(this,ao,e),this.onContinue=null}get promise(){return c(this,ao).capability.promise}cancel(e=0){c(this,ao).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,ao).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,ao);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}ao=new WeakMap;var lo,za;const ra=class ra{constructor({callback:e,params:t,objs:s,commonObjs:r,annotationCanvasMap:i,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:f=!1,pageColors:h=null}){_(this,lo,null);this.callback=e,this.params=t,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=f,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Z5(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(c(ra,za).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(ra,za).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:i,background:o}=this.params;this.gfx=new xc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),c(this,lo)&&(window.cancelAnimationFrame(c(this,lo)),A(this,lo,null)),c(ra,za).delete(this._canvas),this.callback(e||new Rb(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?A(this,lo,window.requestAnimationFrame(()=>{A(this,lo,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(ra,za).delete(this._canvas),this.callback())))}};lo=new WeakMap,za=new WeakMap,_(ra,za,new WeakSet);let bx=ra;const eB="4.8.69",tB="3634dab10";function mA(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function dd(n){return Math.max(0,Math.min(255,255*n))}class gA{static CMYK_G([e,t,s,r]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=dd(e),[e,e,e]}static G_HTML([e]){const t=mA(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(dd)}static RGB_HTML(e){return`#${e.map(mA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,s+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,s,r]){return[dd(1-Math.min(1,e+r)),dd(1-Math.min(1,s+r)),dd(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const r=1-e,i=1-t,o=1-s,a=Math.min(r,i,o);return["CMYK",r,i,o,a]}}class nB{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){qe("Abstract method `_createSVG` called.")}}class Bb extends nB{_createSVG(e){return document.createElementNS(Mr,e)}}class Xk{static setupStorage(e,t,s,r,i){const o=r.getValue(t,{value:null});switch(s.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),i==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(o.value===s.attributes.xfaOn?e.setAttribute("checked",!0):o.value===s.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),i==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of s.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:r,linkService:i}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&i.addLinkAttributes(e,o.href,o.newWindow),s&&o.dataId&&this.setupStorage(e,o.dataId,t,s)}static render(e){var f,h;const t=e.annotationStorage,s=e.linkService,r=e.xfaHtml,i=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:i,linkService:s});const a=i!=="richText",l=e.div;if(l.append(o),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=m}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);o.append(m),a&&wh.shouldBuildText(r.name)&&u.push(m)}return{textDivs:u}}const d=[[r,-1,o]];for(;d.length>0;){const[m,v,g]=d.at(-1);if(v+1===m.children.length){d.pop();continue}const S=m.children[++d.at(-1)[1]];if(S===null)continue;const{name:y}=S;if(y==="#text"){const w=document.createTextNode(S.value);u.push(w),g.append(w);continue}const x=(f=S==null?void 0:S.attributes)!=null&&f.xmlns?document.createElementNS(S.attributes.xmlns,y):document.createElement(y);if(g.append(x),S.attributes&&this.setAttributes({html:x,element:S,storage:t,intent:i,linkService:s}),((h=S.children)==null?void 0:h.length)>0)d.push([S,-1,x]);else if(S.value){const w=document.createTextNode(S.value);a&&wh.shouldBuildText(y)&&u.push(w),x.append(w)}}for(const m of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Qf=1e3,sB=9,wl=new WeakSet;function hi(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class rB{static create(e){switch(e.data.annotationType){case yt.LINK:return new Qk(e);case yt.TEXT:return new iB(e);case yt.WIDGET:switch(e.data.fieldType){case"Tx":return new oB(e);case"Btn":return e.data.radioButton?new eR(e):e.data.checkBox?new lB(e):new cB(e);case"Ch":return new uB(e);case"Sig":return new aB(e)}return new Dl(e);case yt.POPUP:return new Ax(e);case yt.FREETEXT:return new iR(e);case yt.LINE:return new hB(e);case yt.SQUARE:return new fB(e);case yt.CIRCLE:return new pB(e);case yt.POLYLINE:return new oR(e);case yt.CARET:return new gB(e);case yt.INK:return new Hb(e);case yt.POLYGON:return new mB(e);case yt.HIGHLIGHT:return new aR(e);case yt.UNDERLINE:return new vB(e);case yt.SQUIGGLY:return new yB(e);case yt.STRIKEOUT:return new xB(e);case yt.STAMP:return new lR(e);case yt.FILEATTACHMENT:return new wB(e);default:return new ht(e)}}}var $a,iu,ou,af,Sx;const Vb=class Vb{constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){_(this,af);_(this,$a,null);_(this,iu,!1);_(this,ou,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:s}){return!!(e!=null&&e.str||t!=null&&t.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Vb._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;c(this,$a)||A(this,$a,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&C(this,af,Sx).call(this,t),(s=c(this,ou))==null||s.popup.updateEdited(e)}resetEdited(){var e;c(this,$a)&&(C(this,af,Sx).call(this,c(this,$a).rect),(e=c(this,ou))==null||e.popup.resetEdited(),A(this,$a,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof Dl||(i.tabIndex=Qf);const{style:o}=i;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof Ax){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,i),i}const{width:a,height:l}=hi(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(g>0||S>0){const x=`calc(${g}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;o.borderRadius=x}else if(this instanceof eR){const x=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=x}switch(t.borderStyle.style){case cd.SOLID:o.borderStyle="solid";break;case cd.DASHED:o.borderStyle="dashed";break;case cd.BEVELED:ge("Unimplemented border style: beveled");break;case cd.INSET:ge("Unimplemented border style: inset");break;case cd.UNDERLINE:o.borderBottomStyle="solid";break}const y=t.borderColor||null;y?(A(this,iu,!0),o.borderColor=Z.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):o.borderWidth=0}const u=Z.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:d,pageHeight:f,pageX:h,pageY:m}=r.rawDims;o.left=`${100*(u[0]-h)/d}%`,o.top=`${100*(u[1]-m)/f}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(o.width=`${100*a/d}%`,o.height=`${100*l/f}%`):this.setRotation(v,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:i,height:o}=hi(this.data.rect);let a,l;e%180===0?(a=100*i/s,l=100*o/r):(a=100*o/s,l=100*i/r),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,r)=>{const i=r.detail[t],o=i[0],a=i.slice(1);r.target.style[s]=gA[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[s]:gA[`${o}_rgb`](a)})};return Ae(this,"_commonActions",{display:t=>{const{display:s}=t.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||s[r];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[r,i]of Object.entries(t)){const o=s[r];if(o){const a={detail:{[r]:i},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,r,i]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,S,y,x]=e.subarray(2,6);if(r===g&&i===S&&t===y&&s===x)return}const{style:o}=this.container;let a;if(c(this,iu)){const{borderColor:g,borderWidth:S}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const l=r-t,u=i-s,{svgFactory:d}=this,f=d.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const h=d.createElement("defs");f.append(h);const m=d.createElement("clipPath"),v=`clippath_${this.data.id}`;m.setAttribute("id",v),m.setAttribute("clipPathUnits","objectBoundingBox"),h.append(m);for(let g=2,S=e.length;g<S;g+=8){const y=e[g],x=e[g+1],w=e[g+2],E=e[g+3],T=d.createElement("rect"),P=(w-t)/l,k=(i-x)/u,R=(y-w)/l,M=(x-E)/u;T.setAttribute("x",P),T.setAttribute("y",k),T.setAttribute("width",R),T.setAttribute("height",M),m.append(T),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${k}" width="${R}" height="${M}"/>`)}c(this,iu)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(f),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{data:e}=this,t=A(this,ou,new Ax({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){qe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:i,id:o,exportValues:a}of r){if(i===-1||o===t)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!wl.has(u)){ge(`_getElementsByName - element not allowed: ${o}`);continue}s.push({id:o,exportValue:l,domElement:u})}return s}for(const r of document.getElementsByName(e)){const{exportValue:i}=r,o=r.getAttribute("data-element-id");o!==t&&wl.has(r)&&s.push({id:o,exportValue:i,domElement:r})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};$a=new WeakMap,iu=new WeakMap,ou=new WeakMap,af=new WeakSet,Sx=function(e){const{container:{style:t},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:a,pageY:l}}}}=this;s==null||s.splice(0,4,...e);const{width:u,height:d}=hi(e);t.left=`${100*(e[0]-a)/i}%`,t.top=`${100*(o-e[3]+l)/o}%`,r===0?(t.width=`${100*u/i}%`,t.height=`${100*d/o}%`):this.setRotation(r)};let ht=Vb;var Wn,Zo,Jk,Zk;class Qk extends ht{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});_(this,Wn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let i=!1;return t.url?(s.addLinkAttributes(r,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(r,t.action),i=!0):t.attachment?(C(this,Wn,Jk).call(this,r,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(C(this,Wn,Zk).call(this,r,t.setOCGState),i=!0):t.dest?(this._bindLink(r,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),i=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}_bindLink(t,s){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&C(this,Wn,Zo).call(this)}_bindNamedAction(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),C(this,Wn,Zo).call(this)}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(s.actions)){const o=r.get(i);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),C(this,Wn,Zo).call(this)}_bindResetFormAction(t,s){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),C(this,Wn,Zo).call(this),!this._fieldObjects){ge('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var f;r==null||r();const{fields:i,refs:o,include:a}=s,l=[];if(i.length!==0||o.length!==0){const h=new Set(o);for(const m of i){const v=this._fieldObjects[m]||[];for(const{id:g}of v)h.add(g)}for(const m of Object.values(this._fieldObjects))for(const v of m)h.has(v.id)===a&&l.push(v)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const u=this.annotationStorage,d=[];for(const h of l){const{id:m}=h;switch(d.push(m),h.type){case"text":{const g=h.defaultValue||"";u.setValue(m,{value:g});break}case"checkbox":case"radiobutton":{const g=h.defaultValue===h.exportValues;u.setValue(m,{value:g});break}case"combobox":case"listbox":{const g=h.defaultValue||"";u.setValue(m,{value:g});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!wl.has(v)){ge(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Wn=new WeakSet,Zo=function(){this.container.setAttribute("data-internal-link","")},Jk=function(t,s,r=null){t.href=this.linkService.getAnchorUrl(""),s.description&&(t.title=s.description),t.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(s.content,s.filename,r),!1},C(this,Wn,Zo).call(this)},Zk=function(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),C(this,Wn,Zo).call(this)};class iB extends ht{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Dl extends ht{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return dn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,r,i){s.includes("mouse")?e.addEventListener(s,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(s,o=>{var a;if(s==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}i&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(o)}}))})}_setEventListeners(e,t,s,r){var i,o,a;for(const[l,u]of s)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,r),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Z.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||sB,i=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(u/(py*r))||1,f=u/d;o=Math.min(r,l(f/py))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,l(u/py))}i.fontSize=`calc(${o}px * var(--scale-factor))`,i.color=Z.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class oB extends Dl{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,r){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=s),i.setValue(o.id,{[r]:s})}render(){var r,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=u??a,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",u??a),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),wl.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Qf,this._setRequired(s,this.data.required),l&&(s.maxLength=l),s.addEventListener("input",h=>{e.setValue(t,{value:h.target.value}),this.setPropertyOnSiblings(s,"value",h.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",h=>{const m=this.data.defaultFieldValue??"";s.value=d.userValue=m,d.formattedValue=null});let f=h=>{const{formattedValue:m}=d;m!=null&&(h.target.value=m),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",m=>{var g;if(d.focused)return;const{target:v}=m;d.userValue&&(v.value=d.userValue),d.lastCommittedValue=v.value,d.commitKey=1,(g=this.data.actions)!=null&&g.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const v={value(g){d.userValue=g.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),g.target.value=d.userValue},formattedValue(g){const{formattedValue:S}=g.detail;d.formattedValue=S,S!=null&&g.target!==document.activeElement&&(g.target.value=S),e.setValue(t,{formattedValue:S})},selRange(g){g.target.setSelectionRange(...g.detail.selRange)},charLimit:g=>{var w;const{charLimit:S}=g.detail,{target:y}=g;if(S===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",S);let x=d.userValue;!x||x.length<=S||(x=x.slice(0,S),y.value=d.userValue=x,e.setValue(t,{value:x}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(v,m)}),s.addEventListener("keydown",m=>{var S;d.commitKey=1;let v=-1;if(m.key==="Escape"?v=0:m.key==="Enter"&&!this.data.multiLine?v=2:m.key==="Tab"&&(d.commitKey=3),v===-1)return;const{value:g}=m.target;d.lastCommittedValue!==g&&(d.lastCommittedValue=g,d.userValue=g,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:v,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const h=f;f=null,s.addEventListener("blur",m=>{var g,S;if(!d.focused||!m.relatedTarget)return;(g=this.data.actions)!=null&&g.Blur||(d.focused=!1);const{value:v}=m.target;d.userValue=v,d.lastCommittedValue!==v&&((S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:d.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),h(m)}),(i=this.data.actions)!=null&&i.Keystroke&&s.addEventListener("beforeinput",m=>{var T;d.lastCommittedValue=null;const{data:v,target:g}=m,{value:S,selectionStart:y,selectionEnd:x}=g;let w=y,E=x;switch(m.inputType){case"deleteWordBackward":{const P=S.substring(0,y).match(/\w*[^\w]*$/);P&&(w-=P[0].length);break}case"deleteWordForward":{const P=S.substring(y).match(/^[^\w]*\w*/);P&&(E+=P[0].length);break}case"deleteContentBackward":y===x&&(w-=1);break;case"deleteContentForward":y===x&&(E+=1);break}m.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:v||"",willCommit:!1,selStart:w,selEnd:E}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(f&&s.addEventListener("blur",f),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/l;s.classList.add("comb"),s.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class aB extends Dl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class lB extends Dl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return wl.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=Qf,i.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,s)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(s,{value:l})}),i.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(s,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class eR extends Dl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(s,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,s))e.setValue(o.id,{value:!1});const i=document.createElement("input");if(wl.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=Qf,i.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,s))e.setValue(u.id,{value:!1});e.setValue(s,{value:l})}),i.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;i.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const d=o===u.detail.value;for(const f of this._getElementsByName(u.target.name)){const h=d&&f.id===s;f.domElement&&(f.domElement.checked=h),e.setValue(f.id,{value:h})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class cB extends Qk{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class uB extends Dl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");wl.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Qf;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const f=this.data.defaultFieldValue;for(const h of r.options)h.selected=h.value===f});for(const d of this.data.options){const f=document.createElement("option");f.textContent=d.displayValue,f.value=d.exportValue,s.value.includes(d.exportValue)&&(f.setAttribute("selected",!0),i=!1),r.append(f)}let o=null;if(i){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),o=()=>{d.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=d=>{const f=d?"value":"textContent",{options:h,multiple:m}=r;return m?Array.prototype.filter.call(h,v=>v.selected).map(v=>v[f]):h.selectedIndex===-1?null:h[h.selectedIndex][f]};let l=a(!1);const u=d=>{const f=d.target.options;return Array.prototype.map.call(f,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const f={value(h){o==null||o();const m=h.detail.value,v=new Set(Array.isArray(m)?m:[m]);for(const g of r.options)g.selected=v.has(g.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(h){r.multiple=!0},remove(h){const m=r.options,v=h.detail.remove;m[v].selected=!1,r.remove(v),m.length>0&&Array.prototype.findIndex.call(m,S=>S.selected)===-1&&(m[0].selected=!0),e.setValue(t,{value:a(!0),items:u(h)}),l=a(!1)},clear(h){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(h){const{index:m,displayValue:v,exportValue:g}=h.detail.insert,S=r.children[m],y=document.createElement("option");y.textContent=v,y.value=g,S?S.before(y):r.append(y),e.setValue(t,{value:a(!0),items:u(h)}),l=a(!1)},items(h){const{items:m}=h.detail;for(;r.length!==0;)r.remove(0);for(const v of m){const{displayValue:g,exportValue:S}=v,y=document.createElement("option");y.textContent=g,y.value=S,r.append(y)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(h)}),l=a(!1)},indices(h){const m=new Set(h.detail.indices);for(const v of h.target.options)v.selected=m.has(v.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(f,d)}),r.addEventListener("input",d=>{var m;const f=a(!0),h=a(!1);e.setValue(t,{value:f}),d.preventDefault(),(m=this.linkService.eventBus)==null||m.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Ax extends ht{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:ht._hasPopupData(t)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new dB({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",t.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(s=>`${kb}${s}`).join(",")),this.container}}var au,Ag,Eg,lu,Ua,ot,qr,cu,lf,cf,uu,Kr,Rs,Yr,uf,Xr,df,Va,Wa,Oe,cm,Ex,tR,nR,sR,rR,um,dm,Cx;class dB{constructor({container:e,color:t,elements:s,titleObj:r,modificationDate:i,contentsObj:o,richText:a,parent:l,rect:u,parentRect:d,open:f}){_(this,Oe);_(this,au,C(this,Oe,sR).bind(this));_(this,Ag,C(this,Oe,Cx).bind(this));_(this,Eg,C(this,Oe,dm).bind(this));_(this,lu,C(this,Oe,um).bind(this));_(this,Ua,null);_(this,ot,null);_(this,qr,null);_(this,cu,null);_(this,lf,null);_(this,cf,null);_(this,uu,null);_(this,Kr,!1);_(this,Rs,null);_(this,Yr,null);_(this,uf,null);_(this,Xr,null);_(this,df,null);_(this,Va,null);_(this,Wa,!1);var h;A(this,ot,e),A(this,df,r),A(this,qr,o),A(this,Xr,a),A(this,cf,l),A(this,Ua,t),A(this,uf,u),A(this,uu,d),A(this,lf,s),A(this,cu,Mb.toDateObject(i)),this.trigger=s.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",c(this,lu)),m.addEventListener("mouseenter",c(this,Eg)),m.addEventListener("mouseleave",c(this,Ag)),m.classList.add("popupTriggerArea");for(const m of s)(h=m.container)==null||h.addEventListener("keydown",c(this,au));c(this,ot).hidden=!0,f&&C(this,Oe,um).call(this)}render(){if(c(this,Rs))return;const e=A(this,Rs,document.createElement("div"));if(e.className="popup",c(this,Ua)){const i=e.style.outlineColor=Z.makeHexColor(...c(this,Ua));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`:e.style.backgroundColor=Z.makeHexColor(...c(this,Ua).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const s=document.createElement("h1");if(t.append(s),{dir:s.dir,str:s.textContent}=c(this,df),e.append(t),c(this,cu)){const i=document.createElement("span");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:c(this,cu).valueOf()})),t.append(i)}const r=c(this,Oe,cm);if(r)Xk.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(c(this,qr));e.append(i)}c(this,ot).append(e)}_formatContents({str:e,dir:t}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let i=0,o=r.length;i<o;++i){const a=r[i];s.append(document.createTextNode(a)),i<o-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:e,popupContent:t}){var s;c(this,Va)||A(this,Va,{contentsObj:c(this,qr),richText:c(this,Xr)}),e&&A(this,Yr,null),t&&(A(this,Xr,C(this,Oe,nR).call(this,t)),A(this,qr,null)),(s=c(this,Rs))==null||s.remove(),A(this,Rs,null)}resetEdited(){var e;c(this,Va)&&({contentsObj:_t(this,qr)._,richText:_t(this,Xr)._}=c(this,Va),A(this,Va,null),(e=c(this,Rs))==null||e.remove(),A(this,Rs,null),A(this,Yr,null))}forceHide(){A(this,Wa,this.isVisible),c(this,Wa)&&(c(this,ot).hidden=!0)}maybeShow(){c(this,Wa)&&(c(this,Rs)||C(this,Oe,dm).call(this),A(this,Wa,!1),c(this,ot).hidden=!1)}get isVisible(){return c(this,ot).hidden===!1}}au=new WeakMap,Ag=new WeakMap,Eg=new WeakMap,lu=new WeakMap,Ua=new WeakMap,ot=new WeakMap,qr=new WeakMap,cu=new WeakMap,lf=new WeakMap,cf=new WeakMap,uu=new WeakMap,Kr=new WeakMap,Rs=new WeakMap,Yr=new WeakMap,uf=new WeakMap,Xr=new WeakMap,df=new WeakMap,Va=new WeakMap,Wa=new WeakMap,Oe=new WeakSet,cm=function(){const e=c(this,Xr),t=c(this,qr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,Xr).html||null},Ex=function(){var e,t,s;return((s=(t=(e=c(this,Oe,cm))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.fontSize)||0},tR=function(){var e,t,s;return((s=(t=(e=c(this,Oe,cm))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.color)||null},nR=function(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:c(this,Oe,tR),fontSize:c(this,Oe,Ex)?`calc(${c(this,Oe,Ex)}px * var(--scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:r});return s},sR=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,Kr))&&C(this,Oe,um).call(this)},rR=function(){if(c(this,Yr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:r,pageY:i}}}=c(this,cf);let o=!!c(this,uu),a=o?c(this,uu):c(this,uf);for(const v of c(this,lf))if(!a||Z.intersect(v.data.rect,a)!==null){a=v.data.rect,o=!0;break}const l=Z.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,f=l[0]+d,h=l[1];A(this,Yr,[100*(f-r)/t,100*(h-i)/s]);const{style:m}=c(this,ot);m.left=`${c(this,Yr)[0]}%`,m.top=`${c(this,Yr)[1]}%`},um=function(){A(this,Kr,!c(this,Kr)),c(this,Kr)?(C(this,Oe,dm).call(this),c(this,ot).addEventListener("click",c(this,lu)),c(this,ot).addEventListener("keydown",c(this,au))):(C(this,Oe,Cx).call(this),c(this,ot).removeEventListener("click",c(this,lu)),c(this,ot).removeEventListener("keydown",c(this,au)))},dm=function(){c(this,Rs)||this.render(),this.isVisible?c(this,Kr)&&c(this,ot).classList.add("focused"):(C(this,Oe,rR).call(this),c(this,ot).hidden=!1,c(this,ot).style.zIndex=parseInt(c(this,ot).style.zIndex)+1e3)},Cx=function(){c(this,ot).classList.remove("focused"),!(c(this,Kr)||!this.isVisible)&&(c(this,ot).hidden=!0,c(this,ot).style.zIndex=parseInt(c(this,ot).style.zIndex)-1e3)};class iR extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=pe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var hf;class hB extends ht{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,hf,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:s,height:r}=hi(t.rect),i=this.svgFactory.create(s,r,!0),o=A(this,hf,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,hf)}addHighlightArea(){this.container.classList.add("highlightArea")}}hf=new WeakMap;var ff;class fB extends ht{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,ff,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:s,height:r}=hi(t.rect),i=this.svgFactory.create(s,r,!0),o=t.borderStyle.width,a=A(this,ff,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",s-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,ff)}addHighlightArea(){this.container.classList.add("highlightArea")}}ff=new WeakMap;var pf;class pB extends ht{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,pf,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:s,height:r}=hi(t.rect),i=this.svgFactory.create(s,r,!0),o=t.borderStyle.width,a=A(this,pf,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",s/2),a.setAttribute("cy",r/2),a.setAttribute("rx",s/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,pf)}addHighlightArea(){this.container.classList.add("highlightArea")}}pf=new WeakMap;var mf;class oR extends ht{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,mf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:r,popupRef:i}}=this;if(!s)return this.container;const{width:o,height:a}=hi(t),l=this.svgFactory.create(o,a,!0);let u=[];for(let f=0,h=s.length;f<h;f+=2){const m=s[f]-t[0],v=t[3]-s[f+1];u.push(`${m},${v}`)}u=u.join(" ");const d=A(this,mf,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,mf)}addHighlightArea(){this.container.classList.add("highlightArea")}}mf=new WeakMap;class mB extends oR{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class gB extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var gf;class Hb extends ht{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,gf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?pe.HIGHLIGHT:pe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:s,borderStyle:r,popupRef:i}}=this,{width:o,height:a}=hi(t),l=this.svgFactory.create(o,a,!0);for(const u of s){let d=[];for(let h=0,m=u.length;h<m;h+=2){const v=u[h]-t[0],g=t[3]-u[h+1];d.push(`${v},${g}`)}d=d.join(" ");const f=this.svgFactory.createElement(this.svgElementName);c(this,gf).push(f),f.setAttribute("points",d),f.setAttribute("stroke-width",r.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),l.append(f)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return c(this,gf)}addHighlightArea(){this.container.classList.add("highlightArea")}}gf=new WeakMap;class aR extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=pe.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class vB extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class yB extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class xB extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class lR extends ht{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=pe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var vf,yf,_x;class wB extends ht{constructor(t){var r;super(t,{isRenderable:!0});_(this,yf);_(this,vf,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",C(this,yf,_x).bind(this)),A(this,vf,r);const{isMac:i}=dn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(i?o.metaKey:o.ctrlKey)&&C(this,yf,_x).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return c(this,vf)}addHighlightArea(){this.container.classList.add("highlightArea")}}vf=new WeakMap,yf=new WeakSet,_x=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var xf,Ga,qa,wf,Sl,cR,Tx,jA;let bB=(jA=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:r,page:i,viewport:o,structTreeLayer:a}){_(this,Sl);_(this,xf,null);_(this,Ga,null);_(this,qa,new Map);_(this,wf,null);this.div=e,A(this,xf,t),A(this,Ga,s),A(this,wf,a||null),this.page=i,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return c(this,qa).size>0}async render(e){var o;const{annotations:t}=e,s=this.div;yl(s,this.viewport);const r=new Map,i={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Bb,annotationStorage:e.annotationStorage||new Ib,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===yt.POPUP;if(l){const f=r.get(a.id);if(!f)continue;i.elements=f}else{const{width:f,height:h}=hi(a.rect);if(f<=0||h<=0)continue}i.data=a;const u=rB.create(i);if(!u.isRenderable)continue;if(!l&&a.popupRef){const f=r.get(a.popupRef);f?f.push(u):r.set(a.popupRef,[u])}const d=u.render();a.hidden&&(d.style.visibility="hidden"),await C(this,Sl,cR).call(this,d,a.id),u._isEditable&&(c(this,qa).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}C(this,Sl,Tx).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,yl(t,{rotation:e.rotation}),C(this,Sl,Tx).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,qa).values())}getEditableAnnotation(e){return c(this,qa).get(e)}},xf=new WeakMap,Ga=new WeakMap,qa=new WeakMap,wf=new WeakMap,Sl=new WeakSet,cR=async function(e,t){var o,a;const s=e.firstChild||e,r=s.id=`${kb}${t}`,i=await((o=c(this,wf))==null?void 0:o.getAriaAttributes(r));if(i)for(const[l,u]of i)s.setAttribute(l,u);this.div.append(e),(a=c(this,xf))==null||a.moveElementInDOM(this.div,e,s,!1)},Tx=function(){if(!c(this,Ga))return;const e=this.div;for(const[t,s]of c(this,Ga)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:i}=r;i?i.nodeName==="CANVAS"?i.replaceWith(s):i.classList.contains("annotationContent")?i.after(s):i.before(s):r.append(s)}c(this,Ga).clear()},jA);const Mp=/\r\n?|\n/g;var Ns,Dn,bf,Ka,jn,gt,uR,dR,hR,hm,pi,fm,pm,fR,kx,pR;const ze=class ze extends Ie{constructor(t){super({...t,name:"freeTextEditor"});_(this,gt);_(this,Ns);_(this,Dn,"");_(this,bf,`${this.id}-editor`);_(this,Ka,null);_(this,jn);A(this,Ns,t.color||ze._defaultColor||Ie._defaultLineColor),A(this,jn,t.fontSize||ze._defaultFontSize)}static get _keyboardManager(){const t=ze.prototype,s=o=>o.isEmpty(),r=xl.TRANSLATE_SMALL,i=xl.TRANSLATE_BIG;return Ae(this,"_keyboardManager",new Xf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:s}]]))}static initialize(t,s){Ie.initialize(t,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case ie.FREETEXT_SIZE:ze._defaultFontSize=s;break;case ie.FREETEXT_COLOR:ze._defaultColor=s;break}}updateParams(t,s){switch(t){case ie.FREETEXT_SIZE:C(this,gt,uR).call(this,s);break;case ie.FREETEXT_COLOR:C(this,gt,dR).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[ie.FREETEXT_SIZE,ze._defaultFontSize],[ie.FREETEXT_COLOR,ze._defaultColor||Ie._defaultLineColor]]}get propertiesToUpdate(){return[[ie.FREETEXT_SIZE,c(this,jn)],[ie.FREETEXT_COLOR,c(this,Ns)]]}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-ze._internalPadding*t,-(ze._internalPadding+c(this,jn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(pe.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),A(this,Ka,new AbortController);const t=this._uiManager.combinedSignal(c(this,Ka));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,bf)),this._isDraggable=!0,(t=c(this,Ka))==null||t.abort(),A(this,Ka,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,Dn),s=A(this,Dn,C(this,gt,hR).call(this).trimEnd());if(t===s)return;const r=i=>{if(A(this,Dn,i),!i){this.remove();return}C(this,gt,pm).call(this),this._uiManager.rebuild(this),C(this,gt,hm).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(t)},mustExec:!1}),C(this,gt,hm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ze._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,bf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${c(this,jn)}px * var(--scale-factor))`,r.color=c(this,Ns),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),ig(this,this.div,["dblclick","keydown"]),this.width){const[i,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,f]=this.pageDimensions,[h,m]=this.pageTranslation;let v,g;switch(this.rotation){case 0:v=t+(a[0]-h)/d,g=s+this.height-(a[1]-m)/f;break;case 90:v=t+(a[0]-h)/d,g=s-(a[1]-m)/f,[l,u]=[u,-l];break;case 180:v=t-this.width+(a[0]-h)/d,g=s-(a[1]-m)/f,[l,u]=[-l,-u];break;case 270:v=t+(a[0]-h-this.height*f)/d,g=s+(a[1]-m-this.width*d)/f,[l,u]=[-u,l];break}this.setAt(v*i,g*o,l,u)}else this.setAt(t*i,s*o,this.width*i,this.height*o);C(this,gt,pm).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,g,S;const s=t.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const i=C(v=ze,pi,kx).call(v,s.getData("text")||"").replaceAll(Mp,`
`);if(!i)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,d=[],f=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(f.push(l.nodeValue.slice(u).replaceAll(Mp,"")),y!==this.editorDiv){let x=d;for(const w of this.editorDiv.childNodes){if(w===y){x=f;continue}x.push(C(g=ze,pi,fm).call(g,w))}}d.push(l.nodeValue.slice(0,u).replaceAll(Mp,""))}else if(l===this.editorDiv){let y=d,x=0;for(const w of this.editorDiv.childNodes)x++===u&&(y=f),y.push(C(S=ze,pi,fm).call(S,w))}A(this,Dn,`${d.join(`
`)}${i}${f.join(`
`)}`),C(this,gt,pm).call(this);const h=new Range;let m=d.reduce((y,x)=>y+x.length,0);for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const x=y.nodeValue.length;if(m<=x){h.setStart(y,m),h.setEnd(y,m);break}m-=x}o.removeAllRanges(),o.addRange(h)}get contentDiv(){return this.editorDiv}static async deserialize(t,s,r){var a;let i=null;if(t instanceof iR){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:f,id:h,popupRef:m},textContent:v,textPosition:g,parent:{page:{pageNumber:S}}}=t;if(!v||v.length===0)return null;i=t={annotationType:pe.FREETEXT,color:Array.from(u),fontSize:l,value:v.join(`
`),position:g,pageIndex:S-1,rect:d.slice(0),rotation:f,id:h,deleted:!1,popupRef:m}}const o=await super.deserialize(t,s,r);return A(o,jn,t.fontSize),A(o,Ns,Z.makeHexColor(...t.color)),A(o,Dn,C(a=ze,pi,kx).call(a,t.value)),o.annotationElementId=t.id||null,o._initialData=i,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=ze._internalPadding*this.parentScale,r=this.getRect(s,s),i=Ie._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Ns)),o={annotationType:pe.FREETEXT,color:i,fontSize:c(this,jn),value:C(this,gt,fR).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!C(this,gt,pR).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${c(this,jn)}px * var(--scale-factor))`,r.color=c(this,Ns),s.replaceChildren();for(const o of c(this,Dn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),s.append(a)}const i=ze._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:c(this,Dn)}),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ns=new WeakMap,Dn=new WeakMap,bf=new WeakMap,Ka=new WeakMap,jn=new WeakMap,gt=new WeakSet,uR=function(t){const s=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-c(this,jn))*this.parentScale),A(this,jn,i),C(this,gt,hm).call(this)},r=c(this,jn);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ie.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},dR=function(t){const s=i=>{A(this,Ns,this.editorDiv.style.color=i)},r=c(this,Ns);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ie.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},hR=function(){var r;const t=[];this.editorDiv.normalize();let s=null;for(const i of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(C(r=ze,pi,fm).call(r,i)),s=i);return t.join(`
`)},hm=function(){const[t,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/s):(this.width=r.height/t,this.height=r.width/s),this.fixAndSetPosition()},pi=new WeakSet,fm=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Mp,"")},pm=function(){if(this.editorDiv.replaceChildren(),!!c(this,Dn))for(const t of c(this,Dn).split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}},fR=function(){return c(this,Dn).replaceAll(""," ")},kx=function(t){return t.replaceAll(" ","")},pR=function(t){const{value:s,fontSize:r,color:i,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==s||t.fontSize!==r||t.color.some((a,l)=>a!==i[l])||t.pageIndex!==o},_(ze,pi),re(ze,"_freeTextDefaultContent",""),re(ze,"_internalPadding",0),re(ze,"_defaultColor",null),re(ze,"_defaultFontSize",10),re(ze,"_type","freetext"),re(ze,"_editorType",pe.FREETEXT);let Px=ze;class mR{toSVGPath(){qe("Abstract method `toSVGPath` must be implemented.")}get box(){qe("Abstract getter `box` must be implemented.")}serialize(e,t){qe("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){qe("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){qe("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Fn,Ms,du,hu,fr,ye,Ya,Xa,Sf,Af,fu,pu,co,Ef,Cg,_g,Ct,Td,gR,vR,yR,xR,wR,bR;const Dr=class Dr{constructor({x:e,y:t},s,r,i,o,a=0){_(this,Ct);_(this,Fn);_(this,Ms,[]);_(this,du);_(this,hu);_(this,fr,[]);_(this,ye,new Float64Array(18));_(this,Ya);_(this,Xa);_(this,Sf);_(this,Af);_(this,fu);_(this,pu);_(this,co,[]);A(this,Fn,s),A(this,pu,i*r),A(this,hu,o),c(this,ye).set([NaN,NaN,NaN,NaN,e,t],6),A(this,du,a),A(this,Af,c(Dr,Ef)*r),A(this,Sf,c(Dr,_g)*r),A(this,fu,r),c(this,co).push(e,t)}isEmpty(){return isNaN(c(this,ye)[8])}add({x:e,y:t}){var M;A(this,Ya,e),A(this,Xa,t);const[s,r,i,o]=c(this,Fn);let[a,l,u,d]=c(this,ye).subarray(8,12);const f=e-u,h=t-d,m=Math.hypot(f,h);if(m<c(this,Sf))return!1;const v=m-c(this,Af),g=v/m,S=g*f,y=g*h;let x=a,w=l;a=u,l=d,u+=S,d+=y,(M=c(this,co))==null||M.push(e,t);const E=-y/v,T=S/v,P=E*c(this,pu),k=T*c(this,pu);return c(this,ye).set(c(this,ye).subarray(2,8),0),c(this,ye).set([u+P,d+k],4),c(this,ye).set(c(this,ye).subarray(14,18),12),c(this,ye).set([u-P,d-k],16),isNaN(c(this,ye)[6])?(c(this,fr).length===0&&(c(this,ye).set([a+P,l+k],2),c(this,fr).push(NaN,NaN,NaN,NaN,(a+P-s)/i,(l+k-r)/o),c(this,ye).set([a-P,l-k],14),c(this,Ms).push(NaN,NaN,NaN,NaN,(a-P-s)/i,(l-k-r)/o)),c(this,ye).set([x,w,a,l,u,d],6),!this.isEmpty()):(c(this,ye).set([x,w,a,l,u,d],6),Math.abs(Math.atan2(w-l,x-a)-Math.atan2(y,S))<Math.PI/2?([a,l,u,d]=c(this,ye).subarray(2,6),c(this,fr).push(NaN,NaN,NaN,NaN,((a+u)/2-s)/i,((l+d)/2-r)/o),[a,l,x,w]=c(this,ye).subarray(14,18),c(this,Ms).push(NaN,NaN,NaN,NaN,((x+a)/2-s)/i,((w+l)/2-r)/o),!0):([x,w,a,l,u,d]=c(this,ye).subarray(0,6),c(this,fr).push(((x+5*a)/6-s)/i,((w+5*l)/6-r)/o,((5*a+u)/6-s)/i,((5*l+d)/6-r)/o,((a+u)/2-s)/i,((l+d)/2-r)/o),[u,d,a,l,x,w]=c(this,ye).subarray(12,18),c(this,Ms).push(((x+5*a)/6-s)/i,((w+5*l)/6-r)/o,((5*a+u)/6-s)/i,((5*l+d)/6-r)/o,((a+u)/2-s)/i,((l+d)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,fr),t=c(this,Ms);if(isNaN(c(this,ye)[6])&&!this.isEmpty())return C(this,Ct,gR).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);C(this,Ct,yR).call(this,s);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return C(this,Ct,vR).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,r,i,o){return new SR(e,t,s,r,i,o)}getOutlines(){var f;const e=c(this,fr),t=c(this,Ms),s=c(this,ye),[r,i,o,a]=c(this,Fn),l=new Float64Array((((f=c(this,co))==null?void 0:f.length)??0)+2);for(let h=0,m=l.length-2;h<m;h+=2)l[h]=(c(this,co)[h]-r)/o,l[h+1]=(c(this,co)[h+1]-i)/a;if(l[l.length-2]=(c(this,Ya)-r)/o,l[l.length-1]=(c(this,Xa)-i)/a,isNaN(s[6])&&!this.isEmpty())return C(this,Ct,xR).call(this,l);const u=new Float64Array(c(this,fr).length+24+c(this,Ms).length);let d=e.length;for(let h=0;h<d;h+=2){if(isNaN(e[h])){u[h]=u[h+1]=NaN;continue}u[h]=e[h],u[h+1]=e[h+1]}d=C(this,Ct,bR).call(this,u,d);for(let h=t.length-6;h>=6;h-=6)for(let m=0;m<6;m+=2){if(isNaN(t[h+m])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[h+m],u[d+1]=t[h+m+1],d+=2}return C(this,Ct,wR).call(this,u,d),this.newFreeDrawOutline(u,l,c(this,Fn),c(this,fu),c(this,du),c(this,hu))}};Fn=new WeakMap,Ms=new WeakMap,du=new WeakMap,hu=new WeakMap,fr=new WeakMap,ye=new WeakMap,Ya=new WeakMap,Xa=new WeakMap,Sf=new WeakMap,Af=new WeakMap,fu=new WeakMap,pu=new WeakMap,co=new WeakMap,Ef=new WeakMap,Cg=new WeakMap,_g=new WeakMap,Ct=new WeakSet,Td=function(){const e=c(this,ye).subarray(4,6),t=c(this,ye).subarray(16,18),[s,r,i,o]=c(this,Fn);return[(c(this,Ya)+(e[0]-t[0])/2-s)/i,(c(this,Xa)+(e[1]-t[1])/2-r)/o,(c(this,Ya)+(t[0]-e[0])/2-s)/i,(c(this,Xa)+(t[1]-e[1])/2-r)/o]},gR=function(){const[e,t,s,r]=c(this,Fn),[i,o,a,l]=C(this,Ct,Td).call(this);return`M${(c(this,ye)[2]-e)/s} ${(c(this,ye)[3]-t)/r} L${(c(this,ye)[4]-e)/s} ${(c(this,ye)[5]-t)/r} L${i} ${o} L${a} ${l} L${(c(this,ye)[16]-e)/s} ${(c(this,ye)[17]-t)/r} L${(c(this,ye)[14]-e)/s} ${(c(this,ye)[15]-t)/r} Z`},vR=function(e){const t=c(this,Ms);e.push(`L${t[4]} ${t[5]} Z`)},yR=function(e){const[t,s,r,i]=c(this,Fn),o=c(this,ye).subarray(4,6),a=c(this,ye).subarray(16,18),[l,u,d,f]=C(this,Ct,Td).call(this);e.push(`L${(o[0]-t)/r} ${(o[1]-s)/i} L${l} ${u} L${d} ${f} L${(a[0]-t)/r} ${(a[1]-s)/i}`)},xR=function(e){const t=c(this,ye),[s,r,i,o]=c(this,Fn),[a,l,u,d]=C(this,Ct,Td).call(this),f=new Float64Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-s)/i,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-s)/i,(t[5]-r)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-s)/i,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-s)/i,(t[15]-r)/o],0),this.newFreeDrawOutline(f,e,c(this,Fn),c(this,fu),c(this,du),c(this,hu))},wR=function(e,t){const s=c(this,Ms);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6},bR=function(e,t){const s=c(this,ye).subarray(4,6),r=c(this,ye).subarray(16,18),[i,o,a,l]=c(this,Fn),[u,d,f,h]=C(this,Ct,Td).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-i)/a,(s[1]-o)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,(r[0]-i)/a,(r[1]-o)/l],t),t+=24},_(Dr,Ef,8),_(Dr,Cg,2),_(Dr,_g,c(Dr,Ef)+c(Dr,Cg));let ag=Dr;var mu,Qa,Qr,Cf,On,_f,ct,Cn,Pd,kd,AR;class SR extends mR{constructor(t,s,r,i,o,a){super();_(this,Cn);_(this,mu);_(this,Qa,null);_(this,Qr);_(this,Cf);_(this,On);_(this,_f);_(this,ct);A(this,ct,t),A(this,On,s),A(this,mu,r),A(this,_f,i),A(this,Qr,o),A(this,Cf,a),C(this,Cn,AR).call(this,a);const{x:l,y:u,width:d,height:f}=c(this,Qa);for(let h=0,m=t.length;h<m;h+=2)t[h]=(t[h]-l)/d,t[h+1]=(t[h+1]-u)/f;for(let h=0,m=s.length;h<m;h+=2)s[h]=(s[h]-l)/d,s[h+1]=(s[h+1]-u)/f}toSVGPath(){const t=[`M${c(this,ct)[4]} ${c(this,ct)[5]}`];for(let s=6,r=c(this,ct).length;s<r;s+=6){if(isNaN(c(this,ct)[s])){t.push(`L${c(this,ct)[s+4]} ${c(this,ct)[s+5]}`);continue}t.push(`C${c(this,ct)[s]} ${c(this,ct)[s+1]} ${c(this,ct)[s+2]} ${c(this,ct)[s+3]} ${c(this,ct)[s+4]} ${c(this,ct)[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,r,i],o){const a=r-t,l=i-s;let u,d;switch(o){case 0:u=C(this,Cn,Pd).call(this,c(this,ct),t,i,a,-l),d=C(this,Cn,Pd).call(this,c(this,On),t,i,a,-l);break;case 90:u=C(this,Cn,kd).call(this,c(this,ct),t,s,a,l),d=C(this,Cn,kd).call(this,c(this,On),t,s,a,l);break;case 180:u=C(this,Cn,Pd).call(this,c(this,ct),r,s,-a,l),d=C(this,Cn,Pd).call(this,c(this,On),r,s,-a,l);break;case 270:u=C(this,Cn,kd).call(this,c(this,ct),r,i,-a,-l),d=C(this,Cn,kd).call(this,c(this,On),r,i,-a,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return c(this,Qa)}newOutliner(t,s,r,i,o,a=0){return new ag(t,s,r,i,o,a)}getNewOutline(t,s){const{x:r,y:i,width:o,height:a}=c(this,Qa),[l,u,d,f]=c(this,mu),h=o*d,m=a*f,v=r*d+l,g=i*f+u,S=this.newOutliner({x:c(this,On)[0]*h+v,y:c(this,On)[1]*m+g},c(this,mu),c(this,_f),t,c(this,Cf),s??c(this,Qr));for(let y=2;y<c(this,On).length;y+=2)S.add({x:c(this,On)[y]*h+v,y:c(this,On)[y+1]*m+g});return S.getOutlines()}get mustRemoveSelfIntersections(){return!0}}mu=new WeakMap,Qa=new WeakMap,Qr=new WeakMap,Cf=new WeakMap,On=new WeakMap,_f=new WeakMap,ct=new WeakMap,Cn=new WeakSet,Pd=function(t,s,r,i,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=s+t[l]*i,a[l+1]=r+t[l+1]*o;return a},kd=function(t,s,r,i,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=s+t[l+1]*i,a[l+1]=r+t[l]*o;return a},AR=function(t){const s=c(this,ct);let r=s[4],i=s[5],o=r,a=i,l=r,u=i,d=r,f=i;const h=t?Math.max:Math.min;for(let y=6,x=s.length;y<x;y+=6){if(isNaN(s[y]))o=Math.min(o,s[y+4]),a=Math.min(a,s[y+5]),l=Math.max(l,s[y+4]),u=Math.max(u,s[y+5]),f<s[y+5]?(d=s[y+4],f=s[y+5]):f===s[y+5]&&(d=h(d,s[y+4]));else{const w=Z.bezierBoundingBox(r,i,...s.slice(y,y+6));o=Math.min(o,w[0]),a=Math.min(a,w[1]),l=Math.max(l,w[2]),u=Math.max(u,w[3]),f<w[3]?(d=w[2],f=w[3]):f===w[3]&&(d=h(d,w[2]))}r=s[y+4],i=s[y+5]}const m=o-c(this,Qr),v=a-c(this,Qr),g=l-o+2*c(this,Qr),S=u-a+2*c(this,Qr);A(this,Qa,{x:m,y:v,width:g,height:S,lastPoint:[d,f]})};var Tf,uo,Ls,fn,ER,mm,CR,_R,Rx;class vA{constructor(e,t=0,s=0,r=!0){_(this,fn);_(this,Tf);_(this,uo,[]);_(this,Ls,[]);let i=1/0,o=-1/0,a=1/0,l=-1/0;const d=10**-4;for(const{x:y,y:x,width:w,height:E}of e){const T=Math.floor((y-t)/d)*d,P=Math.ceil((y+w+t)/d)*d,k=Math.floor((x-t)/d)*d,R=Math.ceil((x+E+t)/d)*d,M=[T,k,R,!0],L=[P,k,R,!1];c(this,uo).push(M,L),i=Math.min(i,T),o=Math.max(o,P),a=Math.min(a,k),l=Math.max(l,R)}const f=o-i+2*s,h=l-a+2*s,m=i-s,v=a-s,g=c(this,uo).at(r?-1:-2),S=[g[0],g[2]];for(const y of c(this,uo)){const[x,w,E]=y;y[0]=(x-m)/f,y[1]=(w-v)/h,y[2]=(E-v)/h}A(this,Tf,{x:m,y:v,width:f,height:h,lastPoint:S})}getOutlines(){c(this,uo).sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of c(this,uo))t[3]?(e.push(...C(this,fn,Rx).call(this,t)),C(this,fn,CR).call(this,t)):(C(this,fn,_R).call(this,t),e.push(...C(this,fn,Rx).call(this,t)));return C(this,fn,ER).call(this,e)}}Tf=new WeakMap,uo=new WeakMap,Ls=new WeakMap,fn=new WeakSet,ER=function(e){const t=[],s=new Set;for(const o of e){const[a,l,u]=o;t.push([a,l,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],u=t[o+1][2];l.push(u),u.push(l),s.add(l),s.add(u)}const r=[];let i;for(;s.size>0;){const o=s.values().next().value;let[a,l,u,d,f]=o;s.delete(o);let h=a,m=l;for(i=[a,u],r.push(i);;){let v;if(s.has(d))v=d;else if(s.has(f))v=f;else break;s.delete(v),[a,l,u,d,f]=v,h!==a&&(i.push(h,m,a,m===l?l:u),h=a),m=m===l?u:l}i.push(h,m)}return new SB(r,c(this,Tf))},mm=function(e){const t=c(this,Ls);let s=0,r=t.length-1;for(;s<=r;){const i=s+r>>1,o=t[i][0];if(o===e)return i;o<e?s=i+1:r=i-1}return r+1},CR=function([,e,t]){const s=C(this,fn,mm).call(this,e);c(this,Ls).splice(s,0,[e,t])},_R=function([,e,t]){const s=C(this,fn,mm).call(this,e);for(let r=s;r<c(this,Ls).length;r++){const[i,o]=c(this,Ls)[r];if(i!==e)break;if(i===e&&o===t){c(this,Ls).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[i,o]=c(this,Ls)[r];if(i!==e)break;if(i===e&&o===t){c(this,Ls).splice(r,1);return}}},Rx=function(e){const[t,s,r]=e,i=[[t,s,r]],o=C(this,fn,mm).call(this,r);for(let a=0;a<o;a++){const[l,u]=c(this,Ls)[a];for(let d=0,f=i.length;d<f;d++){const[,h,m]=i[d];if(!(u<=h||m<=l)){if(h>=l){if(m>u)i[d][1]=u;else{if(f===1)return[];i.splice(d,1),d--,f--}continue}i[d][2]=l,m>u&&i.push([t,u,m])}}}return i};var Pf,gu;class SB extends mR{constructor(t,s){super();_(this,Pf);_(this,gu);A(this,gu,t),A(this,Pf,s)}toSVGPath(){const t=[];for(const s of c(this,gu)){let[r,i]=s;t.push(`M${r} ${i}`);for(let o=2;o<s.length;o+=2){const a=s[o],l=s[o+1];a===r?(t.push(`V${l}`),i=l):l===i&&(t.push(`H${a}`),r=a)}t.push("Z")}return t.join(" ")}serialize([t,s,r,i],o){const a=[],l=r-t,u=i-s;for(const d of c(this,gu)){const f=new Array(d.length);for(let h=0;h<d.length;h+=2)f[h]=t+d[h]*l,f[h+1]=i-d[h+1]*u;a.push(f)}return a}get box(){return c(this,Pf)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Pf=new WeakMap,gu=new WeakMap;class Nx extends ag{newFreeDrawOutline(e,t,s,r,i,o){return new AB(e,t,s,r,i,o)}get classNamesForDrawing(){return["highlight","free"]}}class AB extends SR{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,s,r,i,o=0){return new Nx(e,t,s,r,i,o)}}var Is,Ja,vu,wt,kf,yu,Rf,Nf,ho,Ds,xu,Mf,Fe,Mx,Lx,Ix,ea,TR,Ii;const yn=class yn{constructor({editor:e=null,uiManager:t=null}){_(this,Fe);_(this,Is,null);_(this,Ja,null);_(this,vu);_(this,wt,null);_(this,kf,!1);_(this,yu,!1);_(this,Rf,null);_(this,Nf);_(this,ho,null);_(this,Ds,null);_(this,xu);var s;e?(A(this,yu,!1),A(this,xu,ie.HIGHLIGHT_COLOR),A(this,Rf,e)):(A(this,yu,!0),A(this,xu,ie.HIGHLIGHT_DEFAULT_COLOR)),A(this,Ds,(e==null?void 0:e._uiManager)||t),A(this,Nf,c(this,Ds)._eventBus),A(this,vu,(e==null?void 0:e.color)||((s=c(this,Ds))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),c(yn,Mf)||A(yn,Mf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ae(this,"_keyboardManager",new Xf([[["Escape","mac+Escape"],yn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yn.prototype._moveToPrevious],[["Home","mac+Home"],yn.prototype._moveToBeginning],[["End","mac+End"],yn.prototype._moveToEnd]]))}renderButton(){const e=A(this,Is,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=c(this,Ds)._signal;e.addEventListener("click",C(this,Fe,ea).bind(this),{signal:t}),e.addEventListener("keydown",C(this,Fe,Ix).bind(this),{signal:t});const s=A(this,Ja,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=c(this,vu),e.append(s),e}renderMainDropdown(){const e=A(this,wt,C(this,Fe,Mx).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,Is)){C(this,Fe,ea).call(this,e);return}const t=e.target.getAttribute("data-color");t&&C(this,Fe,Lx).call(this,t,e)}_moveToNext(e){var t,s;if(!c(this,Fe,Ii)){C(this,Fe,ea).call(this,e);return}if(e.target===c(this,Is)){(t=c(this,wt).firstChild)==null||t.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var t,s;if(e.target===((t=c(this,wt))==null?void 0:t.firstChild)||e.target===c(this,Is)){c(this,Fe,Ii)&&this._hideDropdownFromKeyboard();return}c(this,Fe,Ii)||C(this,Fe,ea).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var t;if(!c(this,Fe,Ii)){C(this,Fe,ea).call(this,e);return}(t=c(this,wt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,Fe,Ii)){C(this,Fe,ea).call(this,e);return}(t=c(this,wt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=c(this,wt))==null||e.classList.add("hidden"),(t=c(this,ho))==null||t.abort(),A(this,ho,null)}_hideDropdownFromKeyboard(){var e;if(!c(this,yu)){if(!c(this,Fe,Ii)){(e=c(this,Rf))==null||e.unselect();return}this.hideDropdown(),c(this,Is).focus({preventScroll:!0,focusVisible:c(this,kf)})}}updateColor(e){if(c(this,Ja)&&(c(this,Ja).style.backgroundColor=e),!c(this,wt))return;const t=c(this,Ds).highlightColors.values();for(const s of c(this,wt).children)s.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,Is))==null||e.remove(),A(this,Is,null),A(this,Ja,null),(t=c(this,wt))==null||t.remove(),A(this,wt,null)}};Is=new WeakMap,Ja=new WeakMap,vu=new WeakMap,wt=new WeakMap,kf=new WeakMap,yu=new WeakMap,Rf=new WeakMap,Nf=new WeakMap,ho=new WeakMap,Ds=new WeakMap,xu=new WeakMap,Mf=new WeakMap,Fe=new WeakSet,Mx=function(){const e=document.createElement("div"),t=c(this,Ds)._signal;e.addEventListener("contextmenu",ms,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of c(this,Ds).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=s,i.setAttribute("data-l10n-id",c(yn,Mf)[s]);const o=document.createElement("span");i.append(o),o.className="swatch",o.style.backgroundColor=r,i.setAttribute("aria-selected",r===c(this,vu)),i.addEventListener("click",C(this,Fe,Lx).bind(this,r),{signal:t}),e.append(i)}return e.addEventListener("keydown",C(this,Fe,Ix).bind(this),{signal:t}),e},Lx=function(e,t){t.stopPropagation(),c(this,Nf).dispatch("switchannotationeditorparams",{source:this,type:c(this,xu),value:e})},Ix=function(e){yn._keyboardManager.exec(this,e)},ea=function(e){if(c(this,Fe,Ii)){this.hideDropdown();return}if(A(this,kf,e.detail===0),c(this,ho)||(A(this,ho,new AbortController),window.addEventListener("pointerdown",C(this,Fe,TR).bind(this),{signal:c(this,Ds).combinedSignal(c(this,ho))})),c(this,wt)){c(this,wt).classList.remove("hidden");return}const t=A(this,wt,C(this,Fe,Mx).call(this));c(this,Is).append(t)},TR=function(e){var t;(t=c(this,wt))!=null&&t.contains(e.target)||this.hideDropdown()},Ii=function(){return c(this,wt)&&!c(this,wt).classList.contains("hidden")},_(yn,Mf,null);let lg=yn;var wu,Lf,Jr,Za,bu,ss,If,Df,el,js,Xt,bn,Su,Zr,bt,Au,rs,jf,de,Dx,gm,PR,kR,RR,jx,ta,cs,Yl,NR,vm,Rd,MR,LR,IR,DR,jR;const Pe=class Pe extends Ie{constructor(t){super({...t,name:"highlightEditor"});_(this,de);_(this,wu,null);_(this,Lf,0);_(this,Jr);_(this,Za,null);_(this,bu,null);_(this,ss,null);_(this,If,null);_(this,Df,0);_(this,el,null);_(this,js,null);_(this,Xt,null);_(this,bn,!1);_(this,Su,null);_(this,Zr);_(this,bt,null);_(this,Au,"");_(this,rs);_(this,jf,"");this.color=t.color||Pe._defaultColor,A(this,rs,t.thickness||Pe._defaultThickness),A(this,Zr,t.opacity||Pe._defaultOpacity),A(this,Jr,t.boxes||null),A(this,jf,t.methodOfCreation||""),A(this,Au,t.text||""),this._isDraggable=!1,t.highlightId>-1?(A(this,bn,!0),C(this,de,gm).call(this,t),C(this,de,ta).call(this)):c(this,Jr)&&(A(this,wu,t.anchorNode),A(this,Lf,t.anchorOffset),A(this,If,t.focusNode),A(this,Df,t.focusOffset),C(this,de,Dx).call(this),C(this,de,ta).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Pe.prototype;return Ae(this,"_keyboardManager",new Xf([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,bn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,rs),methodOfCreation:c(this,jf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,s){var r;Ie.initialize(t,s),Pe._defaultColor||(Pe._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,s){switch(t){case ie.HIGHLIGHT_DEFAULT_COLOR:Pe._defaultColor=s;break;case ie.HIGHLIGHT_THICKNESS:Pe._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return c(this,Su)}updateParams(t,s){switch(t){case ie.HIGHLIGHT_COLOR:C(this,de,PR).call(this,s);break;case ie.HIGHLIGHT_THICKNESS:C(this,de,kR).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[ie.HIGHLIGHT_DEFAULT_COLOR,Pe._defaultColor],[ie.HIGHLIGHT_THICKNESS,Pe._defaultThickness]]}get propertiesToUpdate(){return[[ie.HIGHLIGHT_COLOR,this.color||Pe._defaultColor],[ie.HIGHLIGHT_THICKNESS,c(this,rs)||Pe._defaultThickness],[ie.HIGHLIGHT_FREE,c(this,bn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(A(this,bu,new lg({editor:this})),t.addColorPicker(c(this,bu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(C(this,de,Rd).call(this))}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,C(this,de,Rd).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){C(this,de,jx).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,de,ta).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let s=!1;this.parent&&!t?C(this,de,jx).call(this):t&&(C(this,de,ta).call(this,t),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),s&&this.select()}rotate(t){var i,o,a;const{drawLayer:s}=this.parent;let r;c(this,bn)?(t=(t-this.rotation+360)%360,r=C(i=Pe,cs,Yl).call(i,c(this,js).box,t)):r=C(o=Pe,cs,Yl).call(o,this,t),s.rotate(c(this,Xt),t),s.rotate(c(this,bt),t),s.updateBox(c(this,Xt),r),s.updateBox(c(this,bt),C(a=Pe,cs,Yl).call(a,c(this,ss).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,Au)&&(t.setAttribute("aria-label",c(this,Au)),t.setAttribute("role","mark")),c(this,bn)?t.classList.add("free"):this.div.addEventListener("keydown",C(this,de,NR).bind(this),{signal:this._uiManager._signal});const s=A(this,el,document.createElement("div"));t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=c(this,Za);const[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),ig(this,c(this,el),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(c(this,bt),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(c(this,bt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:C(this,de,vm).call(this,!0);break;case 1:case 3:C(this,de,vm).call(this,!1);break}}select(){var t,s;super.select(),c(this,bt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,bt),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(c(this,bt),"selected"))}unselect(){var t;super.unselect(),c(this,bt)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,bt),"selected"),c(this,bn)||C(this,de,vm).call(this,!1))}get _mustFixPosition(){return!c(this,bn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,Xt),t),this.parent.drawLayer.show(c(this,bt),t))}static startHighlighting(t,s,{target:r,x:i,y:o}){const{x:a,y:l,width:u,height:d}=r.getBoundingClientRect(),f=new AbortController,h=t.combinedSignal(f),m=g=>{g.preventDefault(),g.stopPropagation()},v=g=>{f.abort(),C(this,cs,DR).call(this,t,g)};window.addEventListener("blur",v,{signal:h}),window.addEventListener("pointerup",v,{signal:h}),window.addEventListener("pointerdown",m,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",ms,{signal:h}),r.addEventListener("pointermove",C(this,cs,IR).bind(this,t),{signal:h}),this._freeHighlight=new Nx({x:i,y:o},[a,l,u,d],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,s,r){var g,S,y,x;let i=null;if(t instanceof aR){const{data:{quadPoints:w,rect:E,rotation:T,id:P,color:k,opacity:R,popupRef:M},parent:{page:{pageNumber:L}}}=t;i=t={annotationType:pe.HIGHLIGHT,color:Array.from(k),opacity:R,quadPoints:w,boxes:null,pageIndex:L-1,rect:E.slice(0),rotation:T,id:P,deleted:!1,popupRef:M}}else if(t instanceof Hb){const{data:{inkLists:w,rect:E,rotation:T,id:P,color:k,borderStyle:{rawWidth:R},popupRef:M},parent:{page:{pageNumber:L}}}=t;i=t={annotationType:pe.HIGHLIGHT,color:Array.from(k),thickness:R,inkLists:w,boxes:null,pageIndex:L-1,rect:E.slice(0),rotation:T,id:P,deleted:!1,popupRef:M}}const{color:o,quadPoints:a,inkLists:l,opacity:u}=t,d=await super.deserialize(t,s,r);d.color=Z.makeHexColor(...o),A(d,Zr,u||1),l&&A(d,rs,t.thickness),d.annotationElementId=t.id||null,d._initialData=i;const[f,h]=d.pageDimensions,[m,v]=d.pageTranslation;if(a){const w=A(d,Jr,[]);for(let E=0;E<a.length;E+=8)w.push({x:(a[E]-m)/f,y:1-(a[E+1]-v)/h,width:(a[E+2]-a[E])/f,height:(a[E+1]-a[E+5])/h});C(g=d,de,Dx).call(g),C(S=d,de,ta).call(S),d.rotate(d.rotation)}else if(l){A(d,bn,!0);const w=l[0],E={x:w[0]-m,y:h-(w[1]-v)},T=new Nx(E,[0,0,f,h],1,c(d,rs)/2,!0,.001);for(let R=0,M=w.length;R<M;R+=2)E.x=w[R]-m,E.y=h-(w[R+1]-v),T.add(E);const{id:P,clipPathId:k}=s.drawLayer.draw(T,d.color,d._defaultOpacity,!0);C(y=d,de,gm).call(y,{highlightOutlines:T.getOutlines(),highlightId:P,clipPathId:k}),C(x=d,de,ta).call(x)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=Ie._colorManager.convert(this.color),i={annotationType:pe.HIGHLIGHT,color:r,opacity:c(this,Zr),thickness:c(this,rs),quadPoints:C(this,de,MR).call(this),outlines:C(this,de,LR).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:C(this,de,Rd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!C(this,de,jR).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};wu=new WeakMap,Lf=new WeakMap,Jr=new WeakMap,Za=new WeakMap,bu=new WeakMap,ss=new WeakMap,If=new WeakMap,Df=new WeakMap,el=new WeakMap,js=new WeakMap,Xt=new WeakMap,bn=new WeakMap,Su=new WeakMap,Zr=new WeakMap,bt=new WeakMap,Au=new WeakMap,rs=new WeakMap,jf=new WeakMap,de=new WeakSet,Dx=function(){const t=new vA(c(this,Jr),.001);A(this,js,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,js).box;const s=new vA(c(this,Jr),.0025,.001,this._uiManager.direction==="ltr");A(this,ss,s.getOutlines());const{lastPoint:r}=c(this,ss).box;A(this,Su,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},gm=function({highlightOutlines:t,highlightId:s,clipPathId:r}){var f,h;if(A(this,js,t),A(this,ss,t.getNewOutline(c(this,rs)/2+1.5,.0025)),s>=0)A(this,Xt,s),A(this,Za,r),this.parent.drawLayer.finalizeLine(s,t),A(this,bt,this.parent.drawLayer.drawOutline(c(this,ss)));else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,Xt),t),this.parent.drawLayer.updateBox(c(this,Xt),C(f=Pe,cs,Yl).call(f,c(this,js).box,(m-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,bt),c(this,ss)),this.parent.drawLayer.updateBox(c(this,bt),C(h=Pe,cs,Yl).call(h,c(this,ss).box,m))}const{x:o,y:a,width:l,height:u}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[m,v]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*v/m,this.height=u*m/v;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[m,v]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*v/m,this.height=u*m/v;break}}const{lastPoint:d}=c(this,ss).box;A(this,Su,[(d[0]-o)/l,(d[1]-a)/u])},PR=function(t){const s=(o,a)=>{var l,u,d;this.color=o,(l=this.parent)==null||l.drawLayer.changeColor(c(this,Xt),o),(u=c(this,bu))==null||u.updateColor(o),A(this,Zr,a),(d=this.parent)==null||d.drawLayer.changeOpacity(c(this,Xt),a)},r=this.color,i=c(this,Zr);this.addCommands({cmd:s.bind(this,t,Pe._defaultOpacity),undo:s.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ie.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},kR=function(t){const s=c(this,rs),r=i=>{A(this,rs,i),C(this,de,RR).call(this,i)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ie.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},RR=function(t){if(!c(this,bn))return;C(this,de,gm).call(this,{highlightOutlines:c(this,js).getNewOutline(t/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},jx=function(){c(this,Xt)===null||!this.parent||(this.parent.drawLayer.remove(c(this,Xt)),A(this,Xt,null),this.parent.drawLayer.remove(c(this,bt)),A(this,bt,null))},ta=function(t=this.parent){c(this,Xt)===null&&({id:_t(this,Xt)._,clipPathId:_t(this,Za)._}=t.drawLayer.draw(c(this,js),this.color,c(this,Zr)),A(this,bt,t.drawLayer.drawOutline(c(this,ss))),c(this,el)&&(c(this,el).style.clipPath=c(this,Za)))},cs=new WeakSet,Yl=function({x:t,y:s,width:r,height:i},o){switch(o){case 90:return{x:1-s-i,y:t,width:i,height:r};case 180:return{x:1-t-r,y:1-s-i,width:r,height:i};case 270:return{x:s,y:1-t-r,width:i,height:r}}return{x:t,y:s,width:r,height:i}},NR=function(t){Pe._keyboardManager.exec(this,t)},vm=function(t){if(!c(this,wu))return;const s=window.getSelection();t?s.setPosition(c(this,wu),c(this,Lf)):s.setPosition(c(this,If),c(this,Df))},Rd=function(){return c(this,bn)?this.rotation:0},MR=function(){if(c(this,bn))return null;const[t,s]=this.pageDimensions,[r,i]=this.pageTranslation,o=c(this,Jr),a=new Float32Array(o.length*8);let l=0;for(const{x:u,y:d,width:f,height:h}of o){const m=u*t+r,v=(1-d-h)*s+i;a[l]=a[l+4]=m,a[l+1]=a[l+3]=v,a[l+2]=a[l+6]=m+f*t,a[l+5]=a[l+7]=v+h*s,l+=8}return a},LR=function(t){return c(this,js).serialize(t,C(this,de,Rd).call(this))},IR=function(t,s){this._freeHighlight.add(s)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},DR=function(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},jR=function(t){const{color:s}=this._initialData;return t.color.some((r,i)=>r!==s[i])},_(Pe,cs),re(Pe,"_defaultColor",null),re(Pe,"_defaultOpacity",1),re(Pe,"_defaultThickness",12),re(Pe,"_type","highlight"),re(Pe,"_editorType",pe.HIGHLIGHT),re(Pe,"_freeHighlightId",-1),re(Pe,"_freeHighlight",null),re(Pe,"_freeHighlightClipId","");let cg=Pe;var tl,nl,pr,ei,is,sl,rl,il,ti,Eu,ol,al,fo,G,FR,OR,BR,HR,Ox,zR,Bx,$R,UR,VR,WR,GR,na,Hx,zx,$x,ym,xm,Xl,Ux,wm,Si,qR,Vx,KR,YR,Wx,bm,Nd;const Qe=class Qe extends Ie{constructor(t){super({...t,name:"inkEditor"});_(this,G);_(this,tl,0);_(this,nl,0);_(this,pr,null);_(this,ei,new Path2D);_(this,is,!1);_(this,sl,null);_(this,rl,!1);_(this,il,!1);_(this,ti,null);_(this,Eu,null);_(this,ol,0);_(this,al,0);_(this,fo,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,s){Ie.initialize(t,s)}static updateDefaultParams(t,s){switch(t){case ie.INK_THICKNESS:Qe._defaultThickness=s;break;case ie.INK_COLOR:Qe._defaultColor=s;break;case ie.INK_OPACITY:Qe._defaultOpacity=s/100;break}}updateParams(t,s){switch(t){case ie.INK_THICKNESS:C(this,G,FR).call(this,s);break;case ie.INK_COLOR:C(this,G,OR).call(this,s);break;case ie.INK_OPACITY:C(this,G,BR).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[ie.INK_THICKNESS,Qe._defaultThickness],[ie.INK_COLOR,Qe._defaultColor||Ie._defaultLineColor],[ie.INK_OPACITY,Math.round(Qe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ie.INK_THICKNESS,this.thickness||Qe._defaultThickness],[ie.INK_COLOR,this.color||Qe._defaultColor||Ie._defaultLineColor],[ie.INK_OPACITY,Math.round(100*(this.opacity??Qe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(C(this,G,ym).call(this),C(this,G,xm).call(this)),this.isAttachedToDOM||(this.parent.add(this),C(this,G,Xl).call(this)),C(this,G,Nd).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,pr)&&(clearTimeout(c(this,pr)),A(this,pr,null)),(t=c(this,ti))==null||t.disconnect(),A(this,ti,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,s]=this.parentDimensions,r=this.width*t,i=this.height*s;this.setDimensions(r,i)}enableEditMode(){c(this,is)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,C(this,G,Hx).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),C(this,G,zx).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,is)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),A(this,is,!0),this.div.classList.add("disabled"),C(this,G,Nd).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,is)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),C(this,G,zR).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),C(this,G,Bx).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),C(this,G,$x).call(this,t)}canvasPointerleave(t){C(this,G,$x).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,is)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,i,o,a]=C(this,G,HR).call(this);if(this.setAt(r,i,0,0),this.setDims(o,a),C(this,G,ym).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,s*u,this.width*l,this.height*u),A(this,il,!0),C(this,G,Xl).call(this),this.setDims(this.width*l,this.height*u),C(this,G,na).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return C(this,G,xm).call(this),this.div}setDimensions(t,s){const r=Math.round(t),i=Math.round(s);if(c(this,ol)===r&&c(this,al)===i)return;A(this,ol,r),A(this,al,i),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=s/a,this.fixAndSetPosition(),c(this,is)&&C(this,G,Ux).call(this,t,s),C(this,G,Xl).call(this),C(this,G,na).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,s,r){var S,y,x;if(t instanceof Hb)return null;const i=await super.deserialize(t,s,r);i.thickness=t.thickness,i.color=Z.makeHexColor(...t.color),i.opacity=t.opacity;const[o,a]=i.pageDimensions,l=i.width*o,u=i.height*a,d=i.parentScale,f=t.thickness/2;A(i,is,!0),A(i,ol,Math.round(l)),A(i,al,Math.round(u));const{paths:h,rect:m,rotation:v}=t;for(let{bezier:w}of h){w=C(S=Qe,Si,KR).call(S,w,m,v);const E=[];i.paths.push(E);let T=d*(w[0]-f),P=d*(w[1]-f);for(let R=2,M=w.length;R<M;R+=6){const L=d*(w[R]-f),D=d*(w[R+1]-f),O=d*(w[R+2]-f),H=d*(w[R+3]-f),I=d*(w[R+4]-f),$=d*(w[R+5]-f);E.push([[T,P],[L,D],[O,H],[I,$]]),T=I,P=$}const k=C(this,Si,qR).call(this,E);i.bezierPath2D.push(k)}const g=C(y=i,G,Wx).call(y);return A(i,nl,Math.max(Ie.MIN_SIZE,g[2]-g[0])),A(i,tl,Math.max(Ie.MIN_SIZE,g[3]-g[1])),C(x=i,G,Ux).call(x,l,u),i}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),s=Ie._colorManager.convert(this.ctx.strokeStyle);return{annotationType:pe.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:C(this,G,YR).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};tl=new WeakMap,nl=new WeakMap,pr=new WeakMap,ei=new WeakMap,is=new WeakMap,sl=new WeakMap,rl=new WeakMap,il=new WeakMap,ti=new WeakMap,Eu=new WeakMap,ol=new WeakMap,al=new WeakMap,fo=new WeakMap,G=new WeakSet,FR=function(t){const s=i=>{this.thickness=i,C(this,G,Nd).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ie.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},OR=function(t){const s=i=>{this.color=i,C(this,G,na).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ie.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},BR=function(t){const s=i=>{this.opacity=i,C(this,G,na).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ie.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},HR=function(){const{parentRotation:t,parentDimensions:[s,r]}=this;switch(t){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},Ox=function(){const{ctx:t,color:s,opacity:r,thickness:i,parentScale:o,scaleFactor:a}=this;t.lineWidth=i*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${s}${W4(r)}`},zR=function(t,s){this.canvas.addEventListener("contextmenu",ms,{signal:this._uiManager._signal}),C(this,G,zx).call(this),A(this,sl,new AbortController);const r=this._uiManager.combinedSignal(c(this,sl));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,c(this,il)||(A(this,il,!0),C(this,G,Xl).call(this),this.thickness||(this.thickness=Qe._defaultThickness),this.color||(this.color=Qe._defaultColor||Ie._defaultLineColor),this.opacity??(this.opacity=Qe._defaultOpacity)),this.currentPath.push([t,s]),A(this,rl,!1),C(this,G,Ox).call(this),A(this,fo,()=>{C(this,G,VR).call(this),c(this,fo)&&window.requestAnimationFrame(c(this,fo))}),window.requestAnimationFrame(c(this,fo))},Bx=function(t,s){const[r,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&s===i)return;const o=this.currentPath;let a=c(this,ei);if(o.push([t,s]),A(this,rl,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,s);return}o.length===3&&(A(this,ei,a=new Path2D),a.moveTo(...o[0])),C(this,G,WR).call(this,a,...o.at(-3),...o.at(-2),t,s)},$R=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,ei).lineTo(...t)},UR=function(t,s){A(this,fo,null),t=Math.min(Math.max(t,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),C(this,G,Bx).call(this,t,s),C(this,G,$R).call(this);let r;if(this.currentPath.length!==1)r=C(this,G,GR).call(this);else{const u=[t,s];r=[[u,u.slice(),u.slice(),u]]}const i=c(this,ei),o=this.currentPath;this.currentPath=[],A(this,ei,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(r),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(C(this,G,ym).call(this),C(this,G,xm).call(this)),C(this,G,Nd).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},VR=function(){if(!c(this,rl))return;A(this,rl,!1);const t=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(a=>a[0]),i=s.map(a=>a[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...i)-t,Math.max(...i)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(c(this,ei)),o.restore()},WR=function(t,s,r,i,o,a,l){const u=(s+i)/2,d=(r+o)/2,f=(i+a)/2,h=(o+l)/2;t.bezierCurveTo(u+2*(i-u)/3,d+2*(o-d)/3,f+2*(i-f)/3,h+2*(o-h)/3,f,h)},GR=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const s=[];let r,[i,o]=t[0];for(r=1;r<t.length-2;r++){const[m,v]=t[r],[g,S]=t[r+1],y=(m+g)/2,x=(v+S)/2,w=[i+2*(m-i)/3,o+2*(v-o)/3],E=[y+2*(m-y)/3,x+2*(v-x)/3];s.push([[i,o],w,E,[y,x]]),[i,o]=[y,x]}const[a,l]=t[r],[u,d]=t[r+1],f=[i+2*(a-i)/3,o+2*(l-o)/3],h=[u+2*(a-u)/3,d+2*(l-d)/3];return s.push([[i,o],f,h,[u,d]]),s},na=function(){if(this.isEmpty()){C(this,G,wm).call(this);return}C(this,G,Ox).call(this);const{canvas:t,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.width,t.height),C(this,G,wm).call(this);for(const r of this.bezierPath2D)s.stroke(r)},Hx=function(){if(c(this,Eu))return;A(this,Eu,new AbortController);const t=this._uiManager.combinedSignal(c(this,Eu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},zx=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},$x=function(t){var s;(s=c(this,sl))==null||s.abort(),A(this,sl,null),C(this,G,Hx).call(this),c(this,pr)&&clearTimeout(c(this,pr)),A(this,pr,setTimeout(()=>{A(this,pr,null),this.canvas.removeEventListener("contextmenu",ms)},10)),C(this,G,UR).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},ym=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},xm=function(){A(this,ti,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),c(this,ti).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,ti))==null||t.disconnect(),A(this,ti,null)},{once:!0})},Xl=function(){if(!c(this,il))return;const[t,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*s),C(this,G,wm).call(this)},Ux=function(t,s){const r=C(this,G,bm).call(this),i=(t-r)/c(this,nl),o=(s-r)/c(this,tl);this.scaleFactor=Math.min(i,o)},wm=function(){const t=C(this,G,bm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Si=new WeakSet,qR=function(t){const s=new Path2D;for(let r=0,i=t.length;r<i;r++){const[o,a,l,u]=t[r];r===0&&s.moveTo(...o),s.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return s},Vx=function(t,s,r){const[i,o,a,l]=s;switch(r){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]+=i,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const f=t[u];t[u]=t[u+1]+i,t[u+1]=f+o}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]+=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const f=t[u];t[u]=a-t[u+1],t[u+1]=l-f}break;default:throw new Error("Invalid rotation")}return t},KR=function(t,s,r){const[i,o,a,l]=s;switch(r){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]-=i,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const f=t[u];t[u]=t[u+1]-o,t[u+1]=f-i}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]-=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const f=t[u];t[u]=l-t[u+1],t[u+1]=a-f}break;default:throw new Error("Invalid rotation")}return t},YR=function(t,s,r,i){var d,f;const o=[],a=this.thickness/2,l=t*s+a,u=t*r+a;for(const h of this.paths){const m=[],v=[];for(let g=0,S=h.length;g<S;g++){const[y,x,w,E]=h[g];if(y[0]===E[0]&&y[1]===E[1]&&S===1){const H=t*y[0]+l,I=t*y[1]+u;m.push(H,I),v.push(H,I);break}const T=t*y[0]+l,P=t*y[1]+u,k=t*x[0]+l,R=t*x[1]+u,M=t*w[0]+l,L=t*w[1]+u,D=t*E[0]+l,O=t*E[1]+u;g===0&&(m.push(T,P),v.push(T,P)),m.push(k,R,M,L,D,O),v.push(k,R),g===S-1&&v.push(D,O)}o.push({bezier:C(d=Qe,Si,Vx).call(d,m,i,this.rotation),points:C(f=Qe,Si,Vx).call(f,v,i,this.rotation)})}return o},Wx=function(){let t=1/0,s=-1/0,r=1/0,i=-1/0;for(const o of this.paths)for(const[a,l,u,d]of o){const f=Z.bezierBoundingBox(...a,...l,...u,...d);t=Math.min(t,f[0]),r=Math.min(r,f[1]),s=Math.max(s,f[2]),i=Math.max(i,f[3])}return[t,r,s,i]},bm=function(){return c(this,is)?Math.ceil(this.thickness*this.parentScale):0},Nd=function(t=!1){if(this.isEmpty())return;if(!c(this,is)){C(this,G,na).call(this);return}const s=C(this,G,Wx).call(this),r=C(this,G,bm).call(this);A(this,nl,Math.max(Ie.MIN_SIZE,s[2]-s[0])),A(this,tl,Math.max(Ie.MIN_SIZE,s[3]-s[1]));const i=Math.ceil(r+c(this,nl)*this.scaleFactor),o=Math.ceil(r+c(this,tl)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=i/a,this.height=o/l,this.setAspectRatio(i,o);const u=this.translationX,d=this.translationY;this.translationX=-s[0],this.translationY=-s[1],C(this,G,Xl).call(this),C(this,G,na).call(this),A(this,ol,i),A(this,al,o),this.setDims(i,o);const f=t?r/this.scaleFactor/2:0;this.translate(u-this.translationX-f,d-this.translationY-f)},_(Qe,Si),re(Qe,"_defaultColor",null),re(Qe,"_defaultOpacity",1),re(Qe,"_defaultThickness",1),re(Qe,"_type","ink"),re(Qe,"_editorType",pe.INK);let Fx=Qe;var Ze,Ot,po,ni,mo,Cu,mr,si,gr,Bn,_u,be,Md,Ld,Sm,qx,XR,Am,Kx,Em,QR,JR;const Gd=class Gd extends Ie{constructor(t){super({...t,name:"stampEditor"});_(this,be);_(this,Ze,null);_(this,Ot,null);_(this,po,null);_(this,ni,null);_(this,mo,null);_(this,Cu,"");_(this,mr,null);_(this,si,null);_(this,gr,null);_(this,Bn,!1);_(this,_u,!1);A(this,ni,t.bitmapUrl),A(this,mo,t.bitmapFile)}static initialize(t,s){Ie.initialize(t,s)}static get supportedTypes(){return Ae(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Ae(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,s){s.pasteEditor(pe.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:i,width:o,height:a,channels:i.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),s&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t,s;c(this,Ot)&&(A(this,Ze,null),this._uiManager.imageManager.deleteId(c(this,Ot)),(t=c(this,mr))==null||t.remove(),A(this,mr,null),(s=c(this,si))==null||s.disconnect(),A(this,si,null),c(this,gr)&&(clearTimeout(c(this,gr)),A(this,gr,null))),super.remove()}rebuild(){if(!this.parent){c(this,Ot)&&C(this,be,Sm).call(this);return}super.rebuild(),this.div!==null&&(c(this,Ot)&&c(this,mr)===null&&C(this,be,Sm).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,po)||c(this,Ze)||c(this,ni)||c(this,mo)||c(this,Ot))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;if(this.width&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),c(this,Ze)?C(this,be,qx).call(this):C(this,be,Sm).call(this),this.width&&!this.annotationElementId){const[r,i]=this.parentDimensions;this.setAt(t*r,s*i,this.width*r,this.height*i)}return this.div}copyCanvas(t,s,r=!1){var m;t||(t=224);const{width:i,height:o}=c(this,Ze),a=new $0;let l=c(this,Ze),u=i,d=o,f=null;if(s){if(i>s||o>s){const R=Math.min(s/i,s/o);u=Math.floor(i*R),d=Math.floor(o*R)}f=document.createElement("canvas");const v=f.width=Math.ceil(u*a.sx),g=f.height=Math.ceil(d*a.sy);c(this,Bn)||(l=C(this,be,Am).call(this,v,g));const S=f.getContext("2d");S.filter=this._uiManager.hcmFilter;let y="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":(m=window.matchMedia)!=null&&m.call(window,"(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",x="#42414d");const w=15,E=w*a.sx,T=w*a.sy,P=new OffscreenCanvas(E*2,T*2),k=P.getContext("2d");k.fillStyle=y,k.fillRect(0,0,E*2,T*2),k.fillStyle=x,k.fillRect(0,0,E,T),k.fillRect(E,T,E,T),S.fillStyle=S.createPattern(P,"repeat"),S.fillRect(0,0,v,g),S.drawImage(l,0,0,l.width,l.height,0,0,v,g)}let h=null;if(r){let v,g;if(a.symmetric&&l.width<t&&l.height<t)v=l.width,g=l.height;else if(l=c(this,Ze),i>t||o>t){const x=Math.min(t/i,t/o);v=Math.floor(i*x),g=Math.floor(o*x),c(this,Bn)||(l=C(this,be,Am).call(this,v,g))}const y=new OffscreenCanvas(v,g).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,v,g),h={width:v,height:g,data:y.getImageData(0,0,v,g).data}}return{canvas:f,width:u,height:d,imageData:h}}getImageForAltText(){return c(this,mr)}static async deserialize(t,s,r){var g;let i=null;if(t instanceof lR){const{data:{rect:S,rotation:y,id:x,structParent:w,popupRef:E},container:T,parent:{page:{pageNumber:P}}}=t,k=T.querySelector("canvas"),R=r.imageManager.getFromCanvas(T.id,k);k.remove();const M=((g=await s._structTree.getAriaAttributes(`${kb}${x}`))==null?void 0:g.get("aria-label"))||"";i=t={annotationType:pe.STAMP,bitmapId:R.id,bitmap:R.bitmap,pageIndex:P-1,rect:S.slice(0),rotation:y,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:M},isSvg:!1,structParent:w,popupRef:E}}const o=await super.deserialize(t,s,r),{rect:a,bitmap:l,bitmapUrl:u,bitmapId:d,isSvg:f,accessibilityData:h}=t;d&&r.imageManager.isValidId(d)?(A(o,Ot,d),l&&A(o,Ze,l)):A(o,ni,u),A(o,Bn,f);const[m,v]=o.pageDimensions;return o.width=(a[2]-a[0])/m,o.height=(a[3]-a[1])/v,o.annotationElementId=t.id||null,h&&(o.altTextData=h),o._initialData=i,A(o,_u,!!i),o}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:pe.STAMP,bitmapId:c(this,Ot),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,Bn),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=C(this,be,Em).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:i,altText:o}=this.serializeAltText(!1);if(!i&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=C(this,be,JR).call(this,r);if(l.isSame)return null;l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const a=c(this,Bn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(c(this,Ot)))s.stamps.set(c(this,Ot),{area:a,serialized:r}),r.bitmap=C(this,be,Em).call(this,!1);else if(c(this,Bn)){const l=s.stamps.get(c(this,Ot));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=C(this,be,Em).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Ze=new WeakMap,Ot=new WeakMap,po=new WeakMap,ni=new WeakMap,mo=new WeakMap,Cu=new WeakMap,mr=new WeakMap,si=new WeakMap,gr=new WeakMap,Bn=new WeakMap,_u=new WeakMap,be=new WeakSet,Md=function(t,s=!1){if(!t){this.remove();return}A(this,Ze,t.bitmap),s||(A(this,Ot,t.id),A(this,Bn,t.isSvg)),t.file&&A(this,Cu,t.file.name),C(this,be,qx).call(this)},Ld=function(){if(A(this,po,null),this._uiManager.enableWaiting(!1),!!c(this,mr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,Ze)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,Ze)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Sm=function(){if(c(this,Ot)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,Ot)).then(r=>C(this,be,Md).call(this,r,!0)).finally(()=>C(this,be,Ld).call(this));return}if(c(this,ni)){const r=c(this,ni);A(this,ni,null),this._uiManager.enableWaiting(!0),A(this,po,this._uiManager.imageManager.getFromUrl(r).then(i=>C(this,be,Md).call(this,i)).finally(()=>C(this,be,Ld).call(this)));return}if(c(this,mo)){const r=c(this,mo);A(this,mo,null),this._uiManager.enableWaiting(!0),A(this,po,this._uiManager.imageManager.getFromFile(r).then(i=>C(this,be,Md).call(this,i)).finally(()=>C(this,be,Ld).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Gd.supportedTypesStr;const s=this._uiManager._signal;A(this,po,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),C(this,be,Md).call(this,i)}r()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>C(this,be,Ld).call(this))),t.click()},qx=function(){const{div:t}=this;let{width:s,height:r}=c(this,Ze);const[i,o]=this.pageDimensions,a=.75;if(this.width)s=this.width*i,r=this.height*o;else if(s>a*i||r>a*o){const f=Math.min(a*i/s,a*o/r);s*=f,r*=f}const[l,u]=this.parentDimensions;this.setDims(s*l/i,r*u/o),this._uiManager.enableWaiting(!1);const d=A(this,mr,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),C(this,be,Kx).call(this,s,r),C(this,be,QR).call(this),c(this,_u)||(this.parent.addUndoableEditor(this),A(this,_u,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Cu)&&d.setAttribute("aria-label",c(this,Cu))},XR=function(t,s){var a;const[r,i]=this.parentDimensions;this.width=t/r,this.height=s/i,(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,gr)!==null&&clearTimeout(c(this,gr)),A(this,gr,setTimeout(()=>{A(this,gr,null),C(this,be,Kx).call(this,t,s)},200))},Am=function(t,s){const{width:r,height:i}=c(this,Ze);let o=r,a=i,l=c(this,Ze);for(;o>2*t||a>2*s;){const u=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*s&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const f=new OffscreenCanvas(o,a);f.getContext("2d").drawImage(l,0,0,u,d,0,0,o,a),l=f.transferToImageBitmap()}return l},Kx=function(t,s){const r=new $0,i=Math.ceil(t*r.sx),o=Math.ceil(s*r.sy),a=c(this,mr);if(!a||a.width===i&&a.height===o)return;a.width=i,a.height=o;const l=c(this,Bn)?c(this,Ze):C(this,be,Am).call(this,i,o),u=a.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(l,0,0,l.width,l.height,0,0,i,o)},Em=function(t){if(t){if(c(this,Bn)){const i=this._uiManager.imageManager.getSvgUrl(c(this,Ot));if(i)return i}const s=document.createElement("canvas");return{width:s.width,height:s.height}=c(this,Ze),s.getContext("2d").drawImage(c(this,Ze),0,0),s.toDataURL()}if(c(this,Bn)){const[s,r]=this.pageDimensions,i=Math.round(this.width*s*Oo.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Oo.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,o);return a.getContext("2d").drawImage(c(this,Ze),0,0,c(this,Ze).width,c(this,Ze).height,0,0,i,o),a.transferToImageBitmap()}return structuredClone(c(this,Ze))},QR=function(){this._uiManager._signal&&(A(this,si,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&C(this,be,XR).call(this,s.width,s.height)})),c(this,si).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,si))==null||t.disconnect(),A(this,si,null)},{once:!0}))},JR=function(t){var u;const{rect:s,pageIndex:r,accessibilityData:{altText:i}}=this._initialData,o=t.rect.every((d,f)=>Math.abs(d-s[f])<1),a=t.pageIndex===r,l=(((u=t.accessibilityData)==null?void 0:u.alt)||"")===i;return{isSame:o&&a&&l,isSameAltText:l}},re(Gd,"_type","stamp"),re(Gd,"_editorType",pe.STAMP);let Gx=Gd;var ll,Tu,vr,go,ri,Hn,vo,Pu,ku,Qt,ii,ne,yo,zt,ZR,Xx,Qx,Jx,Cm;const xs=class xs{constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:r,accessibilityManager:i,annotationLayer:o,drawLayer:a,textLayer:l,viewport:u,l10n:d}){_(this,zt);_(this,ll);_(this,Tu,!1);_(this,vr,null);_(this,go,null);_(this,ri,null);_(this,Hn,new Map);_(this,vo,!1);_(this,Pu,!1);_(this,ku,!1);_(this,Qt,null);_(this,ii,null);_(this,ne);const f=[...c(xs,yo).values()];if(!xs._initialized){xs._initialized=!0;for(const h of f)h.initialize(d,e)}e.registerEditorTypes(f),A(this,ne,e),this.pageIndex=t,this.div=s,A(this,ll,i),A(this,vr,o),this.viewport=u,A(this,Qt,l),this.drawLayer=a,this._structTree=r,c(this,ne).addLayer(this)}get isEmpty(){return c(this,Hn).size===0}get isInvisible(){return this.isEmpty&&c(this,ne).getMode()===pe.NONE}updateToolbar(e){c(this,ne).updateToolbar(e)}updateMode(e=c(this,ne).getMode()){switch(C(this,zt,Cm).call(this),e){case pe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case pe.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case pe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const s of c(xs,yo).values())t.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,Qt))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,ne).getMode()!==pe.INK)return;if(!e){for(const s of c(this,Hn).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,ne).setEditingState(e)}addCommands(e){c(this,ne).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,vr))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const s of c(this,Hn).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(c(this,ne).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!c(this,vr))return;const t=c(this,vr).getEditableAnnotations();for(const s of t){if(s.hide(),c(this,ne).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;A(this,ku,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of c(this,Hn).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);(r=this.getEditableAnnotation(i.annotationElementId))==null||r.show(),i.remove()}if(c(this,vr)){const i=c(this,vr).getEditableAnnotations();for(const o of i){const{id:a}=o.data;if(c(this,ne).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(c(this,ne).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}C(this,zt,Cm).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const i of c(xs,yo).values())s.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),A(this,ku,!1)}getEditableAnnotation(e){var t;return((t=c(this,vr))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,ne).getActive()!==e&&c(this,ne).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=c(this,Qt))!=null&&e.div&&!c(this,ii)){A(this,ii,new AbortController);const t=c(this,ne).combinedSignal(c(this,ii));c(this,Qt).div.addEventListener("pointerdown",C(this,zt,ZR).bind(this),{signal:t}),c(this,Qt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,Qt))!=null&&e.div&&c(this,ii)&&(c(this,ii).abort(),A(this,ii,null),c(this,Qt).div.classList.remove("highlighting"))}enableClick(){if(c(this,go))return;A(this,go,new AbortController);const e=c(this,ne).combinedSignal(c(this,go));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=c(this,go))==null||e.abort(),A(this,go,null)}attach(e){c(this,Hn).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,ne).isDeletedAnnotationElement(t)&&c(this,ne).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,Hn).delete(e.id),(t=c(this,ll))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,ku)&&e.annotationElementId&&c(this,ne).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,ne).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,Pu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,ne).addDeletedAnnotationElement(e.annotationElementId),Ie.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,ne).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,ne).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,ri)&&(e._focusEventsAllowed=!1,A(this,ri,setTimeout(()=>{A(this,ri,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,ne)._signal}),t.focus())},0))),e._structTreeParentId=(s=c(this,ll))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getNextId(){return c(this,ne).getId()}combinedSignal(e){return c(this,ne).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=c(this,zt,Xx))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,ne).updateToolbar(e),c(this,ne).updateMode(e);const{offsetX:s,offsetY:r}=C(this,zt,Jx).call(this),i=this.getNextId(),o=C(this,zt,Qx).call(this,{parent:this,id:i,x:s,y:r,uiManager:c(this,ne),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=c(xs,yo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,ne)))||null}createAndAddNewEditor(e,t,s={}){const r=this.getNextId(),i=C(this,zt,Qx).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:c(this,ne),isCentered:t,...s});return i&&this.add(i),i}addNewEditor(){this.createAndAddNewEditor(C(this,zt,Jx).call(this),!0)}setSelected(e){c(this,ne).setSelected(e)}toggleSelected(e){c(this,ne).toggleSelected(e)}unselect(e){c(this,ne).unselect(e)}pointerup(e){const{isMac:t}=dn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,vo)){if(A(this,vo,!1),!c(this,Tu)){A(this,Tu,!0);return}if(c(this,ne).getMode()===pe.STAMP){c(this,ne).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,ne).getMode()===pe.HIGHLIGHT&&this.enableTextSelection(),c(this,vo)){A(this,vo,!1);return}const{isMac:t}=dn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;A(this,vo,!0);const s=c(this,ne).getActive();A(this,Tu,!s||s.isEmpty())}findNewParent(e,t,s){const r=c(this,ne).findParent(t,s);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=c(this,ne).getActive())==null?void 0:e.parent)===this&&(c(this,ne).commitOrRemove(),c(this,ne).setActiveEditor(null)),c(this,ri)&&(clearTimeout(c(this,ri)),A(this,ri,null));for(const s of c(this,Hn).values())(t=c(this,ll))==null||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,c(this,Hn).clear(),c(this,ne).removeLayer(this)}render({viewport:e}){this.viewport=e,yl(this.div,e);for(const t of c(this,ne).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,ne).commitOrRemove(),C(this,zt,Cm).call(this);const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,yl(this.div,{rotation:s}),t!==s)for(const r of c(this,Hn).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,ne).viewParameters.realScale}};ll=new WeakMap,Tu=new WeakMap,vr=new WeakMap,go=new WeakMap,ri=new WeakMap,Hn=new WeakMap,vo=new WeakMap,Pu=new WeakMap,ku=new WeakMap,Qt=new WeakMap,ii=new WeakMap,ne=new WeakMap,yo=new WeakMap,zt=new WeakSet,ZR=function(e){c(this,ne).unselectAll();const{target:t}=e;if(t===c(this,Qt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&c(this,Qt).div.contains(t)){const{isMac:s}=dn.platform;if(e.button!==0||e.ctrlKey&&s)return;c(this,ne).showAllEditors("highlight",!0,!0),c(this,Qt).div.classList.add("free"),this.toggleDrawing(),cg.startHighlighting(this,c(this,ne).direction==="ltr",{target:c(this,Qt).div,x:e.x,y:e.y}),c(this,Qt).div.addEventListener("pointerup",()=>{c(this,Qt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:c(this,ne)._signal}),e.preventDefault()}},Xx=function(){return c(xs,yo).get(c(this,ne).getMode())},Qx=function(e){const t=c(this,zt,Xx);return t?new t.prototype.constructor(e):null},Jx=function(){const{x:e,y:t,width:s,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+s),l=Math.min(window.innerHeight,t+r),u=(i+a)/2-e,d=(o+l)/2-t,[f,h]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:f,offsetY:h}},Cm=function(){A(this,Pu,!0);for(const e of c(this,Hn).values())e.isEmpty()&&e.remove();A(this,Pu,!1)},re(xs,"_initialized",!1),_(xs,yo,new Map([Px,Fx,Gx,cg].map(e=>[e._editorType,e])));let Yx=xs;var yr,Ff,pt,oi,Of,ew,Al,tw,eN;const Dt=class Dt{constructor({pageIndex:e}){_(this,Al);_(this,yr,null);_(this,Ff,0);_(this,pt,new Map);_(this,oi,new Map);this.pageIndex=e}setParent(e){if(!c(this,yr)){A(this,yr,e);return}if(c(this,yr)!==e){if(c(this,pt).size>0)for(const t of c(this,pt).values())t.remove(),e.append(t);A(this,yr,e)}}static get _svgFactory(){return Ae(this,"_svgFactory",new Bb)}draw(e,t,s,r=!1){const i=_t(this,Ff)._++,o=C(this,Al,tw).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const a=Dt._svgFactory.createElement("defs");o.append(a);const l=Dt._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),r&&c(this,oi).set(i,l);const d=C(this,Al,eN).call(this,a,u),f=Dt._svgFactory.createElement("use");return o.append(f),o.setAttribute("fill",t),o.setAttribute("fill-opacity",s),f.setAttribute("href",`#${u}`),c(this,pt).set(i,o),{id:i,clipPathId:`url(#${d})`}}drawOutline(e){const t=_t(this,Ff)._++,s=C(this,Al,tw).call(this,e.box);s.classList.add(...e.classNamesForOutlining);const r=Dt._svgFactory.createElement("defs");s.append(r);const i=Dt._svgFactory.createElement("path");r.append(i);const o=`path_p${this.pageIndex}_${t}`;i.setAttribute("id",o),i.setAttribute("d",e.toSVGPath()),i.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.mustRemoveSelfIntersections){const d=Dt._svgFactory.createElement("mask");r.append(d),a=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",a),d.setAttribute("maskUnits","objectBoundingBox");const f=Dt._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const h=Dt._svgFactory.createElement("use");d.append(h),h.setAttribute("href",`#${o}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const l=Dt._svgFactory.createElement("use");s.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return s.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),c(this,pt).set(t,s),t}finalizeLine(e,t){const s=c(this,oi).get(e);c(this,oi).delete(e),this.updateBox(e,t.box),s.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,pt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){c(this,oi).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var s;C(s=Dt,Of,ew).call(s,c(this,pt).get(e),t)}show(e,t){c(this,pt).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,pt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,pt).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,pt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,pt).get(e).classList.add(t)}removeClass(e,t){c(this,pt).get(e).classList.remove(t)}getSVGRoot(e){return c(this,pt).get(e)}remove(e){c(this,oi).delete(e),c(this,yr)!==null&&(c(this,pt).get(e).remove(),c(this,pt).delete(e))}destroy(){A(this,yr,null);for(const e of c(this,pt).values())e.remove();c(this,pt).clear(),c(this,oi).clear()}};yr=new WeakMap,Ff=new WeakMap,pt=new WeakMap,oi=new WeakMap,Of=new WeakSet,ew=function(e,{x:t=0,y:s=0,width:r=1,height:i=1}={}){const{style:o}=e;o.top=`${100*s}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*i}%`},Al=new WeakSet,tw=function(e){var s;const t=Dt._svgFactory.create(1,1,!0);return c(this,yr).append(t),t.setAttribute("aria-hidden",!0),C(s=Dt,Of,ew).call(s,t,e),t},eN=function(e,t){const s=Dt._svgFactory.createElement("clipPath");e.append(s);const r=`clip_${t}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const i=Dt._svgFactory.createElement("use");return s.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),r},_(Dt,Of);let Zx=Dt;var EB=le.AbortException,CB=le.AnnotationEditorLayer,_B=le.AnnotationEditorParamsType,TB=le.AnnotationEditorType,PB=le.AnnotationEditorUIManager,tN=le.AnnotationLayer,nN=le.AnnotationMode,kB=le.ColorPicker,RB=le.DOMSVGFactory,NB=le.DrawLayer,MB=le.FeatureTest,zb=le.GlobalWorkerOptions,LB=le.ImageKind,IB=le.InvalidPDFException,DB=le.MissingPDFException,jB=le.OPS,FB=le.OutputScale,OB=le.PDFDataRangeTransport,BB=le.PDFDateString,HB=le.PDFWorker,zB=le.PasswordResponses,$B=le.PermissionFlag,UB=le.PixelsPerInch,VB=le.RenderingCancelledException,sN=le.TextLayer,WB=le.UnexpectedResponseException,GB=le.Util,qB=le.VerbosityLevel,KB=le.XfaLayer,YB=le.build,XB=le.createValidAbsoluteUrl,QB=le.fetchData,rN=le.getDocument,JB=le.getFilenameFromUrl,ZB=le.getPdfFilenameFromUrl,eH=le.getXfaPageViewport,tH=le.isDataScheme,nH=le.isPdfFile,sH=le.noContextMenu,rH=le.normalizeUnicode,iH=le.setLayerDimensions,oH=le.shadow,iN=le.version;const aH=Object.freeze(Object.defineProperty({__proto__:null,AbortException:EB,AnnotationEditorLayer:CB,AnnotationEditorParamsType:_B,AnnotationEditorType:TB,AnnotationEditorUIManager:PB,AnnotationLayer:tN,AnnotationMode:nN,ColorPicker:kB,DOMSVGFactory:RB,DrawLayer:NB,FeatureTest:MB,GlobalWorkerOptions:zb,ImageKind:LB,InvalidPDFException:IB,MissingPDFException:DB,OPS:jB,OutputScale:FB,PDFDataRangeTransport:OB,PDFDateString:BB,PDFWorker:HB,PasswordResponses:zB,PermissionFlag:$B,PixelsPerInch:UB,RenderingCancelledException:VB,TextLayer:sN,UnexpectedResponseException:WB,Util:GB,VerbosityLevel:qB,XfaLayer:KB,build:YB,createValidAbsoluteUrl:XB,fetchData:QB,getDocument:rN,getFilenameFromUrl:JB,getPdfFilenameFromUrl:ZB,getXfaPageViewport:eH,isDataScheme:tH,isPdfFile:nH,noContextMenu:sH,normalizeUnicode:rH,setLayerDimensions:iH,shadow:oH,version:iN},Symbol.toStringTag,{value:"Module"}));var Tt=function(n,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return n.concat(i||Array.prototype.slice.call(e))},lH=["onCopy","onCut","onPaste"],cH=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],uH=["onFocus","onBlur"],dH=["onInput","onInvalid","onReset","onSubmit"],hH=["onLoad","onError"],fH=["onKeyDown","onKeyPress","onKeyUp"],pH=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mH=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],gH=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],vH=["onSelect"],yH=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],xH=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],wH=["onScroll"],bH=["onWheel"],SH=["onAnimationStart","onAnimationEnd","onAnimationIteration"],AH=["onTransitionEnd"],EH=["onToggle"],CH=["onChange"],_H=Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt(Tt([],lH,!0),cH,!0),uH,!0),dH,!0),hH,!0),fH,!0),pH,!0),mH,!0),gH,!0),vH,!0),yH,!0),xH,!0),wH,!0),bH,!0),SH,!0),AH,!0),CH,!0),EH,!0);function oN(n,e){var t={};return _H.forEach(function(s){var r=n[s];r&&(e?t[s]=function(i){return r(i,e(s))}:t[s]=r)}),t}function Jf(n){var e=!1,t=new Promise(function(s,r){n.then(function(i){return!e&&s(i)}).catch(function(i){return!e&&r(i)})});return{promise:t,cancel:function(){e=!0}}}var TH="Invariant failed";function Be(n,e){if(!n)throw new Error(TH)}var PH=function(){},kH=PH;const Zt=rw(kH);var yA=Object.prototype.hasOwnProperty;function xA(n,e,t){for(t of n.keys())if(bc(t,e))return t}function bc(n,e){var t,s,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((s=n.length)===e.length)for(;s--&&bc(n[s],e[s]););return s===-1}if(t===Set){if(n.size!==e.size)return!1;for(s of n)if(r=s,r&&typeof r=="object"&&(r=xA(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(s of n)if(r=s[0],r&&typeof r=="object"&&(r=xA(e,r),!r)||!bc(s[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((s=n.byteLength)===e.byteLength)for(;s--&&n.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(n)){if((s=n.byteLength)===e.byteLength)for(;s--&&n[s]===e[s];);return s===-1}if(!t||typeof n=="object"){s=0;for(t in n)if(yA.call(n,t)&&++s&&!yA.call(e,t)||!(t in e)||!bc(n[t],e[t]))return!1;return Object.keys(e).length===s}}return n!==n&&e!==e}const aN=b.createContext(null);function Sc({children:n,type:e}){return p.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const RH="noopener noreferrer nofollow";class NH{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Be(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Be(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Be(this.pdfDocument),Be(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Be(Array.isArray(t));const s=t[0];new Promise(r=>{Be(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(i=>{r(i)}).catch(()=>{Be(!1)}):typeof s=="number"?r(s):Be(!1)}).then(r=>{const i=r+1;Be(this.pdfViewer),Be(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:i})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Be(this.pdfViewer),Be(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||RH,e.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const wA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},yv=typeof window<"u",lN=yv&&window.location.protocol==="file:";function MH(n){return typeof n<"u"}function Xo(n){return MH(n)&&n!==null}function LH(n){return typeof n=="string"}function IH(n){return n instanceof ArrayBuffer}function DH(n){return Be(yv),n instanceof Blob}function nw(n){return LH(n)&&/^data:/.test(n)}function bA(n){Be(nw(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function jH(){return yv&&window.devicePixelRatio||1}const cN="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function SA(){Zt(!lN,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${cN}`)}function FH(){Zt(!lN,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${cN}`)}function bl(n){n!=null&&n.cancel&&n.cancel()}function sw(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function OH(n){return n.name==="RenderingCancelledException"}function BH(n){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:i}=r.target;if(!i)return t(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(n)})}function HH(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Hu(){return b.useReducer(HH,{value:void 0,error:void 0})}var zH=function(n,e,t,s){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(d){try{u(s.next(d))}catch(f){o(f)}}function l(d){try{u(s.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):r(d.value).then(a,l)}u((s=s.apply(n,e||[])).next())})},AA=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};const{PDFDataRangeTransport:$H}=aH,UH=(n,e)=>{switch(e){case wA.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case wA.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function EA(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const VH=b.forwardRef(function(e,t){var{children:s,className:r,error:i="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF",noData:h="No PDF file specified.",onItemClick:m,onLoadError:v,onLoadProgress:g,onLoadSuccess:S,onPassword:y=UH,onSourceError:x,onSourceSuccess:w,options:E,renderMode:T,rotate:P}=e,k=AA(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[R,M]=Hu(),{value:L,error:D}=R,[O,H]=Hu(),{value:I,error:$}=O,j=b.useRef(new NH),F=b.useRef([]),N=b.useRef(void 0),B=b.useRef(void 0);l&&l!==N.current&&EA(l)&&(Zt(!bc(l,N.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),N.current=l),E&&E!==B.current&&(Zt(!bc(E,B.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),B.current=E);const q=b.useRef({scrollPageIntoView:ue=>{const{dest:Ce,pageNumber:Ue,pageIndex:Te=Ue-1}=ue;if(m){m({dest:Ce,pageIndex:Te,pageNumber:Ue});return}const gn=F.current[Te];if(gn){gn.scrollIntoView();return}Zt(!1,`An internal link leading to page ${Ue} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});b.useImperativeHandle(t,()=>({linkService:j,pages:F,viewer:q}),[]);function U(){w&&w()}function K(){D&&(Zt(!1,D.toString()),x&&x(D))}function J(){M({type:"RESET"})}b.useEffect(J,[l,M]);const se=b.useCallback(()=>zH(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return nw(l)?{data:bA(l)}:(SA(),{url:l});if(l instanceof $H)return{range:l};if(IH(l))return{data:l};if(yv&&DH(l))return{data:yield BH(l)};if(Be(typeof l=="object"),Be(EA(l)),"url"in l&&typeof l.url=="string"){if(nw(l.url)){const{url:ue}=l,Ce=AA(l,["url"]),Ue=bA(ue);return Object.assign({data:Ue},Ce)}SA()}return l}),[l]);b.useEffect(()=>{const ue=Jf(se());return ue.promise.then(Ce=>{M({type:"RESOLVE",value:Ce})}).catch(Ce=>{M({type:"REJECT",error:Ce})}),()=>{bl(ue)}},[se,M]),b.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){K();return}U()}},[L]);function Re(){I&&(S&&S(I),F.current=new Array(I.numPages),j.current.setDocument(I))}function ee(){$&&(Zt(!1,$.toString()),v&&v($))}b.useEffect(function(){H({type:"RESET"})},[H,L]),b.useEffect(function(){if(!L)return;const Ce=E?Object.assign(Object.assign({},L),E):L,Ue=rN(Ce);g&&(Ue.onProgress=g),y&&(Ue.onPassword=y);const Te=Ue,gn=Te.promise.then(Tr=>{H({type:"RESOLVE",value:Tr})}).catch(Tr=>{Te.destroyed||H({type:"REJECT",error:Tr})});return()=>{gn.finally(()=>Te.destroy())}},[E,H,L]),b.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){ee();return}Re()}},[I]),b.useEffect(function(){j.current.setViewer(q.current),j.current.setExternalLinkRel(o),j.current.setExternalLinkTarget(a)},[o,a]);const V=b.useCallback((ue,Ce)=>{F.current[ue]=Ce},[]),ce=b.useCallback(ue=>{delete F.current[ue]},[]),Ee=b.useMemo(()=>({imageResourcesPath:d,linkService:j.current,onItemClick:m,pdf:I,registerPage:V,renderMode:T,rotate:P,unregisterPage:ce}),[d,m,I,V,T,P,ce]),te=b.useMemo(()=>oN(k,()=>I),[k,I]);function we(){return p.jsx(aN.Provider,{value:Ee,children:s})}function ve(){return l?I==null?p.jsx(Sc,{type:"loading",children:typeof f=="function"?f():f}):I===!1?p.jsx(Sc,{type:"error",children:typeof i=="function"?i():i}):we():p.jsx(Sc,{type:"no-data",children:typeof h=="function"?h():h})}return p.jsx("div",Object.assign({className:Vu("react-pdf__Document",r),ref:u,style:{"--scale-factor":"1"}},te,{children:ve()}))});function uN(){return b.useContext(aN)}function dN(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(i){t.forEach(function(o){typeof o=="function"?o(i):o&&(o.current=i)})}}const hN=b.createContext(null),fN={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},WH=/^H(\d+)$/;function GH(n){return n in fN}function xv(n){return"children"in n}function pN(n){return xv(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function qH(n){const e={};if(xv(n)){const{role:t}=n,s=t.match(WH);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(GH(t)){const r=fN[t];r&&(e.role=r)}}return e}function mN(n){const e={};if(xv(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),pN(n)){const[t]=n.children;if(t){const s=mN(t);return Object.assign(Object.assign({},e),s)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function KH(n){return n?Object.assign(Object.assign({},qH(n)),mN(n)):null}function gN({className:n,node:e}){const t=b.useMemo(()=>KH(e),[e]),s=b.useMemo(()=>!xv(e)||pN(e)?null:e.children.map((r,i)=>p.jsx(gN,{node:r},i)),[e]);return p.jsx("span",Object.assign({className:n},t,{children:s}))}function wv(){return b.useContext(hN)}function YH(){const n=wv();Be(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[s,r]=Hu(),{value:i,error:o}=s,{customTextRenderer:a,page:l}=n;function u(){i&&t&&t(i)}function d(){o&&(Zt(!1,o.toString()),e&&e(o))}return b.useEffect(function(){r({type:"RESET"})},[r,l]),b.useEffect(function(){if(a||!l)return;const h=Jf(l.getStructTree()),m=h;return h.promise.then(v=>{r({type:"RESOLVE",value:v})}).catch(v=>{r({type:"REJECT",error:v})}),()=>bl(m)},[a,l,r]),b.useEffect(()=>{if(i!==void 0){if(i===!1){d();return}u()}},[i]),i?p.jsx(gN,{className:"react-pdf__Page__structTree structTree",node:i}):null}const CA=nN;function XH(n){const e=wv();Be(e);const t=Object.assign(Object.assign({},e),n),{_className:s,canvasBackground:r,devicePixelRatio:i=jH(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:u,renderTextLayer:d,rotate:f,scale:h}=t,{canvasRef:m}=n;Be(l);const v=b.useRef(null);function g(){l&&a&&a(sw(l,h))}function S(E){OH(E)||(Zt(!1,E.toString()),o&&o(E))}const y=b.useMemo(()=>l.getViewport({scale:h*i,rotation:f}),[i,l,f,h]),x=b.useMemo(()=>l.getViewport({scale:h,rotation:f}),[l,f,h]);b.useEffect(function(){if(!l)return;l.cleanup();const{current:T}=v;if(!T)return;T.width=y.width,T.height=y.height,T.style.width=`${Math.floor(x.width)}px`,T.style.height=`${Math.floor(x.height)}px`,T.style.visibility="hidden";const P={annotationMode:u?CA.ENABLE_FORMS:CA.ENABLE,canvasContext:T.getContext("2d",{alpha:!1}),viewport:y};r&&(P.background=r);const k=l.render(P),R=k;return k.promise.then(()=>{T.style.visibility="",g()}).catch(S),()=>bl(R)},[r,l,u,y,x]);const w=b.useCallback(()=>{const{current:E}=v;E&&(E.width=0,E.height=0)},[]);return b.useEffect(()=>w,[w]),p.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:dN(m,v),style:{display:"block",userSelect:"none"},children:d?p.jsx(YH,{}):null})}function QH(n){return"str"in n}function JH(){const n=wv();Be(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:i,page:o,pageIndex:a,pageNumber:l,rotate:u,scale:d}=n;Be(o);const[f,h]=Hu(),{value:m,error:v}=f,g=b.useRef(null);Zt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){m&&s&&s(m)}function y(){v&&(Zt(!1,v.toString()),t&&t(v))}b.useEffect(function(){h({type:"RESET"})},[o,h]),b.useEffect(function(){if(!o)return;const R=Jf(o.getTextContent()),M=R;return R.promise.then(L=>{h({type:"RESOLVE",value:L})}).catch(L=>{h({type:"REJECT",error:L})}),()=>bl(M)},[o,h]),b.useEffect(()=>{if(m!==void 0){if(m===!1){y();return}S()}},[m]);const x=b.useCallback(()=>{i&&i()},[i]),w=b.useCallback(k=>{Zt(!1,k.toString()),r&&r(k)},[r]);function E(){const k=g.current;k&&k.classList.add("selecting")}function T(){const k=g.current;k&&k.classList.remove("selecting")}const P=b.useMemo(()=>o.getViewport({scale:d,rotation:u}),[o,u,d]);return b.useLayoutEffect(function(){if(!o||!m)return;const{current:R}=g;if(!R)return;R.innerHTML="";const M=o.streamTextContent({includeMarkedContent:!0}),L={container:R,textContentSource:M,viewport:P},D=new sN(L),O=D;return D.render().then(()=>{const H=document.createElement("div");H.className="endOfContent",R.append(H);const I=R.querySelectorAll('[role="presentation"]');if(e){let $=0;m.items.forEach((j,F)=>{if(!QH(j))return;const N=I[$];if(!N)return;const B=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:F},j));N.innerHTML=B,$+=j.str&&j.hasEOL?2:1})}x()}).catch(w),()=>bl(O)},[e,w,x,o,a,l,m,P]),p.jsx("div",{className:Vu("react-pdf__Page__textContent","textLayer"),onMouseUp:T,onMouseDown:E,ref:g})}function ZH(){const n=uN(),e=wv();Be(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:i,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:u,pdf:d,renderForms:f,rotate:h,scale:m=1}=t;Be(d),Be(u),Be(r);const[v,g]=Hu(),{value:S,error:y}=v,x=b.useRef(null);Zt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function w(){S&&o&&o(S)}function E(){y&&(Zt(!1,y.toString()),i&&i(y))}b.useEffect(function(){g({type:"RESET"})},[g,u]),b.useEffect(function(){if(!u)return;const M=Jf(u.getAnnotations()),L=M;return M.promise.then(D=>{g({type:"RESOLVE",value:D})}).catch(D=>{g({type:"REJECT",error:D})}),()=>{bl(L)}},[g,u]),b.useEffect(()=>{if(S!==void 0){if(S===!1){E();return}w()}},[S]);function T(){l&&l()}function P(R){Zt(!1,`${R}`),a&&a(R)}const k=b.useMemo(()=>u.getViewport({scale:m,rotation:h}),[u,h,m]);return b.useEffect(function(){if(!d||!u||!r||!S)return;const{current:M}=x;if(!M)return;const L=k.clone({dontFlip:!0}),D={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:M,l10n:null,page:u,structTreeLayer:null,viewport:L},O={annotations:S,annotationStorage:d.annotationStorage,div:M,imageResourcesPath:s,linkService:r,page:u,renderForms:f,viewport:L};M.innerHTML="";try{new tN(D).render(O),T()}catch(H){P(H)}return()=>{}},[S,s,r,u,d,f,k]),p.jsx("div",{className:Vu("react-pdf__Page__annotations","annotationLayer"),ref:x})}var e8=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t};const _A=1;function t8(n){const e=uN(),t=Object.assign(Object.assign({},e),n),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:i,canvasRef:o,children:a,className:l,customRenderer:u,customTextRenderer:d,devicePixelRatio:f,error:h="Failed to load the page.",height:m,inputRef:v,loading:g="Loading page",noData:S="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:x,onGetStructTreeError:w,onGetStructTreeSuccess:E,onGetTextError:T,onGetTextSuccess:P,onLoadError:k,onLoadSuccess:R,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:L,onRenderError:D,onRenderSuccess:O,onRenderTextLayerError:H,onRenderTextLayerSuccess:I,pageIndex:$,pageNumber:j,pdf:F,registerPage:N,renderAnnotationLayer:B=!0,renderForms:q=!1,renderMode:U="canvas",renderTextLayer:K=!0,rotate:J,scale:se=_A,unregisterPage:Re,width:ee}=t,V=e8(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ce,Ee]=Hu(),{value:te,error:we}=ce,ve=b.useRef(null);Be(F);const ue=Xo(j)?j-1:$??null,Ce=j??(Xo($)?$+1:null),Ue=J??(te?te.rotate:null),Te=b.useMemo(()=>{if(!te)return null;let Rn=1;const Yo=se??_A;if(ee||m){const gs=te.getViewport({scale:1,rotation:Ue});ee?Rn=ee/gs.width:m&&(Rn=m/gs.height)}return Yo*Rn},[m,te,Ue,se,ee]);b.useEffect(function(){return()=>{Xo(ue)&&r&&Re&&Re(ue)}},[r,F,ue,Re]);function gn(){if(R){if(!te||!Te)return;R(sw(te,Te))}if(r&&N){if(!Xo(ue)||!ve.current)return;N(ue,ve.current)}}function Tr(){we&&(Zt(!1,we.toString()),k&&k(we))}b.useEffect(function(){Ee({type:"RESET"})},[Ee,F,ue]),b.useEffect(function(){if(!F||!Ce)return;const Yo=Jf(F.getPage(Ce)),gs=Yo;return Yo.promise.then(Ol=>{Ee({type:"RESOLVE",value:Ol})}).catch(Ol=>{Ee({type:"REJECT",error:Ol})}),()=>bl(gs)},[Ee,F,Ce]),b.useEffect(()=>{if(te!==void 0){if(te===!1){Tr();return}gn()}},[te,Te]);const vt=b.useMemo(()=>te&&Xo(ue)&&Ce&&Xo(Ue)&&Xo(Te)?{_className:s,canvasBackground:i,customTextRenderer:d,devicePixelRatio:f,onGetAnnotationsError:y,onGetAnnotationsSuccess:x,onGetStructTreeError:w,onGetStructTreeSuccess:E,onGetTextError:T,onGetTextSuccess:P,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:L,onRenderError:D,onRenderSuccess:O,onRenderTextLayerError:H,onRenderTextLayerSuccess:I,page:te,pageIndex:ue,pageNumber:Ce,renderForms:q,renderTextLayer:K,rotate:Ue,scale:Te}:null,[s,i,d,f,y,x,w,E,T,P,M,L,D,O,H,I,te,ue,Ce,q,K,Ue,Te]),_i=b.useMemo(()=>oN(V,()=>te&&(Te?sw(te,Te):void 0)),[V,te,Te]),jl=`${ue}@${Te}/${Ue}`;function bv(){switch(U){case"custom":return Be(u),p.jsx(u,{},`${jl}_custom`);case"none":return null;case"canvas":default:return p.jsx(XH,{canvasRef:o},`${jl}_canvas`)}}function Fl(){return K?p.jsx(JH,{},`${jl}_text`):null}function Sv(){return B?p.jsx(ZH,{},`${jl}_annotations`):null}function Zf(){return p.jsxs(hN.Provider,{value:vt,children:[bv(),Fl(),Sv(),a]})}function Ju(){return Ce?F===null||te===void 0||te===null?p.jsx(Sc,{type:"loading",children:typeof g=="function"?g():g}):F===!1||te===!1?p.jsx(Sc,{type:"error",children:typeof h=="function"?h():h}):Zf():p.jsx(Sc,{type:"no-data",children:typeof S=="function"?S():S})}return p.jsx("div",Object.assign({className:Vu(s,l),"data-page-number":Ce,ref:dN(v,ve),style:{"--scale-factor":`${Te}`,backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},_i,{children:Ju()}))}FH();zb.workerSrc="pdf.worker.mjs";zb.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${iN}/pdf.worker.min.js`;const n8=({pdfUrl:n,title:e,description:t})=>{const[s,r]=b.useState(null),[i,o]=b.useState(1),[a,l]=b.useState(1);function u({numPages:g}){r(g),o(1)}function d(g){o(S=>Math.min(Math.max(S+g,1),s||1))}function f(){d(-1)}function h(){d(1)}function m(){l(g=>Math.min(g+.2,2.5))}function v(){l(g=>Math.max(g-.2,.5))}return p.jsx("div",{className:"pdf-viewer",children:p.jsxs("div",{className:"bg-gray-100 p-4 mb-4 rounded-lg",children:[p.jsx("h2",{className:"text-xl font-bold mb-2",children:e}),t&&p.jsx("p",{className:"text-gray-700 mb-4",children:t}),p.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:p.jsx(VH,{file:n,onLoadSuccess:u,loading:p.jsx("div",{className:"flex justify-center py-10",children:"Loading PDF..."}),error:p.jsx("div",{className:"text-red-500",children:"Failed to load PDF document"}),children:p.jsx(t8,{pageNumber:i,renderTextLayer:!1,renderAnnotationLayer:!1,className:"mx-auto",scale:a})})}),p.jsxs("div",{className:"flex flex-wrap justify-between items-center mt-4 gap-2",children:[p.jsx("div",{children:p.jsxs("p",{children:["Page ",i," of ",s||"?"]})}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:v,className:"px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300","aria-label":"Zoom out",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})})}),p.jsx("button",{onClick:m,className:"px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300","aria-label":"Zoom in",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})})})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{disabled:i<=1,onClick:f,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Previous"}),p.jsx("button",{disabled:i>=(s||1),onClick:h,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Next"})]}),p.jsx("a",{href:n,download:!0,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Download PDF"})]})]})})},s8=[{id:1,title:"Mathematics Fundamentals",subject:"Mathematics",description:"Master the foundations of all Mathematics formulars from finding area to solving linear inequalities and all the other mathematical problems.",image:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:15},{id:2,title:"Biology,Physics and Chemistry Basics",subject:"Intergrated Science",description:"Explore the fascinating world of cells, organisms, and biological systems.",image:"https://images.unsplash.com/photo-1579154341088-3e03c82fced8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:15},{id:3,title:"Essay Writing Skills",subject:"English",description:"Develop strong writing skills and learn to craft compelling essays.",image:"https://images.unsplash.com/photo-1455390582262-044cdead277a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"All Levels",lessonCount:10},{id:4,title:"Distinction Social Studies",subject:"Social Studies",description:"Explore the fascinating world of the Ancient History, Community Service and the Natural Environments in Africa",image:"https://images.unsplash.com/photo-1603126857599-f6e157fa2fe6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:14},{id:5,title:"Agriculture and Nutrition Fundamentals",subject:"Agrinutrition",description:"Learn the Basics of Agriculture and Nutrition.Gain Knowledge on how to stay and eat healthy foods.Master Planting,weeding,pruning and harvesting of crops.",image:"https://images.unsplash.com/photo-1524661135-423995f22d0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Intermediate",lessonCount:18},{id:6,title:"Pre-technical Studies and Entreprenuership Skills",subject:"Pre-Technical Studies",description:"Master Entrepreneurial Skills,The foundation of Pre-Technical Studies ,Materials For Production and Many more.",image:"https://images.unsplash.com/photo-1608415295464-f26297ecdac4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Intermediate",lessonCount:16},{id:7,title:"Introduction to Coding",subject:"Computer Science",description:"Learn the basics of programming with easy-to-follow lessons and exercises.",image:"https://images.unsplash.com/photo-1504639725590-34d0984388bd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:12},{id:8,title:"Creative Arts and Sports",subject:"Creative Arts",description:"Master the art of Creativity and the various sports we offer. ",image:"https://images.unsplash.com/photo-1509228468518-180dd4864904?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Intermediate",lessonCount:15},{id:9,title:"Kiswahili Fundamentals",subject:"Kiswahili",description:"Strengthen your Kiswahili skills with comprehensive lessons and exercises.",image:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",level:"Beginner",lessonCount:10}],r8={"Mathematics Fundamentals":[{id:1,title:"finding Area",duration:"15 min",pdfUrl:"http://localhost:8080/pdfs/mathematics/Area-9.pdf",pdfDescription:"Complete guide to area calculation formulas for different shapes"},{id:2,title:"Solving linear inequalities",duration:"20 min",pdfUrl:"http://localhost:8080/pdfs/mathematics/A_Gentle_Reminder_-_Bianca_Sparacino.pdf",pdfDescription:"Step-by-step approach to solving linear inequalities"},{id:3,title:"Finding Mass",duration:"25 min"},{id:4,title:"Finding Volume",duration:"30 min"},{id:5,title:"Indices Questions",duration:"35 min"},{id:6,title:"Equations on a straight line",duration:"25 min"},{id:7,title:"Working with time",duration:"40 min"},{id:8,title:"Money",duration:"45 min"},{id:9,title:"Matrix",duration:"30 min"},{id:10,title:"Cube and cube roots",duration:"35 min"},{id:11,title:"jss maths intro formulars",duration:"40 min"},{id:12,title:"Integer questions",duration:"45 min"},{id:13,title:"Approximation and error",duration:"40 min"},{id:14,title:"Compound proportions and rates of work",duration:"30 min"},{id:15,title:"working with logarithms",duration:"30 min"}],"Biology,Physics and Chemistry Basics":[{id:1,title:"Introduction to Biology",duration:"20 min"},{id:2,title:"Cell Structure",duration:"30 min"},{id:3,title:"Cell Functions",duration:"25 min"},{id:4,title:"Cell Division",duration:"35 min"},{id:5,title:"DNA and Genetics",duration:"40 min"},{id:6,title:"Inheritance Patterns",duration:"30 min"},{id:7,title:"Body Systems Overview",duration:"25 min"},{id:8,title:"Digestive System",duration:"30 min"},{id:9,title:"Circulatory System",duration:"30 min"},{id:10,title:"Respiratory System",duration:"25 min"},{id:11,title:"Nervous System",duration:"35 min"},{id:12,title:"Immune System",duration:"30 min"},{id:13,title:"Endocrine System",duration:"25 min"},{id:14,title:"Musculoskeletal System",duration:"30 min"},{id:15,title:"Ecosystems and Environments",duration:"35 min"}]},i8=()=>{const{courseId:n,lessonId:e}=ET(),[t,s]=b.useState(null),[r,i]=b.useState(null),[o,a]=b.useState(null),[l,u]=b.useState(null),{isLoggedIn:d}=Rl();b.useEffect(()=>{if(n){const h=s8.find(m=>m.id===parseInt(n,10));if(s(h||null),h&&e){const m=r8[h.title]||[],v=m.findIndex(g=>g.id===parseInt(e,10));v!==-1?(i(m[v]),v>0?u(m[v-1]):u(null),v<m.length-1?a(m[v+1]):a(null)):(i(null),a(null),u(null))}}},[n,e]);const f=()=>{if(!d){di.error("Please login to track progress");return}di.success("Lesson marked as complete!"),o?window.location.href=`/course/${n}/lessons/${o.id}`:(window.location.href=`/course/${n}`,di.success("Course completed! "))};return!t||!r?p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(Ws,{}),p.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Lesson not found"}),p.jsx(ae,{to:`/course/${n}`,children:p.jsx(ke,{children:"Back to Course"})})]})}),p.jsx(Er,{})]}):p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(Ws,{}),p.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8",children:[p.jsx("div",{className:"mb-6",children:p.jsxs(ae,{to:`/course/${n}`,className:"text-blue-500 hover:underline flex items-center",children:[p.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to course"]})}),p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title}),p.jsxs("div",{className:"flex items-center text-gray-500",children:[p.jsx("span",{children:t.title}),p.jsx("span",{className:"mx-2",children:""}),p.jsxs("span",{children:["Lesson ",e," of ",t.lessonCount]}),p.jsx("span",{className:"mx-2",children:""}),p.jsx("span",{children:r.duration})]})]}),r.pdfUrl?p.jsx(n8,{pdfUrl:r.pdfUrl,title:r.title,description:r.pdfDescription}):p.jsx("div",{className:"bg-yellow-50 p-4 rounded border border-yellow-200",children:p.jsx("p",{children:"This lesson doesn't have a PDF document yet. Please check back later."})}),p.jsxs("div",{className:"mt-8 flex flex-wrap justify-between gap-4",children:[p.jsx("div",{children:l?p.jsx(ae,{to:`/course/${n}/lessons/${l.id}`,children:p.jsxs(ke,{variant:"outline",className:"flex items-center",children:[p.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Previous Lesson"]})}):p.jsx(ae,{to:`/course/${n}`,children:p.jsx(ke,{variant:"outline",children:"Back to course"})})}),p.jsxs("div",{className:"flex space-x-4",children:[d&&p.jsx(ke,{onClick:f,className:"bg-green-600 hover:bg-green-700",children:o?"Complete & Continue":"Mark as Completed"}),o&&p.jsx(ae,{to:`/course/${n}/lessons/${o.id}`,children:p.jsxs(ke,{className:"flex items-center",children:["Next Lesson",p.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]})]})]})]})},o8=()=>{const{user:n}=Rl();return p.jsx("div",{className:"bg-education-primary/10 py-8",children:p.jsxs("div",{className:"container-custom",children:[p.jsx("h1",{className:"text-3xl font-bold",children:"Student Dashboard"}),p.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",(n==null?void 0:n.name)||"Student","!"]})]})})},a8=({courses:n})=>p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Courses in Progress"}),n.map(e=>p.jsx(_r,{children:p.jsxs("div",{className:"sm:flex",children:[p.jsx("div",{className:"sm:w-1/4",children:p.jsx("img",{src:e.image,alt:e.title,className:"h-32 w-full object-cover sm:h-full rounded-t-md sm:rounded-l-md sm:rounded-tr-none"})}),p.jsxs("div",{className:"sm:w-3/4 p-6",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-sm font-medium text-education-primary",children:e.subject}),p.jsx("h3",{className:"text-lg font-semibold mt-1",children:e.title})]}),p.jsxs("span",{className:"bg-education-primary/10 text-education-primary text-sm px-3 py-1 rounded-full",children:[e.progress,"% Complete"]})]}),p.jsxs("div",{className:"mt-4",children:[p.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[p.jsx("span",{children:"Progress"}),p.jsxs("span",{children:[e.progress,"%"]})]}),p.jsx(xh,{value:e.progress,className:"h-2"})]}),p.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[p.jsxs("div",{className:"text-sm text-gray-500",children:["Last lesson: ",p.jsx("span",{className:"font-medium",children:e.lastLesson})]}),p.jsx(ae,{to:`/course/${e.id}`,children:p.jsx(ke,{variant:"outline",size:"sm",children:"Resume"})})]})]})]})},e.id))]}),l8=({courses:n})=>p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Recommended Courses"}),p.jsx(ae,{to:"/courses",className:"text-education-primary hover:underline",children:"View All"})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.map(e=>p.jsxs(_r,{className:"overflow-hidden hover:shadow-md transition-shadow",children:[p.jsx("img",{src:e.image,alt:e.title,className:"h-32 w-full object-cover"}),p.jsxs(Ci,{className:"p-4",children:[p.jsx("span",{className:"text-sm text-education-primary",children:e.subject}),p.jsx("h3",{className:"font-semibold",children:e.title})]}),p.jsx(Ml,{className:"p-4 pt-0",children:p.jsx(ae,{to:`/course/${e.id}`,className:"w-full",children:p.jsx(ke,{variant:"outline",className:"w-full",children:"View Course"})})})]},e.id))})]}),c8=({activities:n})=>p.jsxs(p.Fragment,{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Recent Activity"}),p.jsx(_r,{children:p.jsx(Ci,{className:"p-0",children:p.jsx("ul",{className:"divide-y",children:n.map(e=>p.jsxs("li",{className:"p-4 flex items-start",children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-4 ${e.type==="completed"?"bg-green-100 text-green-600":e.type==="started"?"bg-blue-100 text-blue-600":"bg-purple-100 text-purple-600"}`,children:e.type==="completed"?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.type==="started"?p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("p",{className:"font-medium",children:[e.type==="completed"&&"Completed lesson",e.type==="started"&&"Started lesson",e.type==="enrolled"&&"Enrolled in course"]}),p.jsx("span",{className:"text-sm text-gray-500",children:e.date})]}),p.jsxs("p",{className:"text-gray-700",children:[p.jsx("span",{className:"font-medium",children:e.course}),e.lesson&&` - ${e.lesson}`]})]})]},e.id))})})})]}),u8=()=>p.jsxs(_r,{children:[p.jsxs(Nl,{children:[p.jsx(Xu,{children:"Learning Stats"}),p.jsx(qf,{children:"Your learning achievements"})]}),p.jsx(Ci,{children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-blue-50 p-4 rounded-md text-center",children:[p.jsx("p",{className:"text-3xl font-bold text-education-primary",children:"3"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Courses in progress"})]}),p.jsxs("div",{className:"bg-green-50 p-4 rounded-md text-center",children:[p.jsx("p",{className:"text-3xl font-bold text-green-600",children:"42%"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Avg. completion"})]}),p.jsxs("div",{className:"bg-amber-50 p-4 rounded-md text-center",children:[p.jsx("p",{className:"text-3xl font-bold text-amber-600",children:"8"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Lessons completed"})]}),p.jsxs("div",{className:"bg-purple-50 p-4 rounded-md text-center",children:[p.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"4h"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Study time"})]})]})})]}),d8=()=>p.jsxs(_r,{children:[p.jsxs(Nl,{children:[p.jsx(Xu,{children:"Study Goals"}),p.jsx(qf,{children:"Track your learning goals"})]}),p.jsxs(Ci,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[p.jsx("span",{children:"Weekly study target"}),p.jsx("span",{children:"2h / 5h"})]}),p.jsx(xh,{value:40,className:"h-2"})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[p.jsx("span",{children:"Monthly courses"}),p.jsx("span",{children:"1 / 2"})]}),p.jsx(xh,{value:50,className:"h-2"})]})]}),p.jsx(Ml,{children:p.jsx(ke,{variant:"outline",className:"w-full",children:"Update Goals"})})]}),h8=()=>p.jsxs(_r,{children:[p.jsx(Nl,{children:p.jsx(Xu,{children:"Study Reminders"})}),p.jsxs(Ci,{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-md",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Algebra Quiz"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Tomorrow, 3:00 PM"})]}),p.jsx(ke,{variant:"ghost",size:"sm",children:"Edit"})]}),p.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-md",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Biology Lesson"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Friday, 4:30 PM"})]}),p.jsx(ke,{variant:"ghost",size:"sm",children:"Edit"})]})]}),p.jsx(Ml,{children:p.jsx(ke,{variant:"outline",className:"w-full",children:"Add Reminder"})})]}),f8=[{id:1,title:"Mathematics Fundamentals",subject:"Mathematics",image:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",progress:75,lastLesson:"Solving Simple Equations"},{id:2,title:"Biology: Cells & Systems",subject:"Science",image:"https://images.unsplash.com/photo-1579154341088-3e03c82fced8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",progress:40,lastLesson:"Cell Division"},{id:3,title:"Essay Writing Skills",subject:"English",image:"https://images.unsplash.com/photo-1455390582262-044cdead277a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",progress:20,lastLesson:"Introduction to Essay Structure"}],p8=[{id:4,title:"Chemistry Basics",subject:"Science",image:"https://images.unsplash.com/photo-1603126857599-f6e157fa2fe6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"},{id:5,title:"World Geography",subject:"Geography",image:"https://images.unsplash.com/photo-1524661135-423995f22d0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80"}],m8=[{id:1,type:"completed",course:"mathematics Fundamentals",lesson:"Working with Variables",date:"2 days ago"},{id:2,type:"started",course:"Biology: Cells & Systems",lesson:"Cell Division",date:"3 days ago"},{id:3,type:"enrolled",course:"Essay Writing Skills",lesson:"",date:"1 week ago"},{id:4,type:"completed",course:"Mathematics Fundamentals",lesson:"Introduction to Algebra",date:"1 week ago"}],g8=()=>{const{isLoggedIn:n,loading:e}=Rl(),[t,s]=b.useState("progress");return e?p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(Ws,{}),p.jsx("div",{className:"flex-grow container-custom py-8 flex items-center justify-center",children:p.jsx("div",{children:"Loading..."})}),p.jsx(Er,{})]}):n?p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(Ws,{}),p.jsx(o8,{}),p.jsx("main",{className:"flex-grow container-custom py-8",children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsxs(WP,{defaultValue:"progress",value:t,onValueChange:s,className:"mb-8",children:[p.jsxs(Cb,{children:[p.jsx(vh,{value:"progress",children:"My Progress"}),p.jsx(vh,{value:"activity",children:"Recent Activity"})]}),p.jsx(yh,{value:"progress",className:"mt-4",children:p.jsxs("div",{className:"space-y-6",children:[p.jsx(a8,{courses:f8}),p.jsx(l8,{courses:p8})]})}),p.jsx(yh,{value:"activity",className:"mt-4",children:p.jsx(c8,{activities:m8})})]})}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(u8,{}),p.jsx(d8,{}),p.jsx(h8,{})]})]})}),p.jsx(Er,{})]}):p.jsx(GF,{to:"/login"})},v8=()=>p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(Ws,{}),p.jsx("div",{className:"bg-education-primary/10 py-12",children:p.jsxs("div",{className:"container-custom",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-3",children:"About GradeGlow"}),p.jsx("p",{className:"text-gray-600",children:"Learn more about our education platform"})]})}),p.jsx("main",{className:"flex-grow container-custom py-12",children:p.jsxs("div",{className:"max-w-3xl mx-auto",children:[p.jsxs("section",{className:"mb-12",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Our Mission"}),p.jsx("p",{className:"text-gray-700 mb-4",children:"At GradeGlow, our mission is to provide accessible, high-quality education to grade 9 students worldwide. We believe that every student deserves access to engaging educational content that helps them succeed in their academic journey."}),p.jsx("p",{className:"text-gray-700",children:"Through our interactive platform, we aim to make learning enjoyable, personalized, and effective for all students, regardless of their background or learning style."})]}),p.jsxs("section",{className:"mb-12",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Our Approach"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2 text-education-primary",children:"Interactive Learning"}),p.jsx("p",{className:"text-gray-700",children:"Our courses feature interactive exercises, quizzes, and multimedia content to keep students engaged and motivated."})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2 text-education-primary",children:"Expert Teachers"}),p.jsx("p",{className:"text-gray-700",children:"All our course materials are developed by experienced educators who understand the needs of grade 9 students."})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2 text-education-primary",children:"Progress Tracking"}),p.jsx("p",{className:"text-gray-700",children:"Students can track their progress, identify strengths and weaknesses, and focus their study time effectively."})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2 text-education-primary",children:"Curriculum Aligned"}),p.jsx("p",{className:"text-gray-700",children:"Our courses are aligned with standard grade 9 curriculum requirements to ensure academic success."})]})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Contact Us"}),p.jsx("p",{className:"text-gray-700 mb-6",children:"Have questions about our platform or courses? We'd love to hear from you!"}),p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[p.jsxs("p",{className:"mb-2",children:[p.jsx("span",{className:"font-semibold",children:"Email:"})," info@gradeglowapp.com"]}),p.jsxs("p",{className:"mb-2",children:[p.jsx("span",{className:"font-semibold",children:"Phone:"})," (123) 456-7890"]}),p.jsxs("p",{children:[p.jsx("span",{className:"font-semibold",children:"Address:"})," 123 Learning Lane, Education City, EC 12345"]})]})]})]})}),p.jsx(Er,{})]}),y8=()=>{const n=kl();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:" Error 404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},x8=new sF,w8=()=>p.jsx(iF,{client:x8,children:p.jsx(Ij,{children:p.jsxs(aO,{children:[p.jsx(ND,{}),p.jsx(o2,{}),p.jsx(nO,{children:p.jsxs(KF,{children:[p.jsx(Xs,{path:"/",element:p.jsx(vO,{})}),p.jsx(Xs,{path:"/login",element:p.jsx(wO,{})}),p.jsx(Xs,{path:"/register",element:p.jsx(bO,{})}),p.jsx(Xs,{path:"/courses",element:p.jsx(G3,{})}),p.jsx(Xs,{path:"/course/:courseId",element:p.jsx(b4,{})}),p.jsx(Xs,{path:"/course/:courseId/lessons/:lessonId",element:p.jsx(i8,{})}),p.jsx(Xs,{path:"/dashboard",element:p.jsx(g8,{})}),p.jsx(Xs,{path:"/about",element:p.jsx(v8,{})}),p.jsx(Xs,{path:"*",element:p.jsx(y8,{})})]})})]})})});QC(document.getElementById("root")).render(p.jsx(w8,{}));
